{"version":3,"file":"index-985beecd.js","sources":["../../../multi-chart/node_modules/.pnpm/registry.npmjs.org/@polymer/polymer/3.3.1/node_modules/@polymer/polymer/lib/utils/boot.js","../../../multi-chart/node_modules/.pnpm/registry.npmjs.org/@polymer/polymer/3.3.1/node_modules/@polymer/polymer/lib/utils/mixin.js","../../../multi-chart/src/container/mixin/multi-register-mixin.js","../../../multi-chart/src/container/mixin/observe-resize-mixin.js","../../../multi-chart/src/helper/multi-registerable-mixin.js","../../../multi-chart/node_modules/.pnpm/registry.npmjs.org/d3-format/1.4.3/node_modules/d3-format/src/formatDecimal.js","../../../multi-chart/node_modules/.pnpm/registry.npmjs.org/d3-format/1.4.3/node_modules/d3-format/src/exponent.js","../../../multi-chart/node_modules/.pnpm/registry.npmjs.org/d3-format/1.4.3/node_modules/d3-format/src/formatSpecifier.js","../../../multi-chart/node_modules/.pnpm/registry.npmjs.org/d3-format/1.4.3/node_modules/d3-format/src/formatPrefixAuto.js","../../../multi-chart/node_modules/.pnpm/registry.npmjs.org/d3-format/1.4.3/node_modules/d3-format/src/formatRounded.js","../../../multi-chart/node_modules/.pnpm/registry.npmjs.org/d3-format/1.4.3/node_modules/d3-format/src/formatTypes.js","../../../multi-chart/node_modules/.pnpm/registry.npmjs.org/d3-format/1.4.3/node_modules/d3-format/src/identity.js","../../../multi-chart/node_modules/.pnpm/registry.npmjs.org/d3-format/1.4.3/node_modules/d3-format/src/locale.js","../../../multi-chart/node_modules/.pnpm/registry.npmjs.org/d3-format/1.4.3/node_modules/d3-format/src/defaultLocale.js","../../../multi-chart/node_modules/.pnpm/registry.npmjs.org/d3-format/1.4.3/node_modules/d3-format/src/formatGroup.js","../../../multi-chart/node_modules/.pnpm/registry.npmjs.org/d3-format/1.4.3/node_modules/d3-format/src/formatNumerals.js","../../../multi-chart/node_modules/.pnpm/registry.npmjs.org/d3-format/1.4.3/node_modules/d3-format/src/formatTrim.js","../../../multi-chart/node_modules/.pnpm/registry.npmjs.org/d3-format/1.4.3/node_modules/d3-format/src/precisionFixed.js","../../../multi-chart/node_modules/.pnpm/registry.npmjs.org/d3-format/1.4.3/node_modules/d3-format/src/precisionPrefix.js","../../../multi-chart/node_modules/.pnpm/registry.npmjs.org/d3-format/1.4.3/node_modules/d3-format/src/precisionRound.js","../../../multi-chart/node_modules/.pnpm/registry.npmjs.org/d3-time/1.1.0/node_modules/d3-time/src/interval.js","../../../multi-chart/node_modules/.pnpm/registry.npmjs.org/d3-time/1.1.0/node_modules/d3-time/src/millisecond.js","../../../multi-chart/node_modules/.pnpm/registry.npmjs.org/d3-time/1.1.0/node_modules/d3-time/src/duration.js","../../../multi-chart/node_modules/.pnpm/registry.npmjs.org/d3-time/1.1.0/node_modules/d3-time/src/second.js","../../../multi-chart/node_modules/.pnpm/registry.npmjs.org/d3-time/1.1.0/node_modules/d3-time/src/minute.js","../../../multi-chart/node_modules/.pnpm/registry.npmjs.org/d3-time/1.1.0/node_modules/d3-time/src/hour.js","../../../multi-chart/node_modules/.pnpm/registry.npmjs.org/d3-time/1.1.0/node_modules/d3-time/src/day.js","../../../multi-chart/node_modules/.pnpm/registry.npmjs.org/d3-time/1.1.0/node_modules/d3-time/src/week.js","../../../multi-chart/node_modules/.pnpm/registry.npmjs.org/d3-time/1.1.0/node_modules/d3-time/src/month.js","../../../multi-chart/node_modules/.pnpm/registry.npmjs.org/d3-time/1.1.0/node_modules/d3-time/src/year.js","../../../multi-chart/node_modules/.pnpm/registry.npmjs.org/d3-time/1.1.0/node_modules/d3-time/src/utcMinute.js","../../../multi-chart/node_modules/.pnpm/registry.npmjs.org/d3-time/1.1.0/node_modules/d3-time/src/utcHour.js","../../../multi-chart/node_modules/.pnpm/registry.npmjs.org/d3-time/1.1.0/node_modules/d3-time/src/utcDay.js","../../../multi-chart/node_modules/.pnpm/registry.npmjs.org/d3-time/1.1.0/node_modules/d3-time/src/utcWeek.js","../../../multi-chart/node_modules/.pnpm/registry.npmjs.org/d3-time/1.1.0/node_modules/d3-time/src/utcMonth.js","../../../multi-chart/node_modules/.pnpm/registry.npmjs.org/d3-time/1.1.0/node_modules/d3-time/src/utcYear.js","../../../multi-chart/node_modules/.pnpm/registry.npmjs.org/d3-time-format/2.2.3/node_modules/d3-time-format/src/locale.js","../../../multi-chart/node_modules/.pnpm/registry.npmjs.org/d3-time-format/2.2.3/node_modules/d3-time-format/src/defaultLocale.js","../../../multi-chart/src/helper/d3-format-mixin.js","../../../multi-chart/node_modules/.pnpm/registry.npmjs.org/d3-selection/1.4.1/node_modules/d3-selection/src/namespaces.js","../../../multi-chart/node_modules/.pnpm/registry.npmjs.org/d3-selection/1.4.1/node_modules/d3-selection/src/namespace.js","../../../multi-chart/node_modules/.pnpm/registry.npmjs.org/d3-selection/1.4.1/node_modules/d3-selection/src/creator.js","../../../multi-chart/node_modules/.pnpm/registry.npmjs.org/d3-selection/1.4.1/node_modules/d3-selection/src/selector.js","../../../multi-chart/node_modules/.pnpm/registry.npmjs.org/d3-selection/1.4.1/node_modules/d3-selection/src/selectorAll.js","../../../multi-chart/node_modules/.pnpm/registry.npmjs.org/d3-selection/1.4.1/node_modules/d3-selection/src/matcher.js","../../../multi-chart/node_modules/.pnpm/registry.npmjs.org/d3-selection/1.4.1/node_modules/d3-selection/src/selection/sparse.js","../../../multi-chart/node_modules/.pnpm/registry.npmjs.org/d3-selection/1.4.1/node_modules/d3-selection/src/selection/enter.js","../../../multi-chart/node_modules/.pnpm/registry.npmjs.org/d3-selection/1.4.1/node_modules/d3-selection/src/selection/data.js","../../../multi-chart/node_modules/.pnpm/registry.npmjs.org/d3-selection/1.4.1/node_modules/d3-selection/src/selection/sort.js","../../../multi-chart/node_modules/.pnpm/registry.npmjs.org/d3-selection/1.4.1/node_modules/d3-selection/src/selection/attr.js","../../../multi-chart/node_modules/.pnpm/registry.npmjs.org/d3-selection/1.4.1/node_modules/d3-selection/src/window.js","../../../multi-chart/node_modules/.pnpm/registry.npmjs.org/d3-selection/1.4.1/node_modules/d3-selection/src/selection/style.js","../../../multi-chart/node_modules/.pnpm/registry.npmjs.org/d3-selection/1.4.1/node_modules/d3-selection/src/selection/property.js","../../../multi-chart/node_modules/.pnpm/registry.npmjs.org/d3-selection/1.4.1/node_modules/d3-selection/src/selection/classed.js","../../../multi-chart/node_modules/.pnpm/registry.npmjs.org/d3-selection/1.4.1/node_modules/d3-selection/src/selection/text.js","../../../multi-chart/node_modules/.pnpm/registry.npmjs.org/d3-selection/1.4.1/node_modules/d3-selection/src/selection/html.js","../../../multi-chart/node_modules/.pnpm/registry.npmjs.org/d3-selection/1.4.1/node_modules/d3-selection/src/selection/raise.js","../../../multi-chart/node_modules/.pnpm/registry.npmjs.org/d3-selection/1.4.1/node_modules/d3-selection/src/selection/lower.js","../../../multi-chart/node_modules/.pnpm/registry.npmjs.org/d3-selection/1.4.1/node_modules/d3-selection/src/selection/insert.js","../../../multi-chart/node_modules/.pnpm/registry.npmjs.org/d3-selection/1.4.1/node_modules/d3-selection/src/selection/remove.js","../../../multi-chart/node_modules/.pnpm/registry.npmjs.org/d3-selection/1.4.1/node_modules/d3-selection/src/selection/clone.js","../../../multi-chart/node_modules/.pnpm/registry.npmjs.org/d3-selection/1.4.1/node_modules/d3-selection/src/selection/on.js","../../../multi-chart/node_modules/.pnpm/registry.npmjs.org/d3-selection/1.4.1/node_modules/d3-selection/src/selection/dispatch.js","../../../multi-chart/node_modules/.pnpm/registry.npmjs.org/d3-selection/1.4.1/node_modules/d3-selection/src/selection/index.js","../../../multi-chart/node_modules/.pnpm/registry.npmjs.org/d3-selection/1.4.1/node_modules/d3-selection/src/select.js","../../../multi-chart/node_modules/.pnpm/registry.npmjs.org/d3-selection/1.4.1/node_modules/d3-selection/src/sourceEvent.js","../../../multi-chart/node_modules/.pnpm/registry.npmjs.org/d3-selection/1.4.1/node_modules/d3-selection/src/point.js","../../../multi-chart/node_modules/.pnpm/registry.npmjs.org/d3-selection/1.4.1/node_modules/d3-selection/src/mouse.js","../../../multi-chart/node_modules/.pnpm/registry.npmjs.org/d3-selection/1.4.1/node_modules/d3-selection/src/touch.js","../../../multi-chart/node_modules/.pnpm/registry.npmjs.org/d3-selection/1.4.1/node_modules/d3-selection/src/selection/select.js","../../../multi-chart/node_modules/.pnpm/registry.npmjs.org/d3-selection/1.4.1/node_modules/d3-selection/src/selection/selectAll.js","../../../multi-chart/node_modules/.pnpm/registry.npmjs.org/d3-selection/1.4.1/node_modules/d3-selection/src/selection/filter.js","../../../multi-chart/node_modules/.pnpm/registry.npmjs.org/d3-selection/1.4.1/node_modules/d3-selection/src/constant.js","../../../multi-chart/node_modules/.pnpm/registry.npmjs.org/d3-selection/1.4.1/node_modules/d3-selection/src/selection/exit.js","../../../multi-chart/node_modules/.pnpm/registry.npmjs.org/d3-selection/1.4.1/node_modules/d3-selection/src/selection/join.js","../../../multi-chart/node_modules/.pnpm/registry.npmjs.org/d3-selection/1.4.1/node_modules/d3-selection/src/selection/merge.js","../../../multi-chart/node_modules/.pnpm/registry.npmjs.org/d3-selection/1.4.1/node_modules/d3-selection/src/selection/order.js","../../../multi-chart/node_modules/.pnpm/registry.npmjs.org/d3-selection/1.4.1/node_modules/d3-selection/src/selection/call.js","../../../multi-chart/node_modules/.pnpm/registry.npmjs.org/d3-selection/1.4.1/node_modules/d3-selection/src/selection/nodes.js","../../../multi-chart/node_modules/.pnpm/registry.npmjs.org/d3-selection/1.4.1/node_modules/d3-selection/src/selection/node.js","../../../multi-chart/node_modules/.pnpm/registry.npmjs.org/d3-selection/1.4.1/node_modules/d3-selection/src/selection/size.js","../../../multi-chart/node_modules/.pnpm/registry.npmjs.org/d3-selection/1.4.1/node_modules/d3-selection/src/selection/empty.js","../../../multi-chart/node_modules/.pnpm/registry.npmjs.org/d3-selection/1.4.1/node_modules/d3-selection/src/selection/each.js","../../../multi-chart/node_modules/.pnpm/registry.npmjs.org/d3-selection/1.4.1/node_modules/d3-selection/src/selection/append.js","../../../multi-chart/node_modules/.pnpm/registry.npmjs.org/d3-selection/1.4.1/node_modules/d3-selection/src/selection/datum.js","../../../multi-chart/src/helper/dispatch-svg-mixin.js","../../../multi-chart/node_modules/.pnpm/registry.npmjs.org/@polymer/polymer/3.3.1/node_modules/@polymer/polymer/lib/utils/case-map.js","../../../multi-chart/src/helper/utils.js","../../../multi-chart/src/helper/extend-property-mixin.js","../../../multi-chart/node_modules/.pnpm/registry.npmjs.org/lit-html/1.1.2/node_modules/lit-html/lib/directive.js","../../../multi-chart/node_modules/.pnpm/registry.npmjs.org/lit-html/1.1.2/node_modules/lit-html/lib/dom.js","../../../multi-chart/node_modules/.pnpm/registry.npmjs.org/lit-html/1.1.2/node_modules/lit-html/lib/part.js","../../../multi-chart/node_modules/.pnpm/registry.npmjs.org/lit-html/1.1.2/node_modules/lit-html/lib/template.js","../../../multi-chart/node_modules/.pnpm/registry.npmjs.org/lit-html/1.1.2/node_modules/lit-html/lib/template-instance.js","../../../multi-chart/node_modules/.pnpm/registry.npmjs.org/lit-html/1.1.2/node_modules/lit-html/lib/template-result.js","../../../multi-chart/node_modules/.pnpm/registry.npmjs.org/lit-html/1.1.2/node_modules/lit-html/lib/parts.js","../../../multi-chart/node_modules/.pnpm/registry.npmjs.org/lit-html/1.1.2/node_modules/lit-html/lib/default-template-processor.js","../../../multi-chart/node_modules/.pnpm/registry.npmjs.org/lit-html/1.1.2/node_modules/lit-html/lib/template-factory.js","../../../multi-chart/node_modules/.pnpm/registry.npmjs.org/lit-html/1.1.2/node_modules/lit-html/lib/render.js","../../../multi-chart/node_modules/.pnpm/registry.npmjs.org/lit-html/1.1.2/node_modules/lit-html/lit-html.js","../../../multi-chart/node_modules/.pnpm/registry.npmjs.org/lit-html/1.1.2/node_modules/lit-html/lib/modify-template.js","../../../multi-chart/node_modules/.pnpm/registry.npmjs.org/lit-html/1.1.2/node_modules/lit-html/lib/shady-render.js","../../../multi-chart/node_modules/.pnpm/registry.npmjs.org/lit-element/2.2.1/node_modules/lit-element/lib/updating-element.js","../../../multi-chart/node_modules/.pnpm/registry.npmjs.org/lit-element/2.2.1/node_modules/lit-element/lib/css-tag.js","../../../multi-chart/node_modules/.pnpm/registry.npmjs.org/lit-element/2.2.1/node_modules/lit-element/lit-element.js","../../../multi-chart/node_modules/.pnpm/registry.npmjs.org/d3-axis/1.0.12/node_modules/d3-axis/src/array.js","../../../multi-chart/node_modules/.pnpm/registry.npmjs.org/d3-axis/1.0.12/node_modules/d3-axis/src/identity.js","../../../multi-chart/node_modules/.pnpm/registry.npmjs.org/d3-axis/1.0.12/node_modules/d3-axis/src/axis.js","../../../multi-chart/src/d3-wrapper/d3-axis.js","../../../multi-chart/src/d3-wrapper/d3-transition.js","../../../multi-chart/node_modules/.pnpm/registry.npmjs.org/d3-array/2.4.0/node_modules/d3-array/src/ascending.js","../../../multi-chart/node_modules/.pnpm/registry.npmjs.org/d3-array/2.4.0/node_modules/d3-array/src/bisector.js","../../../multi-chart/node_modules/.pnpm/registry.npmjs.org/d3-array/2.4.0/node_modules/d3-array/src/bisect.js","../../../multi-chart/node_modules/.pnpm/registry.npmjs.org/d3-array/2.4.0/node_modules/d3-array/src/extent.js","../../../multi-chart/node_modules/.pnpm/registry.npmjs.org/d3-array/2.4.0/node_modules/d3-array/src/range.js","../../../multi-chart/node_modules/.pnpm/registry.npmjs.org/d3-array/2.4.0/node_modules/d3-array/src/ticks.js","../../../multi-chart/node_modules/.pnpm/registry.npmjs.org/d3-array/2.4.0/node_modules/d3-array/src/max.js","../../../multi-chart/node_modules/.pnpm/registry.npmjs.org/d3-array/2.4.0/node_modules/d3-array/src/min.js","../../../multi-chart/node_modules/.pnpm/registry.npmjs.org/d3-array/2.4.0/node_modules/d3-array/src/quickselect.js","../../../multi-chart/node_modules/.pnpm/registry.npmjs.org/d3-array/2.4.0/node_modules/d3-array/src/quantile.js","../../../multi-chart/node_modules/.pnpm/registry.npmjs.org/d3-array/2.4.0/node_modules/d3-array/src/number.js","../../../multi-chart/node_modules/.pnpm/registry.npmjs.org/d3-scale/3.2.1/node_modules/d3-scale/src/init.js","../../../multi-chart/node_modules/.pnpm/registry.npmjs.org/d3-scale/3.2.1/node_modules/d3-scale/src/ordinal.js","../../../multi-chart/node_modules/.pnpm/registry.npmjs.org/d3-scale/3.2.1/node_modules/d3-scale/src/band.js","../../../multi-chart/node_modules/.pnpm/registry.npmjs.org/d3-color/1.4.0/node_modules/d3-color/src/define.js","../../../multi-chart/node_modules/.pnpm/registry.npmjs.org/d3-color/1.4.0/node_modules/d3-color/src/color.js","../../../multi-chart/node_modules/.pnpm/registry.npmjs.org/d3-color/1.4.0/node_modules/d3-color/src/math.js","../../../multi-chart/node_modules/.pnpm/registry.npmjs.org/d3-color/1.4.0/node_modules/d3-color/src/cubehelix.js","../../../multi-chart/node_modules/.pnpm/registry.npmjs.org/d3-interpolate/1.4.0/node_modules/d3-interpolate/src/constant.js","../../../multi-chart/node_modules/.pnpm/registry.npmjs.org/d3-interpolate/1.4.0/node_modules/d3-interpolate/src/color.js","../../../multi-chart/node_modules/.pnpm/registry.npmjs.org/d3-interpolate/1.4.0/node_modules/d3-interpolate/src/rgb.js","../../../multi-chart/node_modules/.pnpm/registry.npmjs.org/d3-interpolate/1.4.0/node_modules/d3-interpolate/src/numberArray.js","../../../multi-chart/node_modules/.pnpm/registry.npmjs.org/d3-interpolate/1.4.0/node_modules/d3-interpolate/src/array.js","../../../multi-chart/node_modules/.pnpm/registry.npmjs.org/d3-interpolate/1.4.0/node_modules/d3-interpolate/src/date.js","../../../multi-chart/node_modules/.pnpm/registry.npmjs.org/d3-interpolate/1.4.0/node_modules/d3-interpolate/src/number.js","../../../multi-chart/node_modules/.pnpm/registry.npmjs.org/d3-interpolate/1.4.0/node_modules/d3-interpolate/src/object.js","../../../multi-chart/node_modules/.pnpm/registry.npmjs.org/d3-interpolate/1.4.0/node_modules/d3-interpolate/src/string.js","../../../multi-chart/node_modules/.pnpm/registry.npmjs.org/d3-interpolate/1.4.0/node_modules/d3-interpolate/src/value.js","../../../multi-chart/node_modules/.pnpm/registry.npmjs.org/d3-interpolate/1.4.0/node_modules/d3-interpolate/src/round.js","../../../multi-chart/node_modules/.pnpm/registry.npmjs.org/d3-interpolate/1.4.0/node_modules/d3-interpolate/src/transform/decompose.js","../../../multi-chart/node_modules/.pnpm/registry.npmjs.org/d3-interpolate/1.4.0/node_modules/d3-interpolate/src/transform/parse.js","../../../multi-chart/node_modules/.pnpm/registry.npmjs.org/d3-interpolate/1.4.0/node_modules/d3-interpolate/src/transform/index.js","../../../multi-chart/node_modules/.pnpm/registry.npmjs.org/d3-interpolate/1.4.0/node_modules/d3-interpolate/src/zoom.js","../../../multi-chart/node_modules/.pnpm/registry.npmjs.org/d3-interpolate/1.4.0/node_modules/d3-interpolate/src/cubehelix.js","../../../multi-chart/node_modules/.pnpm/registry.npmjs.org/d3-interpolate/1.4.0/node_modules/d3-interpolate/src/piecewise.js","../../../multi-chart/node_modules/.pnpm/registry.npmjs.org/d3-scale/3.2.1/node_modules/d3-scale/src/number.js","../../../multi-chart/node_modules/.pnpm/registry.npmjs.org/d3-scale/3.2.1/node_modules/d3-scale/src/continuous.js","../../../multi-chart/node_modules/.pnpm/registry.npmjs.org/d3-scale/3.2.1/node_modules/d3-scale/src/constant.js","../../../multi-chart/node_modules/.pnpm/registry.npmjs.org/d3-scale/3.2.1/node_modules/d3-scale/src/tickFormat.js","../../../multi-chart/node_modules/.pnpm/registry.npmjs.org/d3-scale/3.2.1/node_modules/d3-scale/src/linear.js","../../../multi-chart/node_modules/.pnpm/registry.npmjs.org/d3-scale/3.2.1/node_modules/d3-scale/src/nice.js","../../../multi-chart/node_modules/.pnpm/registry.npmjs.org/d3-scale/3.2.1/node_modules/d3-scale/src/log.js","../../../multi-chart/node_modules/.pnpm/registry.npmjs.org/d3-scale/3.2.1/node_modules/d3-scale/src/symlog.js","../../../multi-chart/node_modules/.pnpm/registry.npmjs.org/d3-scale/3.2.1/node_modules/d3-scale/src/pow.js","../../../multi-chart/node_modules/.pnpm/registry.npmjs.org/d3-scale/3.2.1/node_modules/d3-scale/src/radial.js","../../../multi-chart/node_modules/.pnpm/registry.npmjs.org/d3-scale/3.2.1/node_modules/d3-scale/src/time.js","../../../multi-chart/node_modules/.pnpm/registry.npmjs.org/d3-scale/3.2.1/node_modules/d3-scale/src/sequential.js","../../../multi-chart/node_modules/.pnpm/registry.npmjs.org/d3-scale/3.2.1/node_modules/d3-scale/src/diverging.js","../../../multi-chart/node_modules/.pnpm/registry.npmjs.org/d3-scale/3.2.1/node_modules/d3-scale/src/identity.js","../../../multi-chart/node_modules/.pnpm/registry.npmjs.org/d3-scale/3.2.1/node_modules/d3-scale/src/quantile.js","../../../multi-chart/node_modules/.pnpm/registry.npmjs.org/d3-scale/3.2.1/node_modules/d3-scale/src/quantize.js","../../../multi-chart/node_modules/.pnpm/registry.npmjs.org/d3-scale/3.2.1/node_modules/d3-scale/src/threshold.js","../../../multi-chart/node_modules/.pnpm/registry.npmjs.org/d3-scale/3.2.1/node_modules/d3-scale/src/utcTime.js","../../../multi-chart/node_modules/.pnpm/registry.npmjs.org/d3-scale/3.2.1/node_modules/d3-scale/src/sequentialQuantile.js","../../../multi-chart/src/d3-wrapper/d3-scale.js","../../../multi-chart/node_modules/.pnpm/registry.npmjs.org/d3-selection/1.0.2/node_modules/d3-selection/src/namespaces.js","../../../multi-chart/node_modules/.pnpm/registry.npmjs.org/d3-selection/1.0.2/node_modules/d3-selection/src/namespace.js","../../../multi-chart/node_modules/.pnpm/registry.npmjs.org/d3-selection/1.0.2/node_modules/d3-selection/src/creator.js","../../../multi-chart/node_modules/.pnpm/registry.npmjs.org/d3-selection/1.0.2/node_modules/d3-selection/src/matcher.js","../../../multi-chart/node_modules/.pnpm/registry.npmjs.org/d3-selection/1.0.2/node_modules/d3-selection/src/selection/on.js","../../../multi-chart/node_modules/.pnpm/registry.npmjs.org/d3-selection/1.0.2/node_modules/d3-selection/src/selector.js","../../../multi-chart/node_modules/.pnpm/registry.npmjs.org/d3-selection/1.0.2/node_modules/d3-selection/src/selectorAll.js","../../../multi-chart/node_modules/.pnpm/registry.npmjs.org/d3-selection/1.0.2/node_modules/d3-selection/src/selection/sparse.js","../../../multi-chart/node_modules/.pnpm/registry.npmjs.org/d3-selection/1.0.2/node_modules/d3-selection/src/selection/enter.js","../../../multi-chart/node_modules/.pnpm/registry.npmjs.org/d3-selection/1.0.2/node_modules/d3-selection/src/selection/data.js","../../../multi-chart/node_modules/.pnpm/registry.npmjs.org/d3-selection/1.0.2/node_modules/d3-selection/src/selection/sort.js","../../../multi-chart/node_modules/.pnpm/registry.npmjs.org/d3-selection/1.0.2/node_modules/d3-selection/src/selection/attr.js","../../../multi-chart/node_modules/.pnpm/registry.npmjs.org/d3-selection/1.0.2/node_modules/d3-selection/src/window.js","../../../multi-chart/node_modules/.pnpm/registry.npmjs.org/d3-selection/1.0.2/node_modules/d3-selection/src/selection/style.js","../../../multi-chart/node_modules/.pnpm/registry.npmjs.org/d3-selection/1.0.2/node_modules/d3-selection/src/selection/property.js","../../../multi-chart/node_modules/.pnpm/registry.npmjs.org/d3-selection/1.0.2/node_modules/d3-selection/src/selection/classed.js","../../../multi-chart/node_modules/.pnpm/registry.npmjs.org/d3-selection/1.0.2/node_modules/d3-selection/src/selection/text.js","../../../multi-chart/node_modules/.pnpm/registry.npmjs.org/d3-selection/1.0.2/node_modules/d3-selection/src/selection/html.js","../../../multi-chart/node_modules/.pnpm/registry.npmjs.org/d3-selection/1.0.2/node_modules/d3-selection/src/selection/raise.js","../../../multi-chart/node_modules/.pnpm/registry.npmjs.org/d3-selection/1.0.2/node_modules/d3-selection/src/selection/lower.js","../../../multi-chart/node_modules/.pnpm/registry.npmjs.org/d3-selection/1.0.2/node_modules/d3-selection/src/selection/insert.js","../../../multi-chart/node_modules/.pnpm/registry.npmjs.org/d3-selection/1.0.2/node_modules/d3-selection/src/selection/remove.js","../../../multi-chart/node_modules/.pnpm/registry.npmjs.org/d3-selection/1.0.2/node_modules/d3-selection/src/selection/dispatch.js","../../../multi-chart/node_modules/.pnpm/registry.npmjs.org/d3-selection/1.0.2/node_modules/d3-selection/src/selection/index.js","../../../multi-chart/node_modules/.pnpm/registry.npmjs.org/d3-format/1.0.2/node_modules/d3-format/src/formatPrefixAuto.js","../../../multi-chart/node_modules/.pnpm/registry.npmjs.org/d3-format/1.0.2/node_modules/d3-format/src/formatDecimal.js","../../../multi-chart/node_modules/.pnpm/registry.npmjs.org/d3-format/1.0.2/node_modules/d3-format/src/formatRounded.js","../../../multi-chart/node_modules/.pnpm/registry.npmjs.org/d3-selection/1.0.2/node_modules/d3-selection/src/selection/select.js","../../../multi-chart/node_modules/.pnpm/registry.npmjs.org/d3-selection/1.0.2/node_modules/d3-selection/src/selection/selectAll.js","../../../multi-chart/node_modules/.pnpm/registry.npmjs.org/d3-selection/1.0.2/node_modules/d3-selection/src/selection/filter.js","../../../multi-chart/node_modules/.pnpm/registry.npmjs.org/d3-selection/1.0.2/node_modules/d3-selection/src/constant.js","../../../multi-chart/node_modules/.pnpm/registry.npmjs.org/d3-selection/1.0.2/node_modules/d3-selection/src/selection/exit.js","../../../multi-chart/node_modules/.pnpm/registry.npmjs.org/d3-selection/1.0.2/node_modules/d3-selection/src/selection/merge.js","../../../multi-chart/node_modules/.pnpm/registry.npmjs.org/d3-selection/1.0.2/node_modules/d3-selection/src/selection/order.js","../../../multi-chart/node_modules/.pnpm/registry.npmjs.org/d3-selection/1.0.2/node_modules/d3-selection/src/selection/call.js","../../../multi-chart/node_modules/.pnpm/registry.npmjs.org/d3-selection/1.0.2/node_modules/d3-selection/src/selection/nodes.js","../../../multi-chart/node_modules/.pnpm/registry.npmjs.org/d3-selection/1.0.2/node_modules/d3-selection/src/selection/node.js","../../../multi-chart/node_modules/.pnpm/registry.npmjs.org/d3-selection/1.0.2/node_modules/d3-selection/src/selection/size.js","../../../multi-chart/node_modules/.pnpm/registry.npmjs.org/d3-selection/1.0.2/node_modules/d3-selection/src/selection/empty.js","../../../multi-chart/node_modules/.pnpm/registry.npmjs.org/d3-selection/1.0.2/node_modules/d3-selection/src/selection/each.js","../../../multi-chart/node_modules/.pnpm/registry.npmjs.org/d3-selection/1.0.2/node_modules/d3-selection/src/selection/append.js","../../../multi-chart/node_modules/.pnpm/registry.npmjs.org/d3-selection/1.0.2/node_modules/d3-selection/src/selection/datum.js","../../../multi-chart/node_modules/.pnpm/registry.npmjs.org/d3-format/1.0.2/node_modules/d3-format/src/formatTypes.js","../../../multi-chart/node_modules/.pnpm/registry.npmjs.org/d3-format/1.0.2/node_modules/d3-format/src/formatDefault.js","../../../multi-chart/node_modules/.pnpm/registry.npmjs.org/d3-format/1.0.2/node_modules/d3-format/src/formatSpecifier.js","../../../multi-chart/node_modules/.pnpm/registry.npmjs.org/d3-format/1.0.2/node_modules/d3-format/src/locale.js","../../../multi-chart/node_modules/.pnpm/registry.npmjs.org/d3-format/1.0.2/node_modules/d3-format/src/defaultLocale.js","../../../multi-chart/node_modules/.pnpm/registry.npmjs.org/d3-format/1.0.2/node_modules/d3-format/src/formatGroup.js","../../../multi-chart/node_modules/.pnpm/registry.npmjs.org/d3-format/1.0.2/node_modules/d3-format/src/exponent.js","../../../multi-chart/node_modules/.pnpm/registry.npmjs.org/d3-dispatch/1.0.1/node_modules/d3-dispatch/src/dispatch.js","../../../multi-chart/node_modules/.pnpm/registry.npmjs.org/d3-array/1.2.4/node_modules/d3-array/src/ascending.js","../../../multi-chart/node_modules/.pnpm/registry.npmjs.org/d3-array/1.2.4/node_modules/d3-array/src/bisect.js","../../../multi-chart/node_modules/.pnpm/registry.npmjs.org/d3-array/1.2.4/node_modules/d3-array/src/bisector.js","../../../multi-chart/node_modules/.pnpm/registry.npmjs.org/d3-array/1.2.4/node_modules/d3-array/src/ticks.js","../../../multi-chart/node_modules/.pnpm/registry.npmjs.org/d3-collection/1.0.7/node_modules/d3-collection/src/map.js","../../../multi-chart/node_modules/.pnpm/registry.npmjs.org/d3-collection/1.0.7/node_modules/d3-collection/src/set.js","../../../multi-chart/node_modules/.pnpm/registry.npmjs.org/d3-scale/1.0.3/node_modules/d3-scale/src/array.js","../../../multi-chart/node_modules/.pnpm/registry.npmjs.org/d3-scale/1.0.3/node_modules/d3-scale/src/number.js","../../../multi-chart/node_modules/.pnpm/registry.npmjs.org/d3-scale/1.0.3/node_modules/d3-scale/src/continuous.js","../../../multi-chart/node_modules/.pnpm/registry.npmjs.org/d3-scale/1.0.3/node_modules/d3-scale/src/constant.js","../../../multi-chart/node_modules/.pnpm/registry.npmjs.org/d3-scale/1.0.3/node_modules/d3-scale/src/linear.js","../../../multi-chart/node_modules/.pnpm/registry.npmjs.org/d3-scale/1.0.3/node_modules/d3-scale/src/tickFormat.js","../../../multi-chart/node_modules/.pnpm/registry.npmjs.org/d3-scale/1.0.3/node_modules/d3-scale/src/colors.js","../../../multi-chart/node_modules/.pnpm/registry.npmjs.org/d3-scale/1.0.3/node_modules/d3-scale/src/category10.js","../../../multi-chart/node_modules/.pnpm/registry.npmjs.org/d3-scale/1.0.3/node_modules/d3-scale/src/category20b.js","../../../multi-chart/node_modules/.pnpm/registry.npmjs.org/d3-scale/1.0.3/node_modules/d3-scale/src/category20c.js","../../../multi-chart/node_modules/.pnpm/registry.npmjs.org/d3-scale/1.0.3/node_modules/d3-scale/src/category20.js","../../../multi-chart/node_modules/.pnpm/registry.npmjs.org/d3-scale/1.0.3/node_modules/d3-scale/src/cubehelix.js","../../../multi-chart/node_modules/.pnpm/registry.npmjs.org/d3-scale/1.0.3/node_modules/d3-scale/src/rainbow.js","../../../multi-chart/node_modules/.pnpm/registry.npmjs.org/d3-scale/1.0.3/node_modules/d3-scale/src/viridis.js","../../../multi-chart/node_modules/.pnpm/registry.npmjs.org/d3-array/1.0.1/node_modules/d3-array/src/ascending.js","../../../multi-chart/node_modules/.pnpm/registry.npmjs.org/d3-array/1.0.1/node_modules/d3-array/src/bisector.js","../../../multi-chart/node_modules/.pnpm/registry.npmjs.org/d3-array/1.0.1/node_modules/d3-array/src/bisect.js","../../../multi-chart/node_modules/.pnpm/registry.npmjs.org/d3-array/1.0.1/node_modules/d3-array/src/max.js","../../../multi-chart/node_modules/.pnpm/registry.npmjs.org/d3-array/1.0.1/node_modules/d3-array/src/sum.js","../../../multi-chart/node_modules/.pnpm/github.com/christophe-g/d3-legend/bf7ba113d793f1bce3e291d799ec6545eb6e601a/node_modules/d3-svg-legend/indexRollupNext.js","../../../multi-chart/node_modules/.pnpm/registry.npmjs.org/d3-selection/1.0.2/node_modules/d3-selection/src/select.js","../../../multi-chart/src/d3-wrapper/d3-legend.js","../../../multi-chart/node_modules/.pnpm/registry.npmjs.org/d3-dispatch/1.0.6/node_modules/d3-dispatch/src/dispatch.js","../../../multi-chart/node_modules/.pnpm/registry.npmjs.org/d3-drag/1.2.5/node_modules/d3-drag/src/noevent.js","../../../multi-chart/node_modules/.pnpm/registry.npmjs.org/d3-drag/1.2.5/node_modules/d3-drag/src/nodrag.js","../../../multi-chart/node_modules/.pnpm/registry.npmjs.org/d3-timer/1.0.10/node_modules/d3-timer/src/timer.js","../../../multi-chart/node_modules/.pnpm/registry.npmjs.org/d3-timer/1.0.10/node_modules/d3-timer/src/timeout.js","../../../multi-chart/node_modules/.pnpm/registry.npmjs.org/d3-transition/1.3.2/node_modules/d3-transition/src/transition/schedule.js","../../../multi-chart/node_modules/.pnpm/registry.npmjs.org/d3-transition/1.3.2/node_modules/d3-transition/src/interrupt.js","../../../multi-chart/node_modules/.pnpm/registry.npmjs.org/d3-transition/1.3.2/node_modules/d3-transition/src/transition/tween.js","../../../multi-chart/node_modules/.pnpm/registry.npmjs.org/d3-transition/1.3.2/node_modules/d3-transition/src/transition/interpolate.js","../../../multi-chart/node_modules/.pnpm/registry.npmjs.org/d3-transition/1.3.2/node_modules/d3-transition/src/transition/attr.js","../../../multi-chart/node_modules/.pnpm/registry.npmjs.org/d3-transition/1.3.2/node_modules/d3-transition/src/transition/attrTween.js","../../../multi-chart/node_modules/.pnpm/registry.npmjs.org/d3-transition/1.3.2/node_modules/d3-transition/src/transition/delay.js","../../../multi-chart/node_modules/.pnpm/registry.npmjs.org/d3-transition/1.3.2/node_modules/d3-transition/src/transition/duration.js","../../../multi-chart/node_modules/.pnpm/registry.npmjs.org/d3-transition/1.3.2/node_modules/d3-transition/src/transition/ease.js","../../../multi-chart/node_modules/.pnpm/registry.npmjs.org/d3-transition/1.3.2/node_modules/d3-transition/src/transition/on.js","../../../multi-chart/node_modules/.pnpm/registry.npmjs.org/d3-transition/1.3.2/node_modules/d3-transition/src/transition/selection.js","../../../multi-chart/node_modules/.pnpm/registry.npmjs.org/d3-transition/1.3.2/node_modules/d3-transition/src/transition/style.js","../../../multi-chart/node_modules/.pnpm/registry.npmjs.org/d3-transition/1.3.2/node_modules/d3-transition/src/transition/styleTween.js","../../../multi-chart/node_modules/.pnpm/registry.npmjs.org/d3-transition/1.3.2/node_modules/d3-transition/src/transition/textTween.js","../../../multi-chart/node_modules/.pnpm/registry.npmjs.org/d3-transition/1.3.2/node_modules/d3-transition/src/transition/index.js","../../../multi-chart/node_modules/.pnpm/registry.npmjs.org/d3-transition/1.3.2/node_modules/d3-transition/src/transition/select.js","../../../multi-chart/node_modules/.pnpm/registry.npmjs.org/d3-transition/1.3.2/node_modules/d3-transition/src/transition/selectAll.js","../../../multi-chart/node_modules/.pnpm/registry.npmjs.org/d3-transition/1.3.2/node_modules/d3-transition/src/transition/filter.js","../../../multi-chart/node_modules/.pnpm/registry.npmjs.org/d3-transition/1.3.2/node_modules/d3-transition/src/transition/merge.js","../../../multi-chart/node_modules/.pnpm/registry.npmjs.org/d3-transition/1.3.2/node_modules/d3-transition/src/transition/transition.js","../../../multi-chart/node_modules/.pnpm/registry.npmjs.org/d3-transition/1.3.2/node_modules/d3-transition/src/transition/text.js","../../../multi-chart/node_modules/.pnpm/registry.npmjs.org/d3-transition/1.3.2/node_modules/d3-transition/src/transition/remove.js","../../../multi-chart/node_modules/.pnpm/registry.npmjs.org/d3-transition/1.3.2/node_modules/d3-transition/src/transition/end.js","../../../multi-chart/node_modules/.pnpm/registry.npmjs.org/d3-transition/1.3.2/node_modules/d3-transition/src/selection/transition.js","../../../multi-chart/node_modules/.pnpm/registry.npmjs.org/d3-ease/1.0.6/node_modules/d3-ease/src/cubic.js","../../../multi-chart/node_modules/.pnpm/registry.npmjs.org/d3-brush/1.1.5/node_modules/d3-brush/src/constant.js","../../../multi-chart/node_modules/.pnpm/registry.npmjs.org/d3-brush/1.1.5/node_modules/d3-brush/src/event.js","../../../multi-chart/node_modules/.pnpm/registry.npmjs.org/d3-brush/1.1.5/node_modules/d3-brush/src/noevent.js","../../../multi-chart/node_modules/.pnpm/registry.npmjs.org/d3-transition/1.3.2/node_modules/d3-transition/src/selection/index.js","../../../multi-chart/node_modules/.pnpm/registry.npmjs.org/d3-transition/1.3.2/node_modules/d3-transition/src/selection/interrupt.js","../../../multi-chart/node_modules/.pnpm/registry.npmjs.org/d3-brush/1.1.5/node_modules/d3-brush/src/brush.js","../../../multi-chart/src/d3-wrapper/d3-brush.js","../../../multi-chart/node_modules/.pnpm/registry.npmjs.org/@preignition/preignition-mixin/1.8.4/node_modules/@preignition/preignition-mixin/src/selectShadow.js","../../../multi-chart/node_modules/.pnpm/registry.npmjs.org/@preignition/preignition-mixin/1.8.4/node_modules/@preignition/preignition-mixin/src/doNotSetUndefinedValue.js","../../../multi-chart/node_modules/.pnpm/registry.npmjs.org/@preignition/preignition-mixin/1.8.4/node_modules/@preignition/preignition-mixin/src/selectMixin.js","../../../multi-chart/node_modules/.pnpm/registry.npmjs.org/@preignition/preignition-mixin/1.8.4/node_modules/@preignition/preignition-mixin/src/defaultValueMixin.js","../../../multi-chart/node_modules/.pnpm/registry.npmjs.org/@preignition/preignition-mixin/1.8.4/node_modules/@preignition/preignition-mixin/src/relayToMixin.js","../../../multi-chart/node_modules/.pnpm/registry.npmjs.org/@preignition/preignition-mixin/1.8.4/node_modules/@preignition/preignition-mixin/src/cacheIdMixin.js","../../../multi-chart/node_modules/.pnpm/registry.npmjs.org/@polymer/polymer/3.3.1/node_modules/@polymer/polymer/lib/utils/async.js","../../../multi-chart/node_modules/.pnpm/registry.npmjs.org/@polymer/polymer/3.3.1/node_modules/@polymer/polymer/lib/utils/debounce.js","../../../multi-chart/src/drawable/mixin/draw-mixin.js","../../../multi-chart/node_modules/.pnpm/registry.npmjs.org/@morbidick/lit-element-notify/1.0.2_lit-element@2.2.1+lit-html@1.1.2/node_modules/@morbidick/lit-element-notify/notify.js","../../../multi-chart/src/base-class.js","../../../multi-chart/node_modules/.pnpm/registry.npmjs.org/d3-scale-chromatic/1.5.0/node_modules/d3-scale-chromatic/src/categorical/category10.js","../../../multi-chart/node_modules/.pnpm/registry.npmjs.org/d3-scale-chromatic/1.5.0/node_modules/d3-scale-chromatic/src/colors.js","../../../multi-chart/src/drawable/multi-drawable.js","../../../multi-chart/src/drawable/properties/axis.js","../../../multi-chart/src/drawable/multi-axis.js","../../../multi-chart/node_modules/.pnpm/registry.npmjs.org/d3-selection-multi/1.0.1/node_modules/d3-selection-multi/src/selection/attrs.js","../../../multi-chart/node_modules/.pnpm/registry.npmjs.org/d3-selection-multi/1.0.1/node_modules/d3-selection-multi/src/selection/styles.js","../../../multi-chart/node_modules/.pnpm/registry.npmjs.org/d3-selection-multi/1.0.1/node_modules/d3-selection-multi/src/selection/properties.js","../../../multi-chart/node_modules/.pnpm/registry.npmjs.org/d3-selection-multi/1.0.1/node_modules/d3-selection-multi/src/transition/attrs.js","../../../multi-chart/node_modules/.pnpm/registry.npmjs.org/d3-selection-multi/1.0.1/node_modules/d3-selection-multi/src/transition/styles.js","../../../multi-chart/node_modules/.pnpm/registry.npmjs.org/d3-selection-multi/1.0.1/node_modules/d3-selection-multi/index.js","../../../multi-chart/src/drawable/multi-radar-axes.js","../../../multi-chart/src/drawable/mixin/drawable-serie-mixin.js","../../../multi-chart/src/drawable/mixin/drawable-shaper-mixin.js","../../../multi-chart/node_modules/.pnpm/registry.npmjs.org/d3-path/1.0.9/node_modules/d3-path/src/path.js","../../../multi-chart/node_modules/.pnpm/registry.npmjs.org/d3-shape/1.3.7/node_modules/d3-shape/src/constant.js","../../../multi-chart/node_modules/.pnpm/registry.npmjs.org/d3-shape/1.3.7/node_modules/d3-shape/src/math.js","../../../multi-chart/node_modules/.pnpm/registry.npmjs.org/d3-shape/1.3.7/node_modules/d3-shape/src/arc.js","../../../multi-chart/node_modules/.pnpm/registry.npmjs.org/d3-shape/1.3.7/node_modules/d3-shape/src/curve/linear.js","../../../multi-chart/node_modules/.pnpm/registry.npmjs.org/d3-shape/1.3.7/node_modules/d3-shape/src/point.js","../../../multi-chart/node_modules/.pnpm/registry.npmjs.org/d3-shape/1.3.7/node_modules/d3-shape/src/line.js","../../../multi-chart/node_modules/.pnpm/registry.npmjs.org/d3-shape/1.3.7/node_modules/d3-shape/src/area.js","../../../multi-chart/node_modules/.pnpm/registry.npmjs.org/d3-shape/1.3.7/node_modules/d3-shape/src/descending.js","../../../multi-chart/node_modules/.pnpm/registry.npmjs.org/d3-shape/1.3.7/node_modules/d3-shape/src/identity.js","../../../multi-chart/node_modules/.pnpm/registry.npmjs.org/d3-shape/1.3.7/node_modules/d3-shape/src/curve/radial.js","../../../multi-chart/node_modules/.pnpm/registry.npmjs.org/d3-shape/1.3.7/node_modules/d3-shape/src/lineRadial.js","../../../multi-chart/node_modules/.pnpm/registry.npmjs.org/d3-shape/1.3.7/node_modules/d3-shape/src/areaRadial.js","../../../multi-chart/node_modules/.pnpm/registry.npmjs.org/d3-shape/1.3.7/node_modules/d3-shape/src/pointRadial.js","../../../multi-chart/node_modules/.pnpm/registry.npmjs.org/d3-shape/1.3.7/node_modules/d3-shape/src/array.js","../../../multi-chart/node_modules/.pnpm/registry.npmjs.org/d3-shape/1.3.7/node_modules/d3-shape/src/link/index.js","../../../multi-chart/node_modules/.pnpm/registry.npmjs.org/d3-shape/1.3.7/node_modules/d3-shape/src/symbol/circle.js","../../../multi-chart/node_modules/.pnpm/registry.npmjs.org/d3-shape/1.3.7/node_modules/d3-shape/src/symbol/cross.js","../../../multi-chart/node_modules/.pnpm/registry.npmjs.org/d3-shape/1.3.7/node_modules/d3-shape/src/symbol/diamond.js","../../../multi-chart/node_modules/.pnpm/registry.npmjs.org/d3-shape/1.3.7/node_modules/d3-shape/src/symbol/star.js","../../../multi-chart/node_modules/.pnpm/registry.npmjs.org/d3-shape/1.3.7/node_modules/d3-shape/src/symbol/square.js","../../../multi-chart/node_modules/.pnpm/registry.npmjs.org/d3-shape/1.3.7/node_modules/d3-shape/src/symbol/triangle.js","../../../multi-chart/node_modules/.pnpm/registry.npmjs.org/d3-shape/1.3.7/node_modules/d3-shape/src/symbol/wye.js","../../../multi-chart/node_modules/.pnpm/registry.npmjs.org/d3-shape/1.3.7/node_modules/d3-shape/src/symbol.js","../../../multi-chart/node_modules/.pnpm/registry.npmjs.org/d3-shape/1.3.7/node_modules/d3-shape/src/noop.js","../../../multi-chart/node_modules/.pnpm/registry.npmjs.org/d3-shape/1.3.7/node_modules/d3-shape/src/curve/basis.js","../../../multi-chart/node_modules/.pnpm/registry.npmjs.org/d3-shape/1.3.7/node_modules/d3-shape/src/curve/basisClosed.js","../../../multi-chart/node_modules/.pnpm/registry.npmjs.org/d3-shape/1.3.7/node_modules/d3-shape/src/curve/basisOpen.js","../../../multi-chart/node_modules/.pnpm/registry.npmjs.org/d3-shape/1.3.7/node_modules/d3-shape/src/curve/bundle.js","../../../multi-chart/node_modules/.pnpm/registry.npmjs.org/d3-shape/1.3.7/node_modules/d3-shape/src/curve/cardinal.js","../../../multi-chart/node_modules/.pnpm/registry.npmjs.org/d3-shape/1.3.7/node_modules/d3-shape/src/curve/cardinalClosed.js","../../../multi-chart/node_modules/.pnpm/registry.npmjs.org/d3-shape/1.3.7/node_modules/d3-shape/src/curve/cardinalOpen.js","../../../multi-chart/node_modules/.pnpm/registry.npmjs.org/d3-shape/1.3.7/node_modules/d3-shape/src/curve/catmullRom.js","../../../multi-chart/node_modules/.pnpm/registry.npmjs.org/d3-shape/1.3.7/node_modules/d3-shape/src/curve/catmullRomClosed.js","../../../multi-chart/node_modules/.pnpm/registry.npmjs.org/d3-shape/1.3.7/node_modules/d3-shape/src/curve/catmullRomOpen.js","../../../multi-chart/node_modules/.pnpm/registry.npmjs.org/d3-shape/1.3.7/node_modules/d3-shape/src/curve/linearClosed.js","../../../multi-chart/node_modules/.pnpm/registry.npmjs.org/d3-shape/1.3.7/node_modules/d3-shape/src/curve/monotone.js","../../../multi-chart/node_modules/.pnpm/registry.npmjs.org/d3-shape/1.3.7/node_modules/d3-shape/src/curve/natural.js","../../../multi-chart/node_modules/.pnpm/registry.npmjs.org/d3-shape/1.3.7/node_modules/d3-shape/src/curve/step.js","../../../multi-chart/node_modules/.pnpm/registry.npmjs.org/d3-shape/1.3.7/node_modules/d3-shape/src/offset/none.js","../../../multi-chart/node_modules/.pnpm/registry.npmjs.org/d3-shape/1.3.7/node_modules/d3-shape/src/order/none.js","../../../multi-chart/node_modules/.pnpm/registry.npmjs.org/d3-shape/1.3.7/node_modules/d3-shape/src/stack.js","../../../multi-chart/node_modules/.pnpm/registry.npmjs.org/d3-shape/1.3.7/node_modules/d3-shape/src/order/appearance.js","../../../multi-chart/node_modules/.pnpm/registry.npmjs.org/d3-shape/1.3.7/node_modules/d3-shape/src/order/ascending.js","../../../multi-chart/node_modules/.pnpm/registry.npmjs.org/d3-shape/1.3.7/node_modules/d3-shape/src/pie.js","../../../multi-chart/node_modules/.pnpm/registry.npmjs.org/d3-shape/1.3.7/node_modules/d3-shape/src/offset/expand.js","../../../multi-chart/node_modules/.pnpm/registry.npmjs.org/d3-shape/1.3.7/node_modules/d3-shape/src/offset/diverging.js","../../../multi-chart/node_modules/.pnpm/registry.npmjs.org/d3-shape/1.3.7/node_modules/d3-shape/src/offset/silhouette.js","../../../multi-chart/node_modules/.pnpm/registry.npmjs.org/d3-shape/1.3.7/node_modules/d3-shape/src/offset/wiggle.js","../../../multi-chart/node_modules/.pnpm/registry.npmjs.org/d3-shape/1.3.7/node_modules/d3-shape/src/order/descending.js","../../../multi-chart/node_modules/.pnpm/registry.npmjs.org/d3-shape/1.3.7/node_modules/d3-shape/src/order/insideOut.js","../../../multi-chart/node_modules/.pnpm/registry.npmjs.org/d3-shape/1.3.7/node_modules/d3-shape/src/order/reverse.js","../../../multi-chart/src/d3-wrapper/d3-shape.js","../../../multi-chart/src/drawable/multi-drawable-radar.js","../../../multi-chart/src/helper/multi-accessor.js","../../../multi-chart/src/drawable/multi-drawable-pie.js","../../../multi-chart/src/drawable/multi-drawable-line.js","../../../multi-chart/src/drawable/multi-drawable-line-path.js","../../../multi-chart/src/drawable/multi-drawable-bubble.js","../../../multi-chart/src/drawable/multi-drawable-bar.js","../../../multi-chart/src/helper/accessor.js","../../../multi-chart/src/container/mixin/multi-data-mixin.js","../../../multi-chart/src/container/properties/zoomable.js","../../../multi-chart/node_modules/.pnpm/registry.npmjs.org/d3-zoom/1.8.3/node_modules/d3-zoom/src/constant.js","../../../multi-chart/node_modules/.pnpm/registry.npmjs.org/d3-zoom/1.8.3/node_modules/d3-zoom/src/event.js","../../../multi-chart/node_modules/.pnpm/registry.npmjs.org/d3-zoom/1.8.3/node_modules/d3-zoom/src/transform.js","../../../multi-chart/node_modules/.pnpm/registry.npmjs.org/d3-zoom/1.8.3/node_modules/d3-zoom/src/noevent.js","../../../multi-chart/node_modules/.pnpm/registry.npmjs.org/d3-zoom/1.8.3/node_modules/d3-zoom/src/zoom.js","../../../multi-chart/src/container/mixin/zoomable-mixin.js","../../../multi-chart/src/container/pattern-template.js","../../../multi-chart/src/container/properties/data-group.js","../../../multi-chart/src/container/multi-container.js","../../../multi-chart/src/container/mixin/scale-render-mixin.js","../../../multi-chart/src/container/properties/container-axis.js","../../../multi-chart/src/container/multi-container-axis.js","../../../multi-chart/src/container/multi-container-radar.js","../../../multi-chart/src/helper/multi-highlight-mixin.js","../../../multi-chart/src/container/multi-container-layer.js","../../../multi-chart/src/container/multi-data-group.js","../../../multi-chart/src/chart/multi-chart-pie.js","../../../multi-chart/src/chart/multi-chart-line.js","../../../multi-chart/src/container/properties/min-max.js","../../../multi-chart/src/chart/multi-chart-bubble.js","../../../multi-chart/src/chart/multi-chart-bar.js","../../../multi-chart/src/chart/multi-chart-radar.js","../../../multi-chart/src/helper/d3-format.js","../../../multi-chart/node_modules/.pnpm/registry.npmjs.org/d3-fetch/1.1.2/node_modules/d3-fetch/src/blob.js","../../../multi-chart/node_modules/.pnpm/registry.npmjs.org/d3-fetch/1.1.2/node_modules/d3-fetch/src/buffer.js","../../../multi-chart/node_modules/.pnpm/registry.npmjs.org/d3-dsv/1.2.0/node_modules/d3-dsv/src/dsv.js","../../../multi-chart/node_modules/.pnpm/registry.npmjs.org/d3-dsv/1.2.0/node_modules/d3-dsv/src/csv.js","../../../multi-chart/node_modules/.pnpm/registry.npmjs.org/d3-dsv/1.2.0/node_modules/d3-dsv/src/tsv.js","../../../multi-chart/node_modules/.pnpm/registry.npmjs.org/d3-fetch/1.1.2/node_modules/d3-fetch/src/text.js","../../../multi-chart/node_modules/.pnpm/registry.npmjs.org/d3-fetch/1.1.2/node_modules/d3-fetch/src/dsv.js","../../../multi-chart/node_modules/.pnpm/registry.npmjs.org/d3-fetch/1.1.2/node_modules/d3-fetch/src/json.js","../../../multi-chart/node_modules/.pnpm/registry.npmjs.org/d3-fetch/1.1.2/node_modules/d3-fetch/src/xml.js","../../../multi-chart/node_modules/.pnpm/registry.npmjs.org/d3-fetch/1.1.2/node_modules/d3-fetch/src/image.js","../../../multi-chart/src/helper/d3-fetch.js","../../../multi-chart/src/helper/multi-serie.js","../../../multi-chart/src/helper/track-hover-mixin.js","../../../multi-chart/src/helper/multi-legend.js","../../../multi-chart/src/helper/multi-select.js","../../../multi-chart/node_modules/.pnpm/registry.npmjs.org/d3-selection/1.4.1/node_modules/d3-selection/src/selectAll.js","../../../multi-chart/src/helper/multi-brush.js","../../../multi-chart/src/index.js","../../../multi-chart/src/prefix.js","../../../multi-chart/elements/d3-axis.js","../../../multi-chart/elements/d3-legend.js","../../../multi-chart/elements/d3-shape-line.js","../../../multi-chart/elements/d3-shape-line-radial.js","../../../multi-chart/elements/multi-accessor.js","../../../multi-chart/elements/multi-chart-bubble.js","../../../multi-chart/elements/multi-container.js","../../../multi-chart/elements/multi-drawable-bubble.js","../../../multi-chart/elements/multi-legend.js","../../../multi-chart/elements/d3-brush.js","../../../multi-chart/elements/d3-scale.js","../../../multi-chart/elements/d3-shape-pie.js","../../../multi-chart/elements/multi-axis.js","../../../multi-chart/elements/multi-radar-axes.js","../../../multi-chart/elements/multi-drawable-radar.js","../../../multi-chart/elements/multi-chart-line.js","../../../multi-chart/elements/multi-chart-radar.js","../../../multi-chart/elements/multi-container-layer.js","../../../multi-chart/elements/multi-drawable-line.js","../../../multi-chart/elements/multi-select.js","../../../multi-chart/elements/d3-fetch.js","../../../multi-chart/elements/d3-shape-arc.js","../../../multi-chart/elements/d3-shape-stack.js","../../../multi-chart/elements/multi-brush.js","../../../multi-chart/elements/multi-chart-pie.js","../../../multi-chart/elements/multi-data-group.js","../../../multi-chart/elements/multi-drawable-line-path.js","../../../multi-chart/elements/multi-serie.js","../../../multi-chart/elements/d3-format.js","../../../multi-chart/elements/d3-shape-area.js","../../../multi-chart/elements/d3-transition.js","../../../multi-chart/elements/multi-chart-bar.js","../../../multi-chart/elements/multi-container-axis.js","../../../multi-chart/elements/multi-container-radar.js","../../../multi-chart/elements/multi-drawable-bar.js","../../../multi-chart/elements/multi-drawable-pie.js"],"sourcesContent":["/**\n@license\nCopyright (c) 2017 The Polymer Project Authors. All rights reserved.\nThis code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt\nThe complete set of authors may be found at http://polymer.github.io/AUTHORS.txt\nThe complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt\nCode distributed by Google as part of the polymer project is also\nsubject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt\n*/\n\n/* eslint-disable no-unused-vars */\n/**\n * When using Closure Compiler, JSCompiler_renameProperty(property, object) is replaced by the munged name for object[property]\n * We cannot alias this function, so we have to use a small shim that has the same behavior when not compiling.\n *\n * @param {string} prop Property name\n * @param {?Object} obj Reference object\n * @return {string} Potentially renamed property name\n */\nwindow.JSCompiler_renameProperty = function(prop, obj) {\n  return prop;\n};\n/* eslint-enable */\n\nexport {};\n","/**\n@license\nCopyright (c) 2017 The Polymer Project Authors. All rights reserved.\nThis code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt\nThe complete set of authors may be found at http://polymer.github.io/AUTHORS.txt\nThe complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt\nCode distributed by Google as part of the polymer project is also\nsubject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt\n*/\nimport './boot.js';\n\n// unique global id for deduping mixins.\nlet dedupeId = 0;\n\n/**\n * @constructor\n * @extends {Function}\n * @private\n */\nfunction MixinFunction(){}\n/** @type {(WeakMap | undefined)} */\nMixinFunction.prototype.__mixinApplications;\n/** @type {(Object | undefined)} */\nMixinFunction.prototype.__mixinSet;\n\n/* eslint-disable valid-jsdoc */\n/**\n * Wraps an ES6 class expression mixin such that the mixin is only applied\n * if it has not already been applied its base argument. Also memoizes mixin\n * applications.\n *\n * @template T\n * @param {T} mixin ES6 class expression mixin to wrap\n * @return {T}\n * @suppress {invalidCasts}\n */\nexport const dedupingMixin = function(mixin) {\n  let mixinApplications = /** @type {!MixinFunction} */(mixin).__mixinApplications;\n  if (!mixinApplications) {\n    mixinApplications = new WeakMap();\n    /** @type {!MixinFunction} */(mixin).__mixinApplications = mixinApplications;\n  }\n  // maintain a unique id for each mixin\n  let mixinDedupeId = dedupeId++;\n  function dedupingMixin(base) {\n    let baseSet = /** @type {!MixinFunction} */(base).__mixinSet;\n    if (baseSet && baseSet[mixinDedupeId]) {\n      return base;\n    }\n    let map = mixinApplications;\n    let extended = map.get(base);\n    if (!extended) {\n      extended = /** @type {!Function} */(mixin)(base);\n      map.set(base, extended);\n    }\n    // copy inherited mixin set from the extended class, or the base class\n    // NOTE: we avoid use of Set here because some browser (IE11)\n    // cannot extend a base Set via the constructor.\n    let mixinSet = Object.create(/** @type {!MixinFunction} */(extended).__mixinSet || baseSet || null);\n    mixinSet[mixinDedupeId] = true;\n    /** @type {!MixinFunction} */(extended).__mixinSet = mixinSet;\n    return extended;\n  }\n\n  return dedupingMixin;\n};\n/* eslint-enable valid-jsdoc */\n","/**\n * ## MultiRegister\n * \n * The responsibility of this mixin is to observe nodes added to `#obseveNodes`. \n * It adds elements fireing a`multi-register to `_registeredItems` and elements \n * fireing `multi-serie-register` to `series`.\n * \n *\n * @memberof MultiChart.mixin\n * @polymer\n * @mixinFunction\n */\nimport { dedupingMixin } from '@polymer/polymer/lib/utils/mixin.js';\n\nconst MultiRegister = dedupingMixin(superClass => {\n\n  /*\n   * @polymer\n   * @mixinClass\n   */\n  class Register extends superClass {\n\n    static get properties() {\n\n      return {\n\n        ...super.properties,\n\n        /* \n         * `registerContainerName` the name of the container set to registered items. This is needed because\n         * some items can be registered agains mutiple domain. For instance, multi-g : as an resizable svg item \n         * and against multi-verse.\n         */\n        registerContainerName: {\n          type: String,\n          attribute: 'register-container-name',\n          value: 'svgHost'\n        }\n\n      };\n    }\n\n    /* \n     * `registerEventListen` the name of the event that will trigger \n     * a registration. This event is fired by an element applying \n     * Resiterable Mixin\n     *\n     */\n    get registerEventListen() {\n      return 'multi-register'\n    }\n\n    constructor() {\n      super();\n      this.addEventListener(this.registerEventListen, this._onMultiRegister);\n\n    }\n\n    _registerItem(name, item) {\n      if (!this[name]) { this[name] = [] }\n      if (!this[name].includes(item)) {\n        this[name].push(item);\n        if (this.onRegister) {\n          this.onRegister(item, name);\n        }\n        if (item.afterRegister) {\n          item.afterRegister(this, this.registerContainerName);\n        }\n      }\n    }\n\n    _onMultiRegister(e) {\n      this.log && console.info('Register', e, e.composedPath()[0])\n      // Note(cg): only react if group is not set or is the same.\n      if (e.detail === this.group) {\n        // Note(cg): make sure we are not self-registering \n        // (this can be the case for elements that are registerable and also register like multi-container-layer).\n        const target = e.composedPath()[0];\n        if (target !== this) {\n          e.stopPropagation();\n          this._registerItem('_registeredItems', target);\n          // Note(cg): if data is set before items are registered, they are not drawn.\n          // this.debouceRefresh();\n        }\n      }\n    }\n\n\n    unregister(registered) {\n      if (this.onUnegister) {\n        this.onUnregister(registered);\n      }\n\n      if (this._registeredItems && this._registeredItems.filter) {\n        this._registeredItems = this._registeredItems.filter(item => item !== registered);\n      }\n\n      if (registered.afterUnregister) {\n        registered.afterUnregister(this, this.registerContainerName);\n      }\n    }\n\n    get registeredItems() {\n      return this._registeredItems;\n    }\n\n    callRegistered(methodName) {\n      // we replace `methodName`` with `this host` as the first argument \n      [].splice.call(arguments, 0, 1);\n      const args = arguments;\n\n      (this.registeredItems || [])\n        .filter(el => {\n          return el[methodName];\n        })\n        // Note(cg): we make sure that some registered elements (for instance `multi-select`) are called later.\n        .sort((a, b) => {\n          return a.registerOrder - b.registerOrder;\n        })\n        .forEach(el => {\n          el[methodName].apply(el, args);\n        });\n    }\n\n  }\n  return Register;\n});\n\n/*\n * @mixinClass\n */\nexport default MultiRegister;","// import { ResizeObserver as Polyfill } from \"@juggle/resize-observer\";\nimport { dedupingMixin } from '@polymer/polymer/lib/utils/mixin.js';\n// import { dedupingMixin } from '@polymer/lib/utils/mixin.js';\n\n/**\n * ##  Resizable\n * \n * handles size and resizing\n * \n * @memberof MultiChart.mixin\n * @polymer\n * @mixinFunction\n */\n\n// const ResizeObserver = window.ResizeObserver || Polyfill;\nconst ResizeObserver = window.ResizeObserver ;\nconst ro = new ResizeObserver((entries, observer) => {\n  entries.forEach((entry, index) => entry.target.onResize(entry, index));\n});\n\nconst Resizable = dedupingMixin(superClass => {\n\n  /*\n   * @polymer\n   * @mixinClass\n   */\n  class Mixin extends superClass {\n\n\n    static get properties() {\n      \n      return {\n\n        ...super.properties,\n        /* \n         * `width`  of SVG host\n         */\n        width: {\n          type: Number\n        },\n\n        /* \n         * `height` of SVG host\n         */\n        height: {\n          type: Number\n        }\n\n      };\n    }\n\n    connectedCallback() {\n      super.connectedCallback();\n      ro.observe(this);\n    }\n    disconnectedCallback() {\n      super.disconnectedCallback();\n      ro.unobserve(this);\n    }\n    \n    onResize(entry, index) {\n      throw new Error('on resize need to be overridden ')\n    }\n\n  }\n\n  return Mixin;\n});\n\nexport default Resizable","/**\n * ##  Registerable\n * \n * Allow component to be registerable by containters that will listen to `multi-register` event\n * \n * ### Events\n * Fired when the component is attached so that container can register it\n *\n * @event multi-register\n * @param {string} the namee of the curret group.\n *\n * @memberof MultiChart.mixin   \n * @polymer\n * @mixinFunction\n */\n\nconst Registerable = superClass => {\n\n  return class extends superClass {\n\n    /* \n     * `registerEventDispatch`  the name of the event to be fired when connected. \n     * A container with multi-register-mixin applied \n     * will listen to this event to register the component.\n     *\n     */\n    get registerEventDispatch() {\n      return 'multi-register'\n    }\n\n    static get properties() {\n\n      return {\n\n        ...super.properties,\n\n        /*\n         * `group` against which the drawable object is registered. \n         * A chart can have multiple group (e.g. one displayed against right axis, \n         * the other against the left axis). \n         * Set another group name for objects belonging to alternate chart settings.\n         */\n        group: {\n          type: String,\n          value: 'default'\n        },\n\n        /*\n         * `multiPosition` position used to re-order items when appended by dispatch-svg\n         * nodePosition larger than 0 will render on top. \n         */\n        multiPosition: {\n          type: Number,\n          attribute: 'multi-position',\n          value: 0\n        },\n      };\n    }\n\n    /* \n     * `registerOrder` - registerable elements are sorted on the basis of this property. \n     */\n    get registerOrder() {\n      return 0;\n    }\n\n    // Note(cg): we fire under first Updated and not connectedCallback so as to make sure nested slots have had time to \n    // be effective. .\n    firstUpdated(props) {\n      super.firstUpdated(props);\n      this.dispatchEvent(new CustomEvent(this.registerEventDispatch, { detail: this.group, bubbles: true, composed: true }));\n    }\n\n    disconnectedCallback() {\n      this.postRemove && this.postRemove();\n      super.disconnectedCallback();\n    }\n  };\n};\n\n/* \n * @mixinFunction\n */\nexport default Registerable;","// Computes the decimal coefficient and exponent of the specified number x with\n// significant digits p, where x is positive and p is in [1, 21] or undefined.\n// For example, formatDecimal(1.23) returns [\"123\", 0].\nexport default function(x, p) {\n  if ((i = (x = p ? x.toExponential(p - 1) : x.toExponential()).indexOf(\"e\")) < 0) return null; // NaN, Infinity\n  var i, coefficient = x.slice(0, i);\n\n  // The string returned by toExponential either has the form \\d\\.\\d+e[-+]\\d+\n  // (e.g., 1.2e+3) or the form \\de[-+]\\d+ (e.g., 1e+3).\n  return [\n    coefficient.length > 1 ? coefficient[0] + coefficient.slice(2) : coefficient,\n    +x.slice(i + 1)\n  ];\n}\n","import formatDecimal from \"./formatDecimal.js\";\n\nexport default function(x) {\n  return x = formatDecimal(Math.abs(x)), x ? x[1] : NaN;\n}\n","// [[fill]align][sign][symbol][0][width][,][.precision][~][type]\nvar re = /^(?:(.)?([<>=^]))?([+\\-( ])?([$#])?(0)?(\\d+)?(,)?(\\.\\d+)?(~)?([a-z%])?$/i;\n\nexport default function formatSpecifier(specifier) {\n  if (!(match = re.exec(specifier))) throw new Error(\"invalid format: \" + specifier);\n  var match;\n  return new FormatSpecifier({\n    fill: match[1],\n    align: match[2],\n    sign: match[3],\n    symbol: match[4],\n    zero: match[5],\n    width: match[6],\n    comma: match[7],\n    precision: match[8] && match[8].slice(1),\n    trim: match[9],\n    type: match[10]\n  });\n}\n\nformatSpecifier.prototype = FormatSpecifier.prototype; // instanceof\n\nexport function FormatSpecifier(specifier) {\n  this.fill = specifier.fill === undefined ? \" \" : specifier.fill + \"\";\n  this.align = specifier.align === undefined ? \">\" : specifier.align + \"\";\n  this.sign = specifier.sign === undefined ? \"-\" : specifier.sign + \"\";\n  this.symbol = specifier.symbol === undefined ? \"\" : specifier.symbol + \"\";\n  this.zero = !!specifier.zero;\n  this.width = specifier.width === undefined ? undefined : +specifier.width;\n  this.comma = !!specifier.comma;\n  this.precision = specifier.precision === undefined ? undefined : +specifier.precision;\n  this.trim = !!specifier.trim;\n  this.type = specifier.type === undefined ? \"\" : specifier.type + \"\";\n}\n\nFormatSpecifier.prototype.toString = function() {\n  return this.fill\n      + this.align\n      + this.sign\n      + this.symbol\n      + (this.zero ? \"0\" : \"\")\n      + (this.width === undefined ? \"\" : Math.max(1, this.width | 0))\n      + (this.comma ? \",\" : \"\")\n      + (this.precision === undefined ? \"\" : \".\" + Math.max(0, this.precision | 0))\n      + (this.trim ? \"~\" : \"\")\n      + this.type;\n};\n","import formatDecimal from \"./formatDecimal.js\";\n\nexport var prefixExponent;\n\nexport default function(x, p) {\n  var d = formatDecimal(x, p);\n  if (!d) return x + \"\";\n  var coefficient = d[0],\n      exponent = d[1],\n      i = exponent - (prefixExponent = Math.max(-8, Math.min(8, Math.floor(exponent / 3))) * 3) + 1,\n      n = coefficient.length;\n  return i === n ? coefficient\n      : i > n ? coefficient + new Array(i - n + 1).join(\"0\")\n      : i > 0 ? coefficient.slice(0, i) + \".\" + coefficient.slice(i)\n      : \"0.\" + new Array(1 - i).join(\"0\") + formatDecimal(x, Math.max(0, p + i - 1))[0]; // less than 1y!\n}\n","import formatDecimal from \"./formatDecimal.js\";\n\nexport default function(x, p) {\n  var d = formatDecimal(x, p);\n  if (!d) return x + \"\";\n  var coefficient = d[0],\n      exponent = d[1];\n  return exponent < 0 ? \"0.\" + new Array(-exponent).join(\"0\") + coefficient\n      : coefficient.length > exponent + 1 ? coefficient.slice(0, exponent + 1) + \".\" + coefficient.slice(exponent + 1)\n      : coefficient + new Array(exponent - coefficient.length + 2).join(\"0\");\n}\n","import formatPrefixAuto from \"./formatPrefixAuto.js\";\nimport formatRounded from \"./formatRounded.js\";\n\nexport default {\n  \"%\": function(x, p) { return (x * 100).toFixed(p); },\n  \"b\": function(x) { return Math.round(x).toString(2); },\n  \"c\": function(x) { return x + \"\"; },\n  \"d\": function(x) { return Math.round(x).toString(10); },\n  \"e\": function(x, p) { return x.toExponential(p); },\n  \"f\": function(x, p) { return x.toFixed(p); },\n  \"g\": function(x, p) { return x.toPrecision(p); },\n  \"o\": function(x) { return Math.round(x).toString(8); },\n  \"p\": function(x, p) { return formatRounded(x * 100, p); },\n  \"r\": formatRounded,\n  \"s\": formatPrefixAuto,\n  \"X\": function(x) { return Math.round(x).toString(16).toUpperCase(); },\n  \"x\": function(x) { return Math.round(x).toString(16); }\n};\n","export default function(x) {\n  return x;\n}\n","import exponent from \"./exponent.js\";\nimport formatGroup from \"./formatGroup.js\";\nimport formatNumerals from \"./formatNumerals.js\";\nimport formatSpecifier from \"./formatSpecifier.js\";\nimport formatTrim from \"./formatTrim.js\";\nimport formatTypes from \"./formatTypes.js\";\nimport {prefixExponent} from \"./formatPrefixAuto.js\";\nimport identity from \"./identity.js\";\n\nvar map = Array.prototype.map,\n    prefixes = [\"y\",\"z\",\"a\",\"f\",\"p\",\"n\",\"\",\"m\",\"\",\"k\",\"M\",\"G\",\"T\",\"P\",\"E\",\"Z\",\"Y\"];\n\nexport default function(locale) {\n  var group = locale.grouping === undefined || locale.thousands === undefined ? identity : formatGroup(map.call(locale.grouping, Number), locale.thousands + \"\"),\n      currencyPrefix = locale.currency === undefined ? \"\" : locale.currency[0] + \"\",\n      currencySuffix = locale.currency === undefined ? \"\" : locale.currency[1] + \"\",\n      decimal = locale.decimal === undefined ? \".\" : locale.decimal + \"\",\n      numerals = locale.numerals === undefined ? identity : formatNumerals(map.call(locale.numerals, String)),\n      percent = locale.percent === undefined ? \"%\" : locale.percent + \"\",\n      minus = locale.minus === undefined ? \"-\" : locale.minus + \"\",\n      nan = locale.nan === undefined ? \"NaN\" : locale.nan + \"\";\n\n  function newFormat(specifier) {\n    specifier = formatSpecifier(specifier);\n\n    var fill = specifier.fill,\n        align = specifier.align,\n        sign = specifier.sign,\n        symbol = specifier.symbol,\n        zero = specifier.zero,\n        width = specifier.width,\n        comma = specifier.comma,\n        precision = specifier.precision,\n        trim = specifier.trim,\n        type = specifier.type;\n\n    // The \"n\" type is an alias for \",g\".\n    if (type === \"n\") comma = true, type = \"g\";\n\n    // The \"\" type, and any invalid type, is an alias for \".12~g\".\n    else if (!formatTypes[type]) precision === undefined && (precision = 12), trim = true, type = \"g\";\n\n    // If zero fill is specified, padding goes after sign and before digits.\n    if (zero || (fill === \"0\" && align === \"=\")) zero = true, fill = \"0\", align = \"=\";\n\n    // Compute the prefix and suffix.\n    // For SI-prefix, the suffix is lazily computed.\n    var prefix = symbol === \"$\" ? currencyPrefix : symbol === \"#\" && /[boxX]/.test(type) ? \"0\" + type.toLowerCase() : \"\",\n        suffix = symbol === \"$\" ? currencySuffix : /[%p]/.test(type) ? percent : \"\";\n\n    // What format function should we use?\n    // Is this an integer type?\n    // Can this type generate exponential notation?\n    var formatType = formatTypes[type],\n        maybeSuffix = /[defgprs%]/.test(type);\n\n    // Set the default precision if not specified,\n    // or clamp the specified precision to the supported range.\n    // For significant precision, it must be in [1, 21].\n    // For fixed precision, it must be in [0, 20].\n    precision = precision === undefined ? 6\n        : /[gprs]/.test(type) ? Math.max(1, Math.min(21, precision))\n        : Math.max(0, Math.min(20, precision));\n\n    function format(value) {\n      var valuePrefix = prefix,\n          valueSuffix = suffix,\n          i, n, c;\n\n      if (type === \"c\") {\n        valueSuffix = formatType(value) + valueSuffix;\n        value = \"\";\n      } else {\n        value = +value;\n\n        // Perform the initial formatting.\n        var valueNegative = value < 0;\n        value = isNaN(value) ? nan : formatType(Math.abs(value), precision);\n\n        // Trim insignificant zeros.\n        if (trim) value = formatTrim(value);\n\n        // If a negative value rounds to zero during formatting, treat as positive.\n        if (valueNegative && +value === 0) valueNegative = false;\n\n        // Compute the prefix and suffix.\n        valuePrefix = (valueNegative ? (sign === \"(\" ? sign : minus) : sign === \"-\" || sign === \"(\" ? \"\" : sign) + valuePrefix;\n\n        valueSuffix = (type === \"s\" ? prefixes[8 + prefixExponent / 3] : \"\") + valueSuffix + (valueNegative && sign === \"(\" ? \")\" : \"\");\n\n        // Break the formatted value into the integer value part that can be\n        // grouped, and fractional or exponential suffix part that is not.\n        if (maybeSuffix) {\n          i = -1, n = value.length;\n          while (++i < n) {\n            if (c = value.charCodeAt(i), 48 > c || c > 57) {\n              valueSuffix = (c === 46 ? decimal + value.slice(i + 1) : value.slice(i)) + valueSuffix;\n              value = value.slice(0, i);\n              break;\n            }\n          }\n        }\n      }\n\n      // If the fill character is not \"0\", grouping is applied before padding.\n      if (comma && !zero) value = group(value, Infinity);\n\n      // Compute the padding.\n      var length = valuePrefix.length + value.length + valueSuffix.length,\n          padding = length < width ? new Array(width - length + 1).join(fill) : \"\";\n\n      // If the fill character is \"0\", grouping is applied after padding.\n      if (comma && zero) value = group(padding + value, padding.length ? width - valueSuffix.length : Infinity), padding = \"\";\n\n      // Reconstruct the final output based on the desired alignment.\n      switch (align) {\n        case \"<\": value = valuePrefix + value + valueSuffix + padding; break;\n        case \"=\": value = valuePrefix + padding + value + valueSuffix; break;\n        case \"^\": value = padding.slice(0, length = padding.length >> 1) + valuePrefix + value + valueSuffix + padding.slice(length); break;\n        default: value = padding + valuePrefix + value + valueSuffix; break;\n      }\n\n      return numerals(value);\n    }\n\n    format.toString = function() {\n      return specifier + \"\";\n    };\n\n    return format;\n  }\n\n  function formatPrefix(specifier, value) {\n    var f = newFormat((specifier = formatSpecifier(specifier), specifier.type = \"f\", specifier)),\n        e = Math.max(-8, Math.min(8, Math.floor(exponent(value) / 3))) * 3,\n        k = Math.pow(10, -e),\n        prefix = prefixes[8 + e / 3];\n    return function(value) {\n      return f(k * value) + prefix;\n    };\n  }\n\n  return {\n    format: newFormat,\n    formatPrefix: formatPrefix\n  };\n}\n","import formatLocale from \"./locale.js\";\n\nvar locale;\nexport var format;\nexport var formatPrefix;\n\ndefaultLocale({\n  decimal: \".\",\n  thousands: \",\",\n  grouping: [3],\n  currency: [\"$\", \"\"],\n  minus: \"-\"\n});\n\nexport default function defaultLocale(definition) {\n  locale = formatLocale(definition);\n  format = locale.format;\n  formatPrefix = locale.formatPrefix;\n  return locale;\n}\n","export default function(grouping, thousands) {\n  return function(value, width) {\n    var i = value.length,\n        t = [],\n        j = 0,\n        g = grouping[0],\n        length = 0;\n\n    while (i > 0 && g > 0) {\n      if (length + g + 1 > width) g = Math.max(1, width - length);\n      t.push(value.substring(i -= g, i + g));\n      if ((length += g + 1) > width) break;\n      g = grouping[j = (j + 1) % grouping.length];\n    }\n\n    return t.reverse().join(thousands);\n  };\n}\n","export default function(numerals) {\n  return function(value) {\n    return value.replace(/[0-9]/g, function(i) {\n      return numerals[+i];\n    });\n  };\n}\n","// Trims insignificant zeros, e.g., replaces 1.2000k with 1.2k.\nexport default function(s) {\n  out: for (var n = s.length, i = 1, i0 = -1, i1; i < n; ++i) {\n    switch (s[i]) {\n      case \".\": i0 = i1 = i; break;\n      case \"0\": if (i0 === 0) i0 = i; i1 = i; break;\n      default: if (!+s[i]) break out; if (i0 > 0) i0 = 0; break;\n    }\n  }\n  return i0 > 0 ? s.slice(0, i0) + s.slice(i1 + 1) : s;\n}\n","import exponent from \"./exponent.js\";\n\nexport default function(step) {\n  return Math.max(0, -exponent(Math.abs(step)));\n}\n","import exponent from \"./exponent.js\";\n\nexport default function(step, value) {\n  return Math.max(0, Math.max(-8, Math.min(8, Math.floor(exponent(value) / 3))) * 3 - exponent(Math.abs(step)));\n}\n","import exponent from \"./exponent.js\";\n\nexport default function(step, max) {\n  step = Math.abs(step), max = Math.abs(max) - step;\n  return Math.max(0, exponent(max) - exponent(step)) + 1;\n}\n","var t0 = new Date,\n    t1 = new Date;\n\nexport default function newInterval(floori, offseti, count, field) {\n\n  function interval(date) {\n    return floori(date = arguments.length === 0 ? new Date : new Date(+date)), date;\n  }\n\n  interval.floor = function(date) {\n    return floori(date = new Date(+date)), date;\n  };\n\n  interval.ceil = function(date) {\n    return floori(date = new Date(date - 1)), offseti(date, 1), floori(date), date;\n  };\n\n  interval.round = function(date) {\n    var d0 = interval(date),\n        d1 = interval.ceil(date);\n    return date - d0 < d1 - date ? d0 : d1;\n  };\n\n  interval.offset = function(date, step) {\n    return offseti(date = new Date(+date), step == null ? 1 : Math.floor(step)), date;\n  };\n\n  interval.range = function(start, stop, step) {\n    var range = [], previous;\n    start = interval.ceil(start);\n    step = step == null ? 1 : Math.floor(step);\n    if (!(start < stop) || !(step > 0)) return range; // also handles Invalid Date\n    do range.push(previous = new Date(+start)), offseti(start, step), floori(start);\n    while (previous < start && start < stop);\n    return range;\n  };\n\n  interval.filter = function(test) {\n    return newInterval(function(date) {\n      if (date >= date) while (floori(date), !test(date)) date.setTime(date - 1);\n    }, function(date, step) {\n      if (date >= date) {\n        if (step < 0) while (++step <= 0) {\n          while (offseti(date, -1), !test(date)) {} // eslint-disable-line no-empty\n        } else while (--step >= 0) {\n          while (offseti(date, +1), !test(date)) {} // eslint-disable-line no-empty\n        }\n      }\n    });\n  };\n\n  if (count) {\n    interval.count = function(start, end) {\n      t0.setTime(+start), t1.setTime(+end);\n      floori(t0), floori(t1);\n      return Math.floor(count(t0, t1));\n    };\n\n    interval.every = function(step) {\n      step = Math.floor(step);\n      return !isFinite(step) || !(step > 0) ? null\n          : !(step > 1) ? interval\n          : interval.filter(field\n              ? function(d) { return field(d) % step === 0; }\n              : function(d) { return interval.count(0, d) % step === 0; });\n    };\n  }\n\n  return interval;\n}\n","import interval from \"./interval.js\";\n\nvar millisecond = interval(function() {\n  // noop\n}, function(date, step) {\n  date.setTime(+date + step);\n}, function(start, end) {\n  return end - start;\n});\n\n// An optimized implementation for this simple case.\nmillisecond.every = function(k) {\n  k = Math.floor(k);\n  if (!isFinite(k) || !(k > 0)) return null;\n  if (!(k > 1)) return millisecond;\n  return interval(function(date) {\n    date.setTime(Math.floor(date / k) * k);\n  }, function(date, step) {\n    date.setTime(+date + step * k);\n  }, function(start, end) {\n    return (end - start) / k;\n  });\n};\n\nexport default millisecond;\nexport var milliseconds = millisecond.range;\n","export var durationSecond = 1e3;\nexport var durationMinute = 6e4;\nexport var durationHour = 36e5;\nexport var durationDay = 864e5;\nexport var durationWeek = 6048e5;\n","import interval from \"./interval.js\";\nimport {durationSecond} from \"./duration.js\";\n\nvar second = interval(function(date) {\n  date.setTime(date - date.getMilliseconds());\n}, function(date, step) {\n  date.setTime(+date + step * durationSecond);\n}, function(start, end) {\n  return (end - start) / durationSecond;\n}, function(date) {\n  return date.getUTCSeconds();\n});\n\nexport default second;\nexport var seconds = second.range;\n","import interval from \"./interval.js\";\nimport {durationMinute, durationSecond} from \"./duration.js\";\n\nvar minute = interval(function(date) {\n  date.setTime(date - date.getMilliseconds() - date.getSeconds() * durationSecond);\n}, function(date, step) {\n  date.setTime(+date + step * durationMinute);\n}, function(start, end) {\n  return (end - start) / durationMinute;\n}, function(date) {\n  return date.getMinutes();\n});\n\nexport default minute;\nexport var minutes = minute.range;\n","import interval from \"./interval.js\";\nimport {durationHour, durationMinute, durationSecond} from \"./duration.js\";\n\nvar hour = interval(function(date) {\n  date.setTime(date - date.getMilliseconds() - date.getSeconds() * durationSecond - date.getMinutes() * durationMinute);\n}, function(date, step) {\n  date.setTime(+date + step * durationHour);\n}, function(start, end) {\n  return (end - start) / durationHour;\n}, function(date) {\n  return date.getHours();\n});\n\nexport default hour;\nexport var hours = hour.range;\n","import interval from \"./interval.js\";\nimport {durationDay, durationMinute} from \"./duration.js\";\n\nvar day = interval(function(date) {\n  date.setHours(0, 0, 0, 0);\n}, function(date, step) {\n  date.setDate(date.getDate() + step);\n}, function(start, end) {\n  return (end - start - (end.getTimezoneOffset() - start.getTimezoneOffset()) * durationMinute) / durationDay;\n}, function(date) {\n  return date.getDate() - 1;\n});\n\nexport default day;\nexport var days = day.range;\n","import interval from \"./interval.js\";\nimport {durationMinute, durationWeek} from \"./duration.js\";\n\nfunction weekday(i) {\n  return interval(function(date) {\n    date.setDate(date.getDate() - (date.getDay() + 7 - i) % 7);\n    date.setHours(0, 0, 0, 0);\n  }, function(date, step) {\n    date.setDate(date.getDate() + step * 7);\n  }, function(start, end) {\n    return (end - start - (end.getTimezoneOffset() - start.getTimezoneOffset()) * durationMinute) / durationWeek;\n  });\n}\n\nexport var sunday = weekday(0);\nexport var monday = weekday(1);\nexport var tuesday = weekday(2);\nexport var wednesday = weekday(3);\nexport var thursday = weekday(4);\nexport var friday = weekday(5);\nexport var saturday = weekday(6);\n\nexport var sundays = sunday.range;\nexport var mondays = monday.range;\nexport var tuesdays = tuesday.range;\nexport var wednesdays = wednesday.range;\nexport var thursdays = thursday.range;\nexport var fridays = friday.range;\nexport var saturdays = saturday.range;\n","import interval from \"./interval.js\";\n\nvar month = interval(function(date) {\n  date.setDate(1);\n  date.setHours(0, 0, 0, 0);\n}, function(date, step) {\n  date.setMonth(date.getMonth() + step);\n}, function(start, end) {\n  return end.getMonth() - start.getMonth() + (end.getFullYear() - start.getFullYear()) * 12;\n}, function(date) {\n  return date.getMonth();\n});\n\nexport default month;\nexport var months = month.range;\n","import interval from \"./interval.js\";\n\nvar year = interval(function(date) {\n  date.setMonth(0, 1);\n  date.setHours(0, 0, 0, 0);\n}, function(date, step) {\n  date.setFullYear(date.getFullYear() + step);\n}, function(start, end) {\n  return end.getFullYear() - start.getFullYear();\n}, function(date) {\n  return date.getFullYear();\n});\n\n// An optimized implementation for this simple case.\nyear.every = function(k) {\n  return !isFinite(k = Math.floor(k)) || !(k > 0) ? null : interval(function(date) {\n    date.setFullYear(Math.floor(date.getFullYear() / k) * k);\n    date.setMonth(0, 1);\n    date.setHours(0, 0, 0, 0);\n  }, function(date, step) {\n    date.setFullYear(date.getFullYear() + step * k);\n  });\n};\n\nexport default year;\nexport var years = year.range;\n","import interval from \"./interval.js\";\nimport {durationMinute} from \"./duration.js\";\n\nvar utcMinute = interval(function(date) {\n  date.setUTCSeconds(0, 0);\n}, function(date, step) {\n  date.setTime(+date + step * durationMinute);\n}, function(start, end) {\n  return (end - start) / durationMinute;\n}, function(date) {\n  return date.getUTCMinutes();\n});\n\nexport default utcMinute;\nexport var utcMinutes = utcMinute.range;\n","import interval from \"./interval.js\";\nimport {durationHour} from \"./duration.js\";\n\nvar utcHour = interval(function(date) {\n  date.setUTCMinutes(0, 0, 0);\n}, function(date, step) {\n  date.setTime(+date + step * durationHour);\n}, function(start, end) {\n  return (end - start) / durationHour;\n}, function(date) {\n  return date.getUTCHours();\n});\n\nexport default utcHour;\nexport var utcHours = utcHour.range;\n","import interval from \"./interval.js\";\nimport {durationDay} from \"./duration.js\";\n\nvar utcDay = interval(function(date) {\n  date.setUTCHours(0, 0, 0, 0);\n}, function(date, step) {\n  date.setUTCDate(date.getUTCDate() + step);\n}, function(start, end) {\n  return (end - start) / durationDay;\n}, function(date) {\n  return date.getUTCDate() - 1;\n});\n\nexport default utcDay;\nexport var utcDays = utcDay.range;\n","import interval from \"./interval.js\";\nimport {durationWeek} from \"./duration.js\";\n\nfunction utcWeekday(i) {\n  return interval(function(date) {\n    date.setUTCDate(date.getUTCDate() - (date.getUTCDay() + 7 - i) % 7);\n    date.setUTCHours(0, 0, 0, 0);\n  }, function(date, step) {\n    date.setUTCDate(date.getUTCDate() + step * 7);\n  }, function(start, end) {\n    return (end - start) / durationWeek;\n  });\n}\n\nexport var utcSunday = utcWeekday(0);\nexport var utcMonday = utcWeekday(1);\nexport var utcTuesday = utcWeekday(2);\nexport var utcWednesday = utcWeekday(3);\nexport var utcThursday = utcWeekday(4);\nexport var utcFriday = utcWeekday(5);\nexport var utcSaturday = utcWeekday(6);\n\nexport var utcSundays = utcSunday.range;\nexport var utcMondays = utcMonday.range;\nexport var utcTuesdays = utcTuesday.range;\nexport var utcWednesdays = utcWednesday.range;\nexport var utcThursdays = utcThursday.range;\nexport var utcFridays = utcFriday.range;\nexport var utcSaturdays = utcSaturday.range;\n","import interval from \"./interval.js\";\n\nvar utcMonth = interval(function(date) {\n  date.setUTCDate(1);\n  date.setUTCHours(0, 0, 0, 0);\n}, function(date, step) {\n  date.setUTCMonth(date.getUTCMonth() + step);\n}, function(start, end) {\n  return end.getUTCMonth() - start.getUTCMonth() + (end.getUTCFullYear() - start.getUTCFullYear()) * 12;\n}, function(date) {\n  return date.getUTCMonth();\n});\n\nexport default utcMonth;\nexport var utcMonths = utcMonth.range;\n","import interval from \"./interval.js\";\n\nvar utcYear = interval(function(date) {\n  date.setUTCMonth(0, 1);\n  date.setUTCHours(0, 0, 0, 0);\n}, function(date, step) {\n  date.setUTCFullYear(date.getUTCFullYear() + step);\n}, function(start, end) {\n  return end.getUTCFullYear() - start.getUTCFullYear();\n}, function(date) {\n  return date.getUTCFullYear();\n});\n\n// An optimized implementation for this simple case.\nutcYear.every = function(k) {\n  return !isFinite(k = Math.floor(k)) || !(k > 0) ? null : interval(function(date) {\n    date.setUTCFullYear(Math.floor(date.getUTCFullYear() / k) * k);\n    date.setUTCMonth(0, 1);\n    date.setUTCHours(0, 0, 0, 0);\n  }, function(date, step) {\n    date.setUTCFullYear(date.getUTCFullYear() + step * k);\n  });\n};\n\nexport default utcYear;\nexport var utcYears = utcYear.range;\n","import {\n  timeDay,\n  timeSunday,\n  timeMonday,\n  timeThursday,\n  timeYear,\n  utcDay,\n  utcSunday,\n  utcMonday,\n  utcThursday,\n  utcYear\n} from \"d3-time\";\n\nfunction localDate(d) {\n  if (0 <= d.y && d.y < 100) {\n    var date = new Date(-1, d.m, d.d, d.H, d.M, d.S, d.L);\n    date.setFullYear(d.y);\n    return date;\n  }\n  return new Date(d.y, d.m, d.d, d.H, d.M, d.S, d.L);\n}\n\nfunction utcDate(d) {\n  if (0 <= d.y && d.y < 100) {\n    var date = new Date(Date.UTC(-1, d.m, d.d, d.H, d.M, d.S, d.L));\n    date.setUTCFullYear(d.y);\n    return date;\n  }\n  return new Date(Date.UTC(d.y, d.m, d.d, d.H, d.M, d.S, d.L));\n}\n\nfunction newDate(y, m, d) {\n  return {y: y, m: m, d: d, H: 0, M: 0, S: 0, L: 0};\n}\n\nexport default function formatLocale(locale) {\n  var locale_dateTime = locale.dateTime,\n      locale_date = locale.date,\n      locale_time = locale.time,\n      locale_periods = locale.periods,\n      locale_weekdays = locale.days,\n      locale_shortWeekdays = locale.shortDays,\n      locale_months = locale.months,\n      locale_shortMonths = locale.shortMonths;\n\n  var periodRe = formatRe(locale_periods),\n      periodLookup = formatLookup(locale_periods),\n      weekdayRe = formatRe(locale_weekdays),\n      weekdayLookup = formatLookup(locale_weekdays),\n      shortWeekdayRe = formatRe(locale_shortWeekdays),\n      shortWeekdayLookup = formatLookup(locale_shortWeekdays),\n      monthRe = formatRe(locale_months),\n      monthLookup = formatLookup(locale_months),\n      shortMonthRe = formatRe(locale_shortMonths),\n      shortMonthLookup = formatLookup(locale_shortMonths);\n\n  var formats = {\n    \"a\": formatShortWeekday,\n    \"A\": formatWeekday,\n    \"b\": formatShortMonth,\n    \"B\": formatMonth,\n    \"c\": null,\n    \"d\": formatDayOfMonth,\n    \"e\": formatDayOfMonth,\n    \"f\": formatMicroseconds,\n    \"H\": formatHour24,\n    \"I\": formatHour12,\n    \"j\": formatDayOfYear,\n    \"L\": formatMilliseconds,\n    \"m\": formatMonthNumber,\n    \"M\": formatMinutes,\n    \"p\": formatPeriod,\n    \"q\": formatQuarter,\n    \"Q\": formatUnixTimestamp,\n    \"s\": formatUnixTimestampSeconds,\n    \"S\": formatSeconds,\n    \"u\": formatWeekdayNumberMonday,\n    \"U\": formatWeekNumberSunday,\n    \"V\": formatWeekNumberISO,\n    \"w\": formatWeekdayNumberSunday,\n    \"W\": formatWeekNumberMonday,\n    \"x\": null,\n    \"X\": null,\n    \"y\": formatYear,\n    \"Y\": formatFullYear,\n    \"Z\": formatZone,\n    \"%\": formatLiteralPercent\n  };\n\n  var utcFormats = {\n    \"a\": formatUTCShortWeekday,\n    \"A\": formatUTCWeekday,\n    \"b\": formatUTCShortMonth,\n    \"B\": formatUTCMonth,\n    \"c\": null,\n    \"d\": formatUTCDayOfMonth,\n    \"e\": formatUTCDayOfMonth,\n    \"f\": formatUTCMicroseconds,\n    \"H\": formatUTCHour24,\n    \"I\": formatUTCHour12,\n    \"j\": formatUTCDayOfYear,\n    \"L\": formatUTCMilliseconds,\n    \"m\": formatUTCMonthNumber,\n    \"M\": formatUTCMinutes,\n    \"p\": formatUTCPeriod,\n    \"q\": formatUTCQuarter,\n    \"Q\": formatUnixTimestamp,\n    \"s\": formatUnixTimestampSeconds,\n    \"S\": formatUTCSeconds,\n    \"u\": formatUTCWeekdayNumberMonday,\n    \"U\": formatUTCWeekNumberSunday,\n    \"V\": formatUTCWeekNumberISO,\n    \"w\": formatUTCWeekdayNumberSunday,\n    \"W\": formatUTCWeekNumberMonday,\n    \"x\": null,\n    \"X\": null,\n    \"y\": formatUTCYear,\n    \"Y\": formatUTCFullYear,\n    \"Z\": formatUTCZone,\n    \"%\": formatLiteralPercent\n  };\n\n  var parses = {\n    \"a\": parseShortWeekday,\n    \"A\": parseWeekday,\n    \"b\": parseShortMonth,\n    \"B\": parseMonth,\n    \"c\": parseLocaleDateTime,\n    \"d\": parseDayOfMonth,\n    \"e\": parseDayOfMonth,\n    \"f\": parseMicroseconds,\n    \"H\": parseHour24,\n    \"I\": parseHour24,\n    \"j\": parseDayOfYear,\n    \"L\": parseMilliseconds,\n    \"m\": parseMonthNumber,\n    \"M\": parseMinutes,\n    \"p\": parsePeriod,\n    \"q\": parseQuarter,\n    \"Q\": parseUnixTimestamp,\n    \"s\": parseUnixTimestampSeconds,\n    \"S\": parseSeconds,\n    \"u\": parseWeekdayNumberMonday,\n    \"U\": parseWeekNumberSunday,\n    \"V\": parseWeekNumberISO,\n    \"w\": parseWeekdayNumberSunday,\n    \"W\": parseWeekNumberMonday,\n    \"x\": parseLocaleDate,\n    \"X\": parseLocaleTime,\n    \"y\": parseYear,\n    \"Y\": parseFullYear,\n    \"Z\": parseZone,\n    \"%\": parseLiteralPercent\n  };\n\n  // These recursive directive definitions must be deferred.\n  formats.x = newFormat(locale_date, formats);\n  formats.X = newFormat(locale_time, formats);\n  formats.c = newFormat(locale_dateTime, formats);\n  utcFormats.x = newFormat(locale_date, utcFormats);\n  utcFormats.X = newFormat(locale_time, utcFormats);\n  utcFormats.c = newFormat(locale_dateTime, utcFormats);\n\n  function newFormat(specifier, formats) {\n    return function(date) {\n      var string = [],\n          i = -1,\n          j = 0,\n          n = specifier.length,\n          c,\n          pad,\n          format;\n\n      if (!(date instanceof Date)) date = new Date(+date);\n\n      while (++i < n) {\n        if (specifier.charCodeAt(i) === 37) {\n          string.push(specifier.slice(j, i));\n          if ((pad = pads[c = specifier.charAt(++i)]) != null) c = specifier.charAt(++i);\n          else pad = c === \"e\" ? \" \" : \"0\";\n          if (format = formats[c]) c = format(date, pad);\n          string.push(c);\n          j = i + 1;\n        }\n      }\n\n      string.push(specifier.slice(j, i));\n      return string.join(\"\");\n    };\n  }\n\n  function newParse(specifier, Z) {\n    return function(string) {\n      var d = newDate(1900, undefined, 1),\n          i = parseSpecifier(d, specifier, string += \"\", 0),\n          week, day;\n      if (i != string.length) return null;\n\n      // If a UNIX timestamp is specified, return it.\n      if (\"Q\" in d) return new Date(d.Q);\n      if (\"s\" in d) return new Date(d.s * 1000 + (\"L\" in d ? d.L : 0));\n\n      // If this is utcParse, never use the local timezone.\n      if (Z && !(\"Z\" in d)) d.Z = 0;\n\n      // The am-pm flag is 0 for AM, and 1 for PM.\n      if (\"p\" in d) d.H = d.H % 12 + d.p * 12;\n\n      // If the month was not specified, inherit from the quarter.\n      if (d.m === undefined) d.m = \"q\" in d ? d.q : 0;\n\n      // Convert day-of-week and week-of-year to day-of-year.\n      if (\"V\" in d) {\n        if (d.V < 1 || d.V > 53) return null;\n        if (!(\"w\" in d)) d.w = 1;\n        if (\"Z\" in d) {\n          week = utcDate(newDate(d.y, 0, 1)), day = week.getUTCDay();\n          week = day > 4 || day === 0 ? utcMonday.ceil(week) : utcMonday(week);\n          week = utcDay.offset(week, (d.V - 1) * 7);\n          d.y = week.getUTCFullYear();\n          d.m = week.getUTCMonth();\n          d.d = week.getUTCDate() + (d.w + 6) % 7;\n        } else {\n          week = localDate(newDate(d.y, 0, 1)), day = week.getDay();\n          week = day > 4 || day === 0 ? timeMonday.ceil(week) : timeMonday(week);\n          week = timeDay.offset(week, (d.V - 1) * 7);\n          d.y = week.getFullYear();\n          d.m = week.getMonth();\n          d.d = week.getDate() + (d.w + 6) % 7;\n        }\n      } else if (\"W\" in d || \"U\" in d) {\n        if (!(\"w\" in d)) d.w = \"u\" in d ? d.u % 7 : \"W\" in d ? 1 : 0;\n        day = \"Z\" in d ? utcDate(newDate(d.y, 0, 1)).getUTCDay() : localDate(newDate(d.y, 0, 1)).getDay();\n        d.m = 0;\n        d.d = \"W\" in d ? (d.w + 6) % 7 + d.W * 7 - (day + 5) % 7 : d.w + d.U * 7 - (day + 6) % 7;\n      }\n\n      // If a time zone is specified, all fields are interpreted as UTC and then\n      // offset according to the specified time zone.\n      if (\"Z\" in d) {\n        d.H += d.Z / 100 | 0;\n        d.M += d.Z % 100;\n        return utcDate(d);\n      }\n\n      // Otherwise, all fields are in local time.\n      return localDate(d);\n    };\n  }\n\n  function parseSpecifier(d, specifier, string, j) {\n    var i = 0,\n        n = specifier.length,\n        m = string.length,\n        c,\n        parse;\n\n    while (i < n) {\n      if (j >= m) return -1;\n      c = specifier.charCodeAt(i++);\n      if (c === 37) {\n        c = specifier.charAt(i++);\n        parse = parses[c in pads ? specifier.charAt(i++) : c];\n        if (!parse || ((j = parse(d, string, j)) < 0)) return -1;\n      } else if (c != string.charCodeAt(j++)) {\n        return -1;\n      }\n    }\n\n    return j;\n  }\n\n  function parsePeriod(d, string, i) {\n    var n = periodRe.exec(string.slice(i));\n    return n ? (d.p = periodLookup[n[0].toLowerCase()], i + n[0].length) : -1;\n  }\n\n  function parseShortWeekday(d, string, i) {\n    var n = shortWeekdayRe.exec(string.slice(i));\n    return n ? (d.w = shortWeekdayLookup[n[0].toLowerCase()], i + n[0].length) : -1;\n  }\n\n  function parseWeekday(d, string, i) {\n    var n = weekdayRe.exec(string.slice(i));\n    return n ? (d.w = weekdayLookup[n[0].toLowerCase()], i + n[0].length) : -1;\n  }\n\n  function parseShortMonth(d, string, i) {\n    var n = shortMonthRe.exec(string.slice(i));\n    return n ? (d.m = shortMonthLookup[n[0].toLowerCase()], i + n[0].length) : -1;\n  }\n\n  function parseMonth(d, string, i) {\n    var n = monthRe.exec(string.slice(i));\n    return n ? (d.m = monthLookup[n[0].toLowerCase()], i + n[0].length) : -1;\n  }\n\n  function parseLocaleDateTime(d, string, i) {\n    return parseSpecifier(d, locale_dateTime, string, i);\n  }\n\n  function parseLocaleDate(d, string, i) {\n    return parseSpecifier(d, locale_date, string, i);\n  }\n\n  function parseLocaleTime(d, string, i) {\n    return parseSpecifier(d, locale_time, string, i);\n  }\n\n  function formatShortWeekday(d) {\n    return locale_shortWeekdays[d.getDay()];\n  }\n\n  function formatWeekday(d) {\n    return locale_weekdays[d.getDay()];\n  }\n\n  function formatShortMonth(d) {\n    return locale_shortMonths[d.getMonth()];\n  }\n\n  function formatMonth(d) {\n    return locale_months[d.getMonth()];\n  }\n\n  function formatPeriod(d) {\n    return locale_periods[+(d.getHours() >= 12)];\n  }\n\n  function formatQuarter(d) {\n    return 1 + ~~(d.getMonth() / 3);\n  }\n\n  function formatUTCShortWeekday(d) {\n    return locale_shortWeekdays[d.getUTCDay()];\n  }\n\n  function formatUTCWeekday(d) {\n    return locale_weekdays[d.getUTCDay()];\n  }\n\n  function formatUTCShortMonth(d) {\n    return locale_shortMonths[d.getUTCMonth()];\n  }\n\n  function formatUTCMonth(d) {\n    return locale_months[d.getUTCMonth()];\n  }\n\n  function formatUTCPeriod(d) {\n    return locale_periods[+(d.getUTCHours() >= 12)];\n  }\n\n  function formatUTCQuarter(d) {\n    return 1 + ~~(d.getUTCMonth() / 3);\n  }\n\n  return {\n    format: function(specifier) {\n      var f = newFormat(specifier += \"\", formats);\n      f.toString = function() { return specifier; };\n      return f;\n    },\n    parse: function(specifier) {\n      var p = newParse(specifier += \"\", false);\n      p.toString = function() { return specifier; };\n      return p;\n    },\n    utcFormat: function(specifier) {\n      var f = newFormat(specifier += \"\", utcFormats);\n      f.toString = function() { return specifier; };\n      return f;\n    },\n    utcParse: function(specifier) {\n      var p = newParse(specifier += \"\", true);\n      p.toString = function() { return specifier; };\n      return p;\n    }\n  };\n}\n\nvar pads = {\"-\": \"\", \"_\": \" \", \"0\": \"0\"},\n    numberRe = /^\\s*\\d+/, // note: ignores next directive\n    percentRe = /^%/,\n    requoteRe = /[\\\\^$*+?|[\\]().{}]/g;\n\nfunction pad(value, fill, width) {\n  var sign = value < 0 ? \"-\" : \"\",\n      string = (sign ? -value : value) + \"\",\n      length = string.length;\n  return sign + (length < width ? new Array(width - length + 1).join(fill) + string : string);\n}\n\nfunction requote(s) {\n  return s.replace(requoteRe, \"\\\\$&\");\n}\n\nfunction formatRe(names) {\n  return new RegExp(\"^(?:\" + names.map(requote).join(\"|\") + \")\", \"i\");\n}\n\nfunction formatLookup(names) {\n  var map = {}, i = -1, n = names.length;\n  while (++i < n) map[names[i].toLowerCase()] = i;\n  return map;\n}\n\nfunction parseWeekdayNumberSunday(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 1));\n  return n ? (d.w = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseWeekdayNumberMonday(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 1));\n  return n ? (d.u = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseWeekNumberSunday(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.U = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseWeekNumberISO(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.V = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseWeekNumberMonday(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.W = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseFullYear(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 4));\n  return n ? (d.y = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseYear(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.y = +n[0] + (+n[0] > 68 ? 1900 : 2000), i + n[0].length) : -1;\n}\n\nfunction parseZone(d, string, i) {\n  var n = /^(Z)|([+-]\\d\\d)(?::?(\\d\\d))?/.exec(string.slice(i, i + 6));\n  return n ? (d.Z = n[1] ? 0 : -(n[2] + (n[3] || \"00\")), i + n[0].length) : -1;\n}\n\nfunction parseQuarter(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 1));\n  return n ? (d.q = n[0] * 3 - 3, i + n[0].length) : -1;\n}\n\nfunction parseMonthNumber(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.m = n[0] - 1, i + n[0].length) : -1;\n}\n\nfunction parseDayOfMonth(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.d = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseDayOfYear(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 3));\n  return n ? (d.m = 0, d.d = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseHour24(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.H = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseMinutes(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.M = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseSeconds(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.S = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseMilliseconds(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 3));\n  return n ? (d.L = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseMicroseconds(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 6));\n  return n ? (d.L = Math.floor(n[0] / 1000), i + n[0].length) : -1;\n}\n\nfunction parseLiteralPercent(d, string, i) {\n  var n = percentRe.exec(string.slice(i, i + 1));\n  return n ? i + n[0].length : -1;\n}\n\nfunction parseUnixTimestamp(d, string, i) {\n  var n = numberRe.exec(string.slice(i));\n  return n ? (d.Q = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseUnixTimestampSeconds(d, string, i) {\n  var n = numberRe.exec(string.slice(i));\n  return n ? (d.s = +n[0], i + n[0].length) : -1;\n}\n\nfunction formatDayOfMonth(d, p) {\n  return pad(d.getDate(), p, 2);\n}\n\nfunction formatHour24(d, p) {\n  return pad(d.getHours(), p, 2);\n}\n\nfunction formatHour12(d, p) {\n  return pad(d.getHours() % 12 || 12, p, 2);\n}\n\nfunction formatDayOfYear(d, p) {\n  return pad(1 + timeDay.count(timeYear(d), d), p, 3);\n}\n\nfunction formatMilliseconds(d, p) {\n  return pad(d.getMilliseconds(), p, 3);\n}\n\nfunction formatMicroseconds(d, p) {\n  return formatMilliseconds(d, p) + \"000\";\n}\n\nfunction formatMonthNumber(d, p) {\n  return pad(d.getMonth() + 1, p, 2);\n}\n\nfunction formatMinutes(d, p) {\n  return pad(d.getMinutes(), p, 2);\n}\n\nfunction formatSeconds(d, p) {\n  return pad(d.getSeconds(), p, 2);\n}\n\nfunction formatWeekdayNumberMonday(d) {\n  var day = d.getDay();\n  return day === 0 ? 7 : day;\n}\n\nfunction formatWeekNumberSunday(d, p) {\n  return pad(timeSunday.count(timeYear(d) - 1, d), p, 2);\n}\n\nfunction formatWeekNumberISO(d, p) {\n  var day = d.getDay();\n  d = (day >= 4 || day === 0) ? timeThursday(d) : timeThursday.ceil(d);\n  return pad(timeThursday.count(timeYear(d), d) + (timeYear(d).getDay() === 4), p, 2);\n}\n\nfunction formatWeekdayNumberSunday(d) {\n  return d.getDay();\n}\n\nfunction formatWeekNumberMonday(d, p) {\n  return pad(timeMonday.count(timeYear(d) - 1, d), p, 2);\n}\n\nfunction formatYear(d, p) {\n  return pad(d.getFullYear() % 100, p, 2);\n}\n\nfunction formatFullYear(d, p) {\n  return pad(d.getFullYear() % 10000, p, 4);\n}\n\nfunction formatZone(d) {\n  var z = d.getTimezoneOffset();\n  return (z > 0 ? \"-\" : (z *= -1, \"+\"))\n      + pad(z / 60 | 0, \"0\", 2)\n      + pad(z % 60, \"0\", 2);\n}\n\nfunction formatUTCDayOfMonth(d, p) {\n  return pad(d.getUTCDate(), p, 2);\n}\n\nfunction formatUTCHour24(d, p) {\n  return pad(d.getUTCHours(), p, 2);\n}\n\nfunction formatUTCHour12(d, p) {\n  return pad(d.getUTCHours() % 12 || 12, p, 2);\n}\n\nfunction formatUTCDayOfYear(d, p) {\n  return pad(1 + utcDay.count(utcYear(d), d), p, 3);\n}\n\nfunction formatUTCMilliseconds(d, p) {\n  return pad(d.getUTCMilliseconds(), p, 3);\n}\n\nfunction formatUTCMicroseconds(d, p) {\n  return formatUTCMilliseconds(d, p) + \"000\";\n}\n\nfunction formatUTCMonthNumber(d, p) {\n  return pad(d.getUTCMonth() + 1, p, 2);\n}\n\nfunction formatUTCMinutes(d, p) {\n  return pad(d.getUTCMinutes(), p, 2);\n}\n\nfunction formatUTCSeconds(d, p) {\n  return pad(d.getUTCSeconds(), p, 2);\n}\n\nfunction formatUTCWeekdayNumberMonday(d) {\n  var dow = d.getUTCDay();\n  return dow === 0 ? 7 : dow;\n}\n\nfunction formatUTCWeekNumberSunday(d, p) {\n  return pad(utcSunday.count(utcYear(d) - 1, d), p, 2);\n}\n\nfunction formatUTCWeekNumberISO(d, p) {\n  var day = d.getUTCDay();\n  d = (day >= 4 || day === 0) ? utcThursday(d) : utcThursday.ceil(d);\n  return pad(utcThursday.count(utcYear(d), d) + (utcYear(d).getUTCDay() === 4), p, 2);\n}\n\nfunction formatUTCWeekdayNumberSunday(d) {\n  return d.getUTCDay();\n}\n\nfunction formatUTCWeekNumberMonday(d, p) {\n  return pad(utcMonday.count(utcYear(d) - 1, d), p, 2);\n}\n\nfunction formatUTCYear(d, p) {\n  return pad(d.getUTCFullYear() % 100, p, 2);\n}\n\nfunction formatUTCFullYear(d, p) {\n  return pad(d.getUTCFullYear() % 10000, p, 4);\n}\n\nfunction formatUTCZone() {\n  return \"+0000\";\n}\n\nfunction formatLiteralPercent() {\n  return \"%\";\n}\n\nfunction formatUnixTimestamp(d) {\n  return +d;\n}\n\nfunction formatUnixTimestampSeconds(d) {\n  return Math.floor(+d / 1000);\n}\n","import formatLocale from \"./locale.js\";\n\nvar locale;\nexport var timeFormat;\nexport var timeParse;\nexport var utcFormat;\nexport var utcParse;\n\ndefaultLocale({\n  dateTime: \"%x, %X\",\n  date: \"%-m/%-d/%Y\",\n  time: \"%-I:%M:%S %p\",\n  periods: [\"AM\", \"PM\"],\n  days: [\"Sunday\", \"Monday\", \"Tuesday\", \"Wednesday\", \"Thursday\", \"Friday\", \"Saturday\"],\n  shortDays: [\"Sun\", \"Mon\", \"Tue\", \"Wed\", \"Thu\", \"Fri\", \"Sat\"],\n  months: [\"January\", \"February\", \"March\", \"April\", \"May\", \"June\", \"July\", \"August\", \"September\", \"October\", \"November\", \"December\"],\n  shortMonths: [\"Jan\", \"Feb\", \"Mar\", \"Apr\", \"May\", \"Jun\", \"Jul\", \"Aug\", \"Sep\", \"Oct\", \"Nov\", \"Dec\"]\n});\n\nexport default function defaultLocale(definition) {\n  locale = formatLocale(definition);\n  timeFormat = locale.format;\n  timeParse = locale.parse;\n  utcFormat = locale.utcFormat;\n  utcParse = locale.utcParse;\n  return locale;\n}\n","import { dedupingMixin } from '@polymer/polymer/lib/utils/mixin.js';\nimport * as format from 'd3-format';\nimport * as time from 'd3-time-format';\n\nconst Format = dedupingMixin(superClass => {\n\n  return class extends superClass {\n\n    get _format() {\n      return this.isTime ? time.timeFormat(this.specifier) : format.format(this.specifier);\n    }\n\n    static get properties() {\n\n      return {\n\n        ...super.properties,\n\n        /*\n         * true to indicate the use of d3.timeFormat (instead of d3.format)\n         */\n        isTime: {\n          type: Boolean,\n          attribute: 'is-time'\n        },\n\n        /**\n         * `specifier` for the format function (as per https://github.com/d3/d3-format#locale_format)\n         */\n        specifier: {\n          type: String,\n          value: '.1f'\n        }\n      };\n    }\n  };\n});\n\nexport default Format;\n","export var xhtml = \"http://www.w3.org/1999/xhtml\";\n\nexport default {\n  svg: \"http://www.w3.org/2000/svg\",\n  xhtml: xhtml,\n  xlink: \"http://www.w3.org/1999/xlink\",\n  xml: \"http://www.w3.org/XML/1998/namespace\",\n  xmlns: \"http://www.w3.org/2000/xmlns/\"\n};\n","import namespaces from \"./namespaces\";\n\nexport default function(name) {\n  var prefix = name += \"\", i = prefix.indexOf(\":\");\n  if (i >= 0 && (prefix = name.slice(0, i)) !== \"xmlns\") name = name.slice(i + 1);\n  return namespaces.hasOwnProperty(prefix) ? {space: namespaces[prefix], local: name} : name;\n}\n","import namespace from \"./namespace\";\nimport {xhtml} from \"./namespaces\";\n\nfunction creatorInherit(name) {\n  return function() {\n    var document = this.ownerDocument,\n        uri = this.namespaceURI;\n    return uri === xhtml && document.documentElement.namespaceURI === xhtml\n        ? document.createElement(name)\n        : document.createElementNS(uri, name);\n  };\n}\n\nfunction creatorFixed(fullname) {\n  return function() {\n    return this.ownerDocument.createElementNS(fullname.space, fullname.local);\n  };\n}\n\nexport default function(name) {\n  var fullname = namespace(name);\n  return (fullname.local\n      ? creatorFixed\n      : creatorInherit)(fullname);\n}\n","function none() {}\n\nexport default function(selector) {\n  return selector == null ? none : function() {\n    return this.querySelector(selector);\n  };\n}\n","function empty() {\n  return [];\n}\n\nexport default function(selector) {\n  return selector == null ? empty : function() {\n    return this.querySelectorAll(selector);\n  };\n}\n","export default function(selector) {\n  return function() {\n    return this.matches(selector);\n  };\n}\n","export default function(update) {\n  return new Array(update.length);\n}\n","import sparse from \"./sparse\";\nimport {Selection} from \"./index\";\n\nexport default function() {\n  return new Selection(this._enter || this._groups.map(sparse), this._parents);\n}\n\nexport function EnterNode(parent, datum) {\n  this.ownerDocument = parent.ownerDocument;\n  this.namespaceURI = parent.namespaceURI;\n  this._next = null;\n  this._parent = parent;\n  this.__data__ = datum;\n}\n\nEnterNode.prototype = {\n  constructor: EnterNode,\n  appendChild: function(child) { return this._parent.insertBefore(child, this._next); },\n  insertBefore: function(child, next) { return this._parent.insertBefore(child, next); },\n  querySelector: function(selector) { return this._parent.querySelector(selector); },\n  querySelectorAll: function(selector) { return this._parent.querySelectorAll(selector); }\n};\n","import {Selection} from \"./index\";\nimport {EnterNode} from \"./enter\";\nimport constant from \"../constant\";\n\nvar keyPrefix = \"$\"; // Protect against keys like __proto__.\n\nfunction bindIndex(parent, group, enter, update, exit, data) {\n  var i = 0,\n      node,\n      groupLength = group.length,\n      dataLength = data.length;\n\n  // Put any non-null nodes that fit into update.\n  // Put any null nodes into enter.\n  // Put any remaining data into enter.\n  for (; i < dataLength; ++i) {\n    if (node = group[i]) {\n      node.__data__ = data[i];\n      update[i] = node;\n    } else {\n      enter[i] = new EnterNode(parent, data[i]);\n    }\n  }\n\n  // Put any non-null nodes that dont fit into exit.\n  for (; i < groupLength; ++i) {\n    if (node = group[i]) {\n      exit[i] = node;\n    }\n  }\n}\n\nfunction bindKey(parent, group, enter, update, exit, data, key) {\n  var i,\n      node,\n      nodeByKeyValue = {},\n      groupLength = group.length,\n      dataLength = data.length,\n      keyValues = new Array(groupLength),\n      keyValue;\n\n  // Compute the key for each node.\n  // If multiple nodes have the same key, the duplicates are added to exit.\n  for (i = 0; i < groupLength; ++i) {\n    if (node = group[i]) {\n      keyValues[i] = keyValue = keyPrefix + key.call(node, node.__data__, i, group);\n      if (keyValue in nodeByKeyValue) {\n        exit[i] = node;\n      } else {\n        nodeByKeyValue[keyValue] = node;\n      }\n    }\n  }\n\n  // Compute the key for each datum.\n  // If there a node associated with this key, join and add it to update.\n  // If there is not (or the key is a duplicate), add it to enter.\n  for (i = 0; i < dataLength; ++i) {\n    keyValue = keyPrefix + key.call(parent, data[i], i, data);\n    if (node = nodeByKeyValue[keyValue]) {\n      update[i] = node;\n      node.__data__ = data[i];\n      nodeByKeyValue[keyValue] = null;\n    } else {\n      enter[i] = new EnterNode(parent, data[i]);\n    }\n  }\n\n  // Add any remaining nodes that were not bound to data to exit.\n  for (i = 0; i < groupLength; ++i) {\n    if ((node = group[i]) && (nodeByKeyValue[keyValues[i]] === node)) {\n      exit[i] = node;\n    }\n  }\n}\n\nexport default function(value, key) {\n  if (!value) {\n    data = new Array(this.size()), j = -1;\n    this.each(function(d) { data[++j] = d; });\n    return data;\n  }\n\n  var bind = key ? bindKey : bindIndex,\n      parents = this._parents,\n      groups = this._groups;\n\n  if (typeof value !== \"function\") value = constant(value);\n\n  for (var m = groups.length, update = new Array(m), enter = new Array(m), exit = new Array(m), j = 0; j < m; ++j) {\n    var parent = parents[j],\n        group = groups[j],\n        groupLength = group.length,\n        data = value.call(parent, parent && parent.__data__, j, parents),\n        dataLength = data.length,\n        enterGroup = enter[j] = new Array(dataLength),\n        updateGroup = update[j] = new Array(dataLength),\n        exitGroup = exit[j] = new Array(groupLength);\n\n    bind(parent, group, enterGroup, updateGroup, exitGroup, data, key);\n\n    // Now connect the enter nodes to their following update node, such that\n    // appendChild can insert the materialized enter node before this node,\n    // rather than at the end of the parent node.\n    for (var i0 = 0, i1 = 0, previous, next; i0 < dataLength; ++i0) {\n      if (previous = enterGroup[i0]) {\n        if (i0 >= i1) i1 = i0 + 1;\n        while (!(next = updateGroup[i1]) && ++i1 < dataLength);\n        previous._next = next || null;\n      }\n    }\n  }\n\n  update = new Selection(update, parents);\n  update._enter = enter;\n  update._exit = exit;\n  return update;\n}\n","import {Selection} from \"./index\";\n\nexport default function(compare) {\n  if (!compare) compare = ascending;\n\n  function compareNode(a, b) {\n    return a && b ? compare(a.__data__, b.__data__) : !a - !b;\n  }\n\n  for (var groups = this._groups, m = groups.length, sortgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, sortgroup = sortgroups[j] = new Array(n), node, i = 0; i < n; ++i) {\n      if (node = group[i]) {\n        sortgroup[i] = node;\n      }\n    }\n    sortgroup.sort(compareNode);\n  }\n\n  return new Selection(sortgroups, this._parents).order();\n}\n\nfunction ascending(a, b) {\n  return a < b ? -1 : a > b ? 1 : a >= b ? 0 : NaN;\n}\n","import namespace from \"../namespace\";\n\nfunction attrRemove(name) {\n  return function() {\n    this.removeAttribute(name);\n  };\n}\n\nfunction attrRemoveNS(fullname) {\n  return function() {\n    this.removeAttributeNS(fullname.space, fullname.local);\n  };\n}\n\nfunction attrConstant(name, value) {\n  return function() {\n    this.setAttribute(name, value);\n  };\n}\n\nfunction attrConstantNS(fullname, value) {\n  return function() {\n    this.setAttributeNS(fullname.space, fullname.local, value);\n  };\n}\n\nfunction attrFunction(name, value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    if (v == null) this.removeAttribute(name);\n    else this.setAttribute(name, v);\n  };\n}\n\nfunction attrFunctionNS(fullname, value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    if (v == null) this.removeAttributeNS(fullname.space, fullname.local);\n    else this.setAttributeNS(fullname.space, fullname.local, v);\n  };\n}\n\nexport default function(name, value) {\n  var fullname = namespace(name);\n\n  if (arguments.length < 2) {\n    var node = this.node();\n    return fullname.local\n        ? node.getAttributeNS(fullname.space, fullname.local)\n        : node.getAttribute(fullname);\n  }\n\n  return this.each((value == null\n      ? (fullname.local ? attrRemoveNS : attrRemove) : (typeof value === \"function\"\n      ? (fullname.local ? attrFunctionNS : attrFunction)\n      : (fullname.local ? attrConstantNS : attrConstant)))(fullname, value));\n}\n","export default function(node) {\n  return (node.ownerDocument && node.ownerDocument.defaultView) // node is a Node\n      || (node.document && node) // node is a Window\n      || node.defaultView; // node is a Document\n}\n","import defaultView from \"../window\";\n\nfunction styleRemove(name) {\n  return function() {\n    this.style.removeProperty(name);\n  };\n}\n\nfunction styleConstant(name, value, priority) {\n  return function() {\n    this.style.setProperty(name, value, priority);\n  };\n}\n\nfunction styleFunction(name, value, priority) {\n  return function() {\n    var v = value.apply(this, arguments);\n    if (v == null) this.style.removeProperty(name);\n    else this.style.setProperty(name, v, priority);\n  };\n}\n\nexport default function(name, value, priority) {\n  return arguments.length > 1\n      ? this.each((value == null\n            ? styleRemove : typeof value === \"function\"\n            ? styleFunction\n            : styleConstant)(name, value, priority == null ? \"\" : priority))\n      : styleValue(this.node(), name);\n}\n\nexport function styleValue(node, name) {\n  return node.style.getPropertyValue(name)\n      || defaultView(node).getComputedStyle(node, null).getPropertyValue(name);\n}\n","function propertyRemove(name) {\n  return function() {\n    delete this[name];\n  };\n}\n\nfunction propertyConstant(name, value) {\n  return function() {\n    this[name] = value;\n  };\n}\n\nfunction propertyFunction(name, value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    if (v == null) delete this[name];\n    else this[name] = v;\n  };\n}\n\nexport default function(name, value) {\n  return arguments.length > 1\n      ? this.each((value == null\n          ? propertyRemove : typeof value === \"function\"\n          ? propertyFunction\n          : propertyConstant)(name, value))\n      : this.node()[name];\n}\n","function classArray(string) {\n  return string.trim().split(/^|\\s+/);\n}\n\nfunction classList(node) {\n  return node.classList || new ClassList(node);\n}\n\nfunction ClassList(node) {\n  this._node = node;\n  this._names = classArray(node.getAttribute(\"class\") || \"\");\n}\n\nClassList.prototype = {\n  add: function(name) {\n    var i = this._names.indexOf(name);\n    if (i < 0) {\n      this._names.push(name);\n      this._node.setAttribute(\"class\", this._names.join(\" \"));\n    }\n  },\n  remove: function(name) {\n    var i = this._names.indexOf(name);\n    if (i >= 0) {\n      this._names.splice(i, 1);\n      this._node.setAttribute(\"class\", this._names.join(\" \"));\n    }\n  },\n  contains: function(name) {\n    return this._names.indexOf(name) >= 0;\n  }\n};\n\nfunction classedAdd(node, names) {\n  var list = classList(node), i = -1, n = names.length;\n  while (++i < n) list.add(names[i]);\n}\n\nfunction classedRemove(node, names) {\n  var list = classList(node), i = -1, n = names.length;\n  while (++i < n) list.remove(names[i]);\n}\n\nfunction classedTrue(names) {\n  return function() {\n    classedAdd(this, names);\n  };\n}\n\nfunction classedFalse(names) {\n  return function() {\n    classedRemove(this, names);\n  };\n}\n\nfunction classedFunction(names, value) {\n  return function() {\n    (value.apply(this, arguments) ? classedAdd : classedRemove)(this, names);\n  };\n}\n\nexport default function(name, value) {\n  var names = classArray(name + \"\");\n\n  if (arguments.length < 2) {\n    var list = classList(this.node()), i = -1, n = names.length;\n    while (++i < n) if (!list.contains(names[i])) return false;\n    return true;\n  }\n\n  return this.each((typeof value === \"function\"\n      ? classedFunction : value\n      ? classedTrue\n      : classedFalse)(names, value));\n}\n","function textRemove() {\n  this.textContent = \"\";\n}\n\nfunction textConstant(value) {\n  return function() {\n    this.textContent = value;\n  };\n}\n\nfunction textFunction(value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    this.textContent = v == null ? \"\" : v;\n  };\n}\n\nexport default function(value) {\n  return arguments.length\n      ? this.each(value == null\n          ? textRemove : (typeof value === \"function\"\n          ? textFunction\n          : textConstant)(value))\n      : this.node().textContent;\n}\n","function htmlRemove() {\n  this.innerHTML = \"\";\n}\n\nfunction htmlConstant(value) {\n  return function() {\n    this.innerHTML = value;\n  };\n}\n\nfunction htmlFunction(value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    this.innerHTML = v == null ? \"\" : v;\n  };\n}\n\nexport default function(value) {\n  return arguments.length\n      ? this.each(value == null\n          ? htmlRemove : (typeof value === \"function\"\n          ? htmlFunction\n          : htmlConstant)(value))\n      : this.node().innerHTML;\n}\n","function raise() {\n  if (this.nextSibling) this.parentNode.appendChild(this);\n}\n\nexport default function() {\n  return this.each(raise);\n}\n","function lower() {\n  if (this.previousSibling) this.parentNode.insertBefore(this, this.parentNode.firstChild);\n}\n\nexport default function() {\n  return this.each(lower);\n}\n","import creator from \"../creator\";\nimport selector from \"../selector\";\n\nfunction constantNull() {\n  return null;\n}\n\nexport default function(name, before) {\n  var create = typeof name === \"function\" ? name : creator(name),\n      select = before == null ? constantNull : typeof before === \"function\" ? before : selector(before);\n  return this.select(function() {\n    return this.insertBefore(create.apply(this, arguments), select.apply(this, arguments) || null);\n  });\n}\n","function remove() {\n  var parent = this.parentNode;\n  if (parent) parent.removeChild(this);\n}\n\nexport default function() {\n  return this.each(remove);\n}\n","function selection_cloneShallow() {\n  var clone = this.cloneNode(false), parent = this.parentNode;\n  return parent ? parent.insertBefore(clone, this.nextSibling) : clone;\n}\n\nfunction selection_cloneDeep() {\n  var clone = this.cloneNode(true), parent = this.parentNode;\n  return parent ? parent.insertBefore(clone, this.nextSibling) : clone;\n}\n\nexport default function(deep) {\n  return this.select(deep ? selection_cloneDeep : selection_cloneShallow);\n}\n","var filterEvents = {};\n\nexport var event = null;\n\nif (typeof document !== \"undefined\") {\n  var element = document.documentElement;\n  if (!(\"onmouseenter\" in element)) {\n    filterEvents = {mouseenter: \"mouseover\", mouseleave: \"mouseout\"};\n  }\n}\n\nfunction filterContextListener(listener, index, group) {\n  listener = contextListener(listener, index, group);\n  return function(event) {\n    var related = event.relatedTarget;\n    if (!related || (related !== this && !(related.compareDocumentPosition(this) & 8))) {\n      listener.call(this, event);\n    }\n  };\n}\n\nfunction contextListener(listener, index, group) {\n  return function(event1) {\n    var event0 = event; // Events can be reentrant (e.g., focus).\n    event = event1;\n    try {\n      listener.call(this, this.__data__, index, group);\n    } finally {\n      event = event0;\n    }\n  };\n}\n\nfunction parseTypenames(typenames) {\n  return typenames.trim().split(/^|\\s+/).map(function(t) {\n    var name = \"\", i = t.indexOf(\".\");\n    if (i >= 0) name = t.slice(i + 1), t = t.slice(0, i);\n    return {type: t, name: name};\n  });\n}\n\nfunction onRemove(typename) {\n  return function() {\n    var on = this.__on;\n    if (!on) return;\n    for (var j = 0, i = -1, m = on.length, o; j < m; ++j) {\n      if (o = on[j], (!typename.type || o.type === typename.type) && o.name === typename.name) {\n        this.removeEventListener(o.type, o.listener, o.capture);\n      } else {\n        on[++i] = o;\n      }\n    }\n    if (++i) on.length = i;\n    else delete this.__on;\n  };\n}\n\nfunction onAdd(typename, value, capture) {\n  var wrap = filterEvents.hasOwnProperty(typename.type) ? filterContextListener : contextListener;\n  return function(d, i, group) {\n    var on = this.__on, o, listener = wrap(value, i, group);\n    if (on) for (var j = 0, m = on.length; j < m; ++j) {\n      if ((o = on[j]).type === typename.type && o.name === typename.name) {\n        this.removeEventListener(o.type, o.listener, o.capture);\n        this.addEventListener(o.type, o.listener = listener, o.capture = capture);\n        o.value = value;\n        return;\n      }\n    }\n    this.addEventListener(typename.type, listener, capture);\n    o = {type: typename.type, name: typename.name, value: value, listener: listener, capture: capture};\n    if (!on) this.__on = [o];\n    else on.push(o);\n  };\n}\n\nexport default function(typename, value, capture) {\n  var typenames = parseTypenames(typename + \"\"), i, n = typenames.length, t;\n\n  if (arguments.length < 2) {\n    var on = this.node().__on;\n    if (on) for (var j = 0, m = on.length, o; j < m; ++j) {\n      for (i = 0, o = on[j]; i < n; ++i) {\n        if ((t = typenames[i]).type === o.type && t.name === o.name) {\n          return o.value;\n        }\n      }\n    }\n    return;\n  }\n\n  on = value ? onAdd : onRemove;\n  if (capture == null) capture = false;\n  for (i = 0; i < n; ++i) this.each(on(typenames[i], value, capture));\n  return this;\n}\n\nexport function customEvent(event1, listener, that, args) {\n  var event0 = event;\n  event1.sourceEvent = event;\n  event = event1;\n  try {\n    return listener.apply(that, args);\n  } finally {\n    event = event0;\n  }\n}\n","import defaultView from \"../window\";\n\nfunction dispatchEvent(node, type, params) {\n  var window = defaultView(node),\n      event = window.CustomEvent;\n\n  if (typeof event === \"function\") {\n    event = new event(type, params);\n  } else {\n    event = window.document.createEvent(\"Event\");\n    if (params) event.initEvent(type, params.bubbles, params.cancelable), event.detail = params.detail;\n    else event.initEvent(type, false, false);\n  }\n\n  node.dispatchEvent(event);\n}\n\nfunction dispatchConstant(type, params) {\n  return function() {\n    return dispatchEvent(this, type, params);\n  };\n}\n\nfunction dispatchFunction(type, params) {\n  return function() {\n    return dispatchEvent(this, type, params.apply(this, arguments));\n  };\n}\n\nexport default function(type, params) {\n  return this.each((typeof params === \"function\"\n      ? dispatchFunction\n      : dispatchConstant)(type, params));\n}\n","import selection_select from \"./select\";\nimport selection_selectAll from \"./selectAll\";\nimport selection_filter from \"./filter\";\nimport selection_data from \"./data\";\nimport selection_enter from \"./enter\";\nimport selection_exit from \"./exit\";\nimport selection_join from \"./join\";\nimport selection_merge from \"./merge\";\nimport selection_order from \"./order\";\nimport selection_sort from \"./sort\";\nimport selection_call from \"./call\";\nimport selection_nodes from \"./nodes\";\nimport selection_node from \"./node\";\nimport selection_size from \"./size\";\nimport selection_empty from \"./empty\";\nimport selection_each from \"./each\";\nimport selection_attr from \"./attr\";\nimport selection_style from \"./style\";\nimport selection_property from \"./property\";\nimport selection_classed from \"./classed\";\nimport selection_text from \"./text\";\nimport selection_html from \"./html\";\nimport selection_raise from \"./raise\";\nimport selection_lower from \"./lower\";\nimport selection_append from \"./append\";\nimport selection_insert from \"./insert\";\nimport selection_remove from \"./remove\";\nimport selection_clone from \"./clone\";\nimport selection_datum from \"./datum\";\nimport selection_on from \"./on\";\nimport selection_dispatch from \"./dispatch\";\n\nexport var root = [null];\n\nexport function Selection(groups, parents) {\n  this._groups = groups;\n  this._parents = parents;\n}\n\nfunction selection() {\n  return new Selection([[document.documentElement]], root);\n}\n\nSelection.prototype = selection.prototype = {\n  constructor: Selection,\n  select: selection_select,\n  selectAll: selection_selectAll,\n  filter: selection_filter,\n  data: selection_data,\n  enter: selection_enter,\n  exit: selection_exit,\n  join: selection_join,\n  merge: selection_merge,\n  order: selection_order,\n  sort: selection_sort,\n  call: selection_call,\n  nodes: selection_nodes,\n  node: selection_node,\n  size: selection_size,\n  empty: selection_empty,\n  each: selection_each,\n  attr: selection_attr,\n  style: selection_style,\n  property: selection_property,\n  classed: selection_classed,\n  text: selection_text,\n  html: selection_html,\n  raise: selection_raise,\n  lower: selection_lower,\n  append: selection_append,\n  insert: selection_insert,\n  remove: selection_remove,\n  clone: selection_clone,\n  datum: selection_datum,\n  on: selection_on,\n  dispatch: selection_dispatch\n};\n\nexport default selection;\n","import {Selection, root} from \"./selection/index\";\n\nexport default function(selector) {\n  return typeof selector === \"string\"\n      ? new Selection([[document.querySelector(selector)]], [document.documentElement])\n      : new Selection([[selector]], root);\n}\n","import {event} from \"./selection/on\";\n\nexport default function() {\n  var current = event, source;\n  while (source = current.sourceEvent) current = source;\n  return current;\n}\n","export default function(node, event) {\n  var svg = node.ownerSVGElement || node;\n\n  if (svg.createSVGPoint) {\n    var point = svg.createSVGPoint();\n    point.x = event.clientX, point.y = event.clientY;\n    point = point.matrixTransform(node.getScreenCTM().inverse());\n    return [point.x, point.y];\n  }\n\n  var rect = node.getBoundingClientRect();\n  return [event.clientX - rect.left - node.clientLeft, event.clientY - rect.top - node.clientTop];\n}\n","import sourceEvent from \"./sourceEvent\";\nimport point from \"./point\";\n\nexport default function(node) {\n  var event = sourceEvent();\n  if (event.changedTouches) event = event.changedTouches[0];\n  return point(node, event);\n}\n","import sourceEvent from \"./sourceEvent\";\nimport point from \"./point\";\n\nexport default function(node, touches, identifier) {\n  if (arguments.length < 3) identifier = touches, touches = sourceEvent().changedTouches;\n\n  for (var i = 0, n = touches ? touches.length : 0, touch; i < n; ++i) {\n    if ((touch = touches[i]).identifier === identifier) {\n      return point(node, touch);\n    }\n  }\n\n  return null;\n}\n","import {Selection} from \"./index\";\nimport selector from \"../selector\";\n\nexport default function(select) {\n  if (typeof select !== \"function\") select = selector(select);\n\n  for (var groups = this._groups, m = groups.length, subgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, subgroup = subgroups[j] = new Array(n), node, subnode, i = 0; i < n; ++i) {\n      if ((node = group[i]) && (subnode = select.call(node, node.__data__, i, group))) {\n        if (\"__data__\" in node) subnode.__data__ = node.__data__;\n        subgroup[i] = subnode;\n      }\n    }\n  }\n\n  return new Selection(subgroups, this._parents);\n}\n","import {Selection} from \"./index\";\nimport selectorAll from \"../selectorAll\";\n\nexport default function(select) {\n  if (typeof select !== \"function\") select = selectorAll(select);\n\n  for (var groups = this._groups, m = groups.length, subgroups = [], parents = [], j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, node, i = 0; i < n; ++i) {\n      if (node = group[i]) {\n        subgroups.push(select.call(node, node.__data__, i, group));\n        parents.push(node);\n      }\n    }\n  }\n\n  return new Selection(subgroups, parents);\n}\n","import {Selection} from \"./index\";\nimport matcher from \"../matcher\";\n\nexport default function(match) {\n  if (typeof match !== \"function\") match = matcher(match);\n\n  for (var groups = this._groups, m = groups.length, subgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, subgroup = subgroups[j] = [], node, i = 0; i < n; ++i) {\n      if ((node = group[i]) && match.call(node, node.__data__, i, group)) {\n        subgroup.push(node);\n      }\n    }\n  }\n\n  return new Selection(subgroups, this._parents);\n}\n","export default function(x) {\n  return function() {\n    return x;\n  };\n}\n","import sparse from \"./sparse\";\nimport {Selection} from \"./index\";\n\nexport default function() {\n  return new Selection(this._exit || this._groups.map(sparse), this._parents);\n}\n","export default function(onenter, onupdate, onexit) {\n  var enter = this.enter(), update = this, exit = this.exit();\n  enter = typeof onenter === \"function\" ? onenter(enter) : enter.append(onenter + \"\");\n  if (onupdate != null) update = onupdate(update);\n  if (onexit == null) exit.remove(); else onexit(exit);\n  return enter && update ? enter.merge(update).order() : update;\n}\n","import {Selection} from \"./index\";\n\nexport default function(selection) {\n\n  for (var groups0 = this._groups, groups1 = selection._groups, m0 = groups0.length, m1 = groups1.length, m = Math.min(m0, m1), merges = new Array(m0), j = 0; j < m; ++j) {\n    for (var group0 = groups0[j], group1 = groups1[j], n = group0.length, merge = merges[j] = new Array(n), node, i = 0; i < n; ++i) {\n      if (node = group0[i] || group1[i]) {\n        merge[i] = node;\n      }\n    }\n  }\n\n  for (; j < m0; ++j) {\n    merges[j] = groups0[j];\n  }\n\n  return new Selection(merges, this._parents);\n}\n","export default function() {\n\n  for (var groups = this._groups, j = -1, m = groups.length; ++j < m;) {\n    for (var group = groups[j], i = group.length - 1, next = group[i], node; --i >= 0;) {\n      if (node = group[i]) {\n        if (next && node.compareDocumentPosition(next) ^ 4) next.parentNode.insertBefore(node, next);\n        next = node;\n      }\n    }\n  }\n\n  return this;\n}\n","export default function() {\n  var callback = arguments[0];\n  arguments[0] = this;\n  callback.apply(null, arguments);\n  return this;\n}\n","export default function() {\n  var nodes = new Array(this.size()), i = -1;\n  this.each(function() { nodes[++i] = this; });\n  return nodes;\n}\n","export default function() {\n\n  for (var groups = this._groups, j = 0, m = groups.length; j < m; ++j) {\n    for (var group = groups[j], i = 0, n = group.length; i < n; ++i) {\n      var node = group[i];\n      if (node) return node;\n    }\n  }\n\n  return null;\n}\n","export default function() {\n  var size = 0;\n  this.each(function() { ++size; });\n  return size;\n}\n","export default function() {\n  return !this.node();\n}\n","export default function(callback) {\n\n  for (var groups = this._groups, j = 0, m = groups.length; j < m; ++j) {\n    for (var group = groups[j], i = 0, n = group.length, node; i < n; ++i) {\n      if (node = group[i]) callback.call(node, node.__data__, i, group);\n    }\n  }\n\n  return this;\n}\n","import creator from \"../creator\";\n\nexport default function(name) {\n  var create = typeof name === \"function\" ? name : creator(name);\n  return this.select(function() {\n    return this.appendChild(create.apply(this, arguments));\n  });\n}\n","export default function(value) {\n  return arguments.length\n      ? this.property(\"__data__\", value)\n      : this.node().__data__;\n}\n","import { dedupingMixin } from '@polymer/polymer/lib/utils/mixin.js';\nimport { select } from 'd3-selection'\n\n/**\n * ##  DispatchSVG\n * \n * dispatch template elements marked as slot-svg=\"svgID\" to svgHost\n * \n */\n\nconst DispatchSVG = dedupingMixin(superClass => {\n\n  return class extends superClass {\n\n    static get properties() {\n\n      return {\n\n        ...super.properties,\n\n        /* \n         * `svgHost` the host to which [slog-svg] nodes must be stamped\n         */\n        svgHost: {\n          type: Object,\n          attribute: 'svg-host'\n        }\n\n      };\n    }\n\n    constructor() {\n      super();\n      this._hostedNodes = {};\n    }\n\n    getHostedNode(target) {\n      return this._hostedNodes[target] || null;\n    }\n\n    update(props) {\n      super.update(props);\n      if (props.has('svgHost')) {\n        if (this.svgHost && this.resize) {\n          this.resize(this.svgHost.width, this.svgHost.height);\n        }\n        this.observeSvgHost(this.svgHost, props.get('svgHost'));\n      }\n    }\n\n    observeSvgHost(host, old) {\n      if (host && this.renderRoot) {\n        this.renderRoot.querySelectorAll('[slot-svg]').forEach(node => {\n          const target = node.getAttribute('slot-svg');\n          const parent = (host.$ && host.$[target]) || host.renderRoot.querySelector(`#${target}`);\n          if (parent) {\n            this._hostedNodes[node.id || target] = node;\n            const position = node.dataset.multiPosition;\n            const appended = [...parent.childNodes].some(n => {\n              if (node.dataset.multiPosition >= position) {\n                parent.insertBefore(node,n);\n                return true;\n              }\n            })\n            if (!appended) {\n              parent.appendChild(node);\n            }\n\n            // parent.appendChild(node);\n            // Note(cg): reorder according to multi-position\n            return\n            // select(targetNode).selectAll('>*').sort((a,b) => a.dataset.multiPosition - b.dataset.multiPosition);\n            // return;\n          }\n          throw new Error(`cannot dispatch node ${target}`);\n        });\n        this.setHostStyle(host, old);\n      }\n      if (host === null && old) {\n        Object.keys(this._hostedNodes).forEach(k => {\n          this.renderRoot.appendChild(this._hostedNodes[k]);\n          delete this._hostedNodes[k];\n        });\n      }\n    }\n\n    getRootHost(host) {\n      while (host.svgHost) {\n        host = host.svgHost;\n      }\n      return host;\n    }\n\n    // Note(cg): hack to inject style in host.\n    setHostStyle(host) {\n      if (this.constructor.hostStyles) {\n        const name = this.constructor.name;\n        host = this.getRootHost(host);\n        if (!host.renderRoot.querySelector(`style[id=${name}]`)) {\n          const st = document.createElement('style')\n          st.id = name;\n          st.innerHTML = this.constructor.hostStyles.cssText;\n          host.renderRoot.appendChild(st);\n\n        }\n      }\n    }\n\n    // Note(cg): after Register is called by `multi-register-mixin` (multi-container-svg) once \n    afterRegister(host, containerName = 'svgHost') {\n      this[containerName] = host;\n    }\n\n    afterUnregister(host, containerName = 'svgHost') {\n      this[containerName] = null;\n    }\n\n    /* \n     * `postRemove` is called by `multi-registerable-mixin` on disconnectedCallback. \n     * It unregisters this element from svgHost. \n     */\n    postRemove() {\n      if (this.svgHost && this.svgHost.unregister) {\n        this.svgHost.unregister(this);\n      }\n      super.postRemove && super.postRemove();\n    }\n\n  };\n});\n\n/*\n * @mixinFunction\n */\nexport default DispatchSVG;","/**\n@license\nCopyright (c) 2017 The Polymer Project Authors. All rights reserved.\nThis code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt\nThe complete set of authors may be found at http://polymer.github.io/AUTHORS.txt\nThe complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt\nCode distributed by Google as part of the polymer project is also\nsubject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt\n*/\nimport './boot.js';\n\nconst caseMap = {};\nconst DASH_TO_CAMEL = /-[a-z]/g;\nconst CAMEL_TO_DASH = /([A-Z])/g;\n\n/**\n * @fileoverview Module with utilities for converting between \"dash-case\" and\n * \"camelCase\" identifiers.\n */\n\n/**\n * Converts \"dash-case\" identifier (e.g. `foo-bar-baz`) to \"camelCase\"\n * (e.g. `fooBarBaz`).\n *\n * @param {string} dash Dash-case identifier\n * @return {string} Camel-case representation of the identifier\n */\nexport function dashToCamelCase(dash) {\n  return caseMap[dash] || (\n    caseMap[dash] = dash.indexOf('-') < 0 ? dash : dash.replace(DASH_TO_CAMEL,\n      (m) => m[1].toUpperCase()\n    )\n  );\n}\n\n/**\n * Converts \"camelCase\" identifier (e.g. `fooBarBaz`) to \"dash-case\"\n * (e.g. `foo-bar-baz`).\n *\n * @param {string} camel Camel-case identifier\n * @return {string} Dash-case representation of the identifier\n */\nexport function camelToDashCase(camel) {\n  return caseMap[camel] || (\n    caseMap[camel] = camel.replace(CAMEL_TO_DASH, '-$1').toLowerCase()\n  );\n}\n","import { select } from 'd3-selection';\nimport { camelToDashCase, dashToCamelCase } from '@polymer/polymer/lib/utils/case-map.js';\n\n// Capitalize the first letter od a word.\nconst capitalize = str => str[0].toUpperCase() + str.slice(1);\n\n//  fitTo set transform attribute of source so that it fits target container.\nconst fitTo = (source, target, factor = 0.95, duration) => {\n\n  let sel = select(source);\n\n  if (duration) {\n    sel = sel.transition().duration(duration);\n  }\n\n  if (!target) {\n    // Note(cg): reset.\n    return sel.attr('transform', 'translate(0,0)scale(1)');\n  }\n\n  sel.attr('transform', null);\n\n  const sourceRect = source.getBoundingClientRect(),\n    dx = sourceRect.width,\n    dy = sourceRect.height;\n\n  if (!dx || !dy) {\n    return;\n  }\n  const targetRect = target.getBoundingClientRect(),\n    x = (-sourceRect.left + sourceRect.right) / 2,\n    y = (-sourceRect.top + sourceRect.bottom) / 2,\n    xOffset = targetRect.x - sourceRect.x,\n    yOffset = targetRect.y - sourceRect.y,\n    scale = factor / Math.max(dx / targetRect.width, dy / targetRect.height),\n    translate = [xOffset * scale + (targetRect.width / 2 - scale * x), yOffset * scale + (targetRect.height / 2 - scale * y)];\n\n  sel.attr('transform', 'translate(' + translate[0] + ',' + translate[1] + ') scale(' + scale + ')');\n};\n\nconst shapeProperties = (keys, props = {}) => {\n  keys.forEach(key => {\n    if (!props[key]) {\n      props[key] = {\n        type: Function,\n        attribute: camelToDashCase(key)\n      };\n    }\n  });\n  return props;\n};\n\n// Note(cg): from https://bl.ocks.org/mbostock/7555321.\nconst wrap = (text, width) => {\n  text.each(function() {\n\n    const text = select(this),\n      words = text.text().split(/\\s+/).reverse(),\n      lineHeight = 1.1, // ems\n      y = text.attr('y'),\n      x = text.attr('x'),\n      dy = parseFloat(text.attr('dy'));\n   \n    let word,\n      line = [],\n      lineNumber = 0,\n      tspan = text.text(null).append('tspan').attr('x', x).attr('y', y).attr('dy', dy + 'em');\n\n    while (word = words.pop()) {\n      line.push(word);\n      tspan.text(line.join(' '));\n      if (tspan.node().getComputedTextLength() > width) {\n        line.pop();\n        tspan.text(line.join(' '));\n        line = [word];\n        // tspan = text.append('tspan').attr('x', 0).attr('y', y).attr('dy', ++lineNumber * lineHeight + dy + 'em').text(word);\n        tspan = text.append('tspan').attr('x', x).attr('y', y).attr('dy', ++lineNumber * lineHeight + dy + 'em').text(word);\n      }\n    }\n  });\n};\n\nexport {\n  fitTo,\n  capitalize,\n  camelToDashCase,\n  dashToCamelCase,\n  shapeProperties,\n  wrap\n};\n","import { capitalize } from './utils.js';\n\n/**\n * ## AxisProperty\n *\n * a mixin for constructing `top`, `left`, `bottom` and `right` properties\n *\n */\nexport const extendProperty = (name, ...props) => {\n  const namedProperties = {};\n  const properties = Object.assign({}, ...props);\n  Object.keys(properties).forEach(k => {\n    // Note(cg): properties that need to be exported as named properies (e.g. `bottomElastic`, `rightDomain`) are marked as _multiFactory: true .\n    namedProperties[`${name}${capitalize(k)}`] = Object.assign({}, properties[k]);\n    namedProperties[`${name}${capitalize(k)}`].attribute = `${name}-${properties[k].attribute || k}`;\n  });\n  return namedProperties;\n}\n\nconst ExtendProperty = (superClass, name, ...props) => {\n\n  const namedProperties = extendProperty(name, ...props);\n\n  /*\n   * @polymer\n   * @mixinClass\n   */\n  class Mixin extends superClass {\n\n    static get properties() {\n      return Object.assign(super.properties || {}, namedProperties);\n    }\n  }\n\n  return Mixin;\n};\n\n/*\n * @mixinClass\n */\nexport default ExtendProperty;\n","/**\n * @license\n * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.\n * This code may only be used under the BSD style license found at\n * http://polymer.github.io/LICENSE.txt\n * The complete set of authors may be found at\n * http://polymer.github.io/AUTHORS.txt\n * The complete set of contributors may be found at\n * http://polymer.github.io/CONTRIBUTORS.txt\n * Code distributed by Google as part of the polymer project is also\n * subject to an additional IP rights grant found at\n * http://polymer.github.io/PATENTS.txt\n */\nconst directives = new WeakMap();\n/**\n * Brands a function as a directive factory function so that lit-html will call\n * the function during template rendering, rather than passing as a value.\n *\n * A _directive_ is a function that takes a Part as an argument. It has the\n * signature: `(part: Part) => void`.\n *\n * A directive _factory_ is a function that takes arguments for data and\n * configuration and returns a directive. Users of directive usually refer to\n * the directive factory as the directive. For example, \"The repeat directive\".\n *\n * Usually a template author will invoke a directive factory in their template\n * with relevant arguments, which will then return a directive function.\n *\n * Here's an example of using the `repeat()` directive factory that takes an\n * array and a function to render an item:\n *\n * ```js\n * html`<ul><${repeat(items, (item) => html`<li>${item}</li>`)}</ul>`\n * ```\n *\n * When `repeat` is invoked, it returns a directive function that closes over\n * `items` and the template function. When the outer template is rendered, the\n * return directive function is called with the Part for the expression.\n * `repeat` then performs it's custom logic to render multiple items.\n *\n * @param f The directive factory function. Must be a function that returns a\n * function of the signature `(part: Part) => void`. The returned function will\n * be called with the part object.\n *\n * @example\n *\n * import {directive, html} from 'lit-html';\n *\n * const immutable = directive((v) => (part) => {\n *   if (part.value !== v) {\n *     part.setValue(v)\n *   }\n * });\n */\nexport const directive = (f) => ((...args) => {\n    const d = f(...args);\n    directives.set(d, true);\n    return d;\n});\nexport const isDirective = (o) => {\n    return typeof o === 'function' && directives.has(o);\n};\n//# sourceMappingURL=directive.js.map","/**\n * @license\n * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.\n * This code may only be used under the BSD style license found at\n * http://polymer.github.io/LICENSE.txt\n * The complete set of authors may be found at\n * http://polymer.github.io/AUTHORS.txt\n * The complete set of contributors may be found at\n * http://polymer.github.io/CONTRIBUTORS.txt\n * Code distributed by Google as part of the polymer project is also\n * subject to an additional IP rights grant found at\n * http://polymer.github.io/PATENTS.txt\n */\n/**\n * True if the custom elements polyfill is in use.\n */\nexport const isCEPolyfill = window.customElements !== undefined &&\n    window.customElements.polyfillWrapFlushCallback !==\n        undefined;\n/**\n * Reparents nodes, starting from `start` (inclusive) to `end` (exclusive),\n * into another container (could be the same container), before `before`. If\n * `before` is null, it appends the nodes to the container.\n */\nexport const reparentNodes = (container, start, end = null, before = null) => {\n    while (start !== end) {\n        const n = start.nextSibling;\n        container.insertBefore(start, before);\n        start = n;\n    }\n};\n/**\n * Removes nodes, starting from `start` (inclusive) to `end` (exclusive), from\n * `container`.\n */\nexport const removeNodes = (container, start, end = null) => {\n    while (start !== end) {\n        const n = start.nextSibling;\n        container.removeChild(start);\n        start = n;\n    }\n};\n//# sourceMappingURL=dom.js.map","/**\n * @license\n * Copyright (c) 2018 The Polymer Project Authors. All rights reserved.\n * This code may only be used under the BSD style license found at\n * http://polymer.github.io/LICENSE.txt\n * The complete set of authors may be found at\n * http://polymer.github.io/AUTHORS.txt\n * The complete set of contributors may be found at\n * http://polymer.github.io/CONTRIBUTORS.txt\n * Code distributed by Google as part of the polymer project is also\n * subject to an additional IP rights grant found at\n * http://polymer.github.io/PATENTS.txt\n */\n/**\n * A sentinel value that signals that a value was handled by a directive and\n * should not be written to the DOM.\n */\nexport const noChange = {};\n/**\n * A sentinel value that signals a NodePart to fully clear its content.\n */\nexport const nothing = {};\n//# sourceMappingURL=part.js.map","/**\n * @license\n * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.\n * This code may only be used under the BSD style license found at\n * http://polymer.github.io/LICENSE.txt\n * The complete set of authors may be found at\n * http://polymer.github.io/AUTHORS.txt\n * The complete set of contributors may be found at\n * http://polymer.github.io/CONTRIBUTORS.txt\n * Code distributed by Google as part of the polymer project is also\n * subject to an additional IP rights grant found at\n * http://polymer.github.io/PATENTS.txt\n */\n/**\n * An expression marker with embedded unique key to avoid collision with\n * possible text in templates.\n */\nexport const marker = `{{lit-${String(Math.random()).slice(2)}}}`;\n/**\n * An expression marker used text-positions, multi-binding attributes, and\n * attributes with markup-like text values.\n */\nexport const nodeMarker = `<!--${marker}-->`;\nexport const markerRegex = new RegExp(`${marker}|${nodeMarker}`);\n/**\n * Suffix appended to all bound attribute names.\n */\nexport const boundAttributeSuffix = '$lit$';\n/**\n * An updateable Template that tracks the location of dynamic parts.\n */\nexport class Template {\n    constructor(result, element) {\n        this.parts = [];\n        this.element = element;\n        const nodesToRemove = [];\n        const stack = [];\n        // Edge needs all 4 parameters present; IE11 needs 3rd parameter to be null\n        const walker = document.createTreeWalker(element.content, 133 /* NodeFilter.SHOW_{ELEMENT|COMMENT|TEXT} */, null, false);\n        // Keeps track of the last index associated with a part. We try to delete\n        // unnecessary nodes, but we never want to associate two different parts\n        // to the same index. They must have a constant node between.\n        let lastPartIndex = 0;\n        let index = -1;\n        let partIndex = 0;\n        const { strings, values: { length } } = result;\n        while (partIndex < length) {\n            const node = walker.nextNode();\n            if (node === null) {\n                // We've exhausted the content inside a nested template element.\n                // Because we still have parts (the outer for-loop), we know:\n                // - There is a template in the stack\n                // - The walker will find a nextNode outside the template\n                walker.currentNode = stack.pop();\n                continue;\n            }\n            index++;\n            if (node.nodeType === 1 /* Node.ELEMENT_NODE */) {\n                if (node.hasAttributes()) {\n                    const attributes = node.attributes;\n                    const { length } = attributes;\n                    // Per\n                    // https://developer.mozilla.org/en-US/docs/Web/API/NamedNodeMap,\n                    // attributes are not guaranteed to be returned in document order.\n                    // In particular, Edge/IE can return them out of order, so we cannot\n                    // assume a correspondence between part index and attribute index.\n                    let count = 0;\n                    for (let i = 0; i < length; i++) {\n                        if (endsWith(attributes[i].name, boundAttributeSuffix)) {\n                            count++;\n                        }\n                    }\n                    while (count-- > 0) {\n                        // Get the template literal section leading up to the first\n                        // expression in this attribute\n                        const stringForPart = strings[partIndex];\n                        // Find the attribute name\n                        const name = lastAttributeNameRegex.exec(stringForPart)[2];\n                        // Find the corresponding attribute\n                        // All bound attributes have had a suffix added in\n                        // TemplateResult#getHTML to opt out of special attribute\n                        // handling. To look up the attribute value we also need to add\n                        // the suffix.\n                        const attributeLookupName = name.toLowerCase() + boundAttributeSuffix;\n                        const attributeValue = node.getAttribute(attributeLookupName);\n                        node.removeAttribute(attributeLookupName);\n                        const statics = attributeValue.split(markerRegex);\n                        this.parts.push({ type: 'attribute', index, name, strings: statics });\n                        partIndex += statics.length - 1;\n                    }\n                }\n                if (node.tagName === 'TEMPLATE') {\n                    stack.push(node);\n                    walker.currentNode = node.content;\n                }\n            }\n            else if (node.nodeType === 3 /* Node.TEXT_NODE */) {\n                const data = node.data;\n                if (data.indexOf(marker) >= 0) {\n                    const parent = node.parentNode;\n                    const strings = data.split(markerRegex);\n                    const lastIndex = strings.length - 1;\n                    // Generate a new text node for each literal section\n                    // These nodes are also used as the markers for node parts\n                    for (let i = 0; i < lastIndex; i++) {\n                        let insert;\n                        let s = strings[i];\n                        if (s === '') {\n                            insert = createMarker();\n                        }\n                        else {\n                            const match = lastAttributeNameRegex.exec(s);\n                            if (match !== null && endsWith(match[2], boundAttributeSuffix)) {\n                                s = s.slice(0, match.index) + match[1] +\n                                    match[2].slice(0, -boundAttributeSuffix.length) + match[3];\n                            }\n                            insert = document.createTextNode(s);\n                        }\n                        parent.insertBefore(insert, node);\n                        this.parts.push({ type: 'node', index: ++index });\n                    }\n                    // If there's no text, we must insert a comment to mark our place.\n                    // Else, we can trust it will stick around after cloning.\n                    if (strings[lastIndex] === '') {\n                        parent.insertBefore(createMarker(), node);\n                        nodesToRemove.push(node);\n                    }\n                    else {\n                        node.data = strings[lastIndex];\n                    }\n                    // We have a part for each match found\n                    partIndex += lastIndex;\n                }\n            }\n            else if (node.nodeType === 8 /* Node.COMMENT_NODE */) {\n                if (node.data === marker) {\n                    const parent = node.parentNode;\n                    // Add a new marker node to be the startNode of the Part if any of\n                    // the following are true:\n                    //  * We don't have a previousSibling\n                    //  * The previousSibling is already the start of a previous part\n                    if (node.previousSibling === null || index === lastPartIndex) {\n                        index++;\n                        parent.insertBefore(createMarker(), node);\n                    }\n                    lastPartIndex = index;\n                    this.parts.push({ type: 'node', index });\n                    // If we don't have a nextSibling, keep this node so we have an end.\n                    // Else, we can remove it to save future costs.\n                    if (node.nextSibling === null) {\n                        node.data = '';\n                    }\n                    else {\n                        nodesToRemove.push(node);\n                        index--;\n                    }\n                    partIndex++;\n                }\n                else {\n                    let i = -1;\n                    while ((i = node.data.indexOf(marker, i + 1)) !== -1) {\n                        // Comment node has a binding marker inside, make an inactive part\n                        // The binding won't work, but subsequent bindings will\n                        // TODO (justinfagnani): consider whether it's even worth it to\n                        // make bindings in comments work\n                        this.parts.push({ type: 'node', index: -1 });\n                        partIndex++;\n                    }\n                }\n            }\n        }\n        // Remove text binding nodes after the walk to not disturb the TreeWalker\n        for (const n of nodesToRemove) {\n            n.parentNode.removeChild(n);\n        }\n    }\n}\nconst endsWith = (str, suffix) => {\n    const index = str.length - suffix.length;\n    return index >= 0 && str.slice(index) === suffix;\n};\nexport const isTemplatePartActive = (part) => part.index !== -1;\n// Allows `document.createComment('')` to be renamed for a\n// small manual size-savings.\nexport const createMarker = () => document.createComment('');\n/**\n * This regex extracts the attribute name preceding an attribute-position\n * expression. It does this by matching the syntax allowed for attributes\n * against the string literal directly preceding the expression, assuming that\n * the expression is in an attribute-value position.\n *\n * See attributes in the HTML spec:\n * https://www.w3.org/TR/html5/syntax.html#elements-attributes\n *\n * \" \\x09\\x0a\\x0c\\x0d\" are HTML space characters:\n * https://www.w3.org/TR/html5/infrastructure.html#space-characters\n *\n * \"\\0-\\x1F\\x7F-\\x9F\" are Unicode control characters, which includes every\n * space character except \" \".\n *\n * So an attribute is:\n *  * The name: any character except a control character, space character, ('),\n *    (\"), \">\", \"=\", or \"/\"\n *  * Followed by zero or more space characters\n *  * Followed by \"=\"\n *  * Followed by zero or more space characters\n *  * Followed by:\n *    * Any character except space, ('), (\"), \"<\", \">\", \"=\", (`), or\n *    * (\") then any non-(\"), or\n *    * (') then any non-(')\n */\nexport const lastAttributeNameRegex = /([ \\x09\\x0a\\x0c\\x0d])([^\\0-\\x1F\\x7F-\\x9F \"'>=/]+)([ \\x09\\x0a\\x0c\\x0d]*=[ \\x09\\x0a\\x0c\\x0d]*(?:[^ \\x09\\x0a\\x0c\\x0d\"'`<>=]*|\"[^\"]*|'[^']*))$/;\n//# sourceMappingURL=template.js.map","/**\n * @license\n * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.\n * This code may only be used under the BSD style license found at\n * http://polymer.github.io/LICENSE.txt\n * The complete set of authors may be found at\n * http://polymer.github.io/AUTHORS.txt\n * The complete set of contributors may be found at\n * http://polymer.github.io/CONTRIBUTORS.txt\n * Code distributed by Google as part of the polymer project is also\n * subject to an additional IP rights grant found at\n * http://polymer.github.io/PATENTS.txt\n */\n/**\n * @module lit-html\n */\nimport { isCEPolyfill } from './dom.js';\nimport { isTemplatePartActive } from './template.js';\n/**\n * An instance of a `Template` that can be attached to the DOM and updated\n * with new values.\n */\nexport class TemplateInstance {\n    constructor(template, processor, options) {\n        this.__parts = [];\n        this.template = template;\n        this.processor = processor;\n        this.options = options;\n    }\n    update(values) {\n        let i = 0;\n        for (const part of this.__parts) {\n            if (part !== undefined) {\n                part.setValue(values[i]);\n            }\n            i++;\n        }\n        for (const part of this.__parts) {\n            if (part !== undefined) {\n                part.commit();\n            }\n        }\n    }\n    _clone() {\n        // There are a number of steps in the lifecycle of a template instance's\n        // DOM fragment:\n        //  1. Clone - create the instance fragment\n        //  2. Adopt - adopt into the main document\n        //  3. Process - find part markers and create parts\n        //  4. Upgrade - upgrade custom elements\n        //  5. Update - set node, attribute, property, etc., values\n        //  6. Connect - connect to the document. Optional and outside of this\n        //     method.\n        //\n        // We have a few constraints on the ordering of these steps:\n        //  * We need to upgrade before updating, so that property values will pass\n        //    through any property setters.\n        //  * We would like to process before upgrading so that we're sure that the\n        //    cloned fragment is inert and not disturbed by self-modifying DOM.\n        //  * We want custom elements to upgrade even in disconnected fragments.\n        //\n        // Given these constraints, with full custom elements support we would\n        // prefer the order: Clone, Process, Adopt, Upgrade, Update, Connect\n        //\n        // But Safari dooes not implement CustomElementRegistry#upgrade, so we\n        // can not implement that order and still have upgrade-before-update and\n        // upgrade disconnected fragments. So we instead sacrifice the\n        // process-before-upgrade constraint, since in Custom Elements v1 elements\n        // must not modify their light DOM in the constructor. We still have issues\n        // when co-existing with CEv0 elements like Polymer 1, and with polyfills\n        // that don't strictly adhere to the no-modification rule because shadow\n        // DOM, which may be created in the constructor, is emulated by being placed\n        // in the light DOM.\n        //\n        // The resulting order is on native is: Clone, Adopt, Upgrade, Process,\n        // Update, Connect. document.importNode() performs Clone, Adopt, and Upgrade\n        // in one step.\n        //\n        // The Custom Elements v1 polyfill supports upgrade(), so the order when\n        // polyfilled is the more ideal: Clone, Process, Adopt, Upgrade, Update,\n        // Connect.\n        const fragment = isCEPolyfill ?\n            this.template.element.content.cloneNode(true) :\n            document.importNode(this.template.element.content, true);\n        const stack = [];\n        const parts = this.template.parts;\n        // Edge needs all 4 parameters present; IE11 needs 3rd parameter to be null\n        const walker = document.createTreeWalker(fragment, 133 /* NodeFilter.SHOW_{ELEMENT|COMMENT|TEXT} */, null, false);\n        let partIndex = 0;\n        let nodeIndex = 0;\n        let part;\n        let node = walker.nextNode();\n        // Loop through all the nodes and parts of a template\n        while (partIndex < parts.length) {\n            part = parts[partIndex];\n            if (!isTemplatePartActive(part)) {\n                this.__parts.push(undefined);\n                partIndex++;\n                continue;\n            }\n            // Progress the tree walker until we find our next part's node.\n            // Note that multiple parts may share the same node (attribute parts\n            // on a single element), so this loop may not run at all.\n            while (nodeIndex < part.index) {\n                nodeIndex++;\n                if (node.nodeName === 'TEMPLATE') {\n                    stack.push(node);\n                    walker.currentNode = node.content;\n                }\n                if ((node = walker.nextNode()) === null) {\n                    // We've exhausted the content inside a nested template element.\n                    // Because we still have parts (the outer for-loop), we know:\n                    // - There is a template in the stack\n                    // - The walker will find a nextNode outside the template\n                    walker.currentNode = stack.pop();\n                    node = walker.nextNode();\n                }\n            }\n            // We've arrived at our part's node.\n            if (part.type === 'node') {\n                const part = this.processor.handleTextExpression(this.options);\n                part.insertAfterNode(node.previousSibling);\n                this.__parts.push(part);\n            }\n            else {\n                this.__parts.push(...this.processor.handleAttributeExpressions(node, part.name, part.strings, this.options));\n            }\n            partIndex++;\n        }\n        if (isCEPolyfill) {\n            document.adoptNode(fragment);\n            customElements.upgrade(fragment);\n        }\n        return fragment;\n    }\n}\n//# sourceMappingURL=template-instance.js.map","/**\n * @license\n * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.\n * This code may only be used under the BSD style license found at\n * http://polymer.github.io/LICENSE.txt\n * The complete set of authors may be found at\n * http://polymer.github.io/AUTHORS.txt\n * The complete set of contributors may be found at\n * http://polymer.github.io/CONTRIBUTORS.txt\n * Code distributed by Google as part of the polymer project is also\n * subject to an additional IP rights grant found at\n * http://polymer.github.io/PATENTS.txt\n */\n/**\n * @module lit-html\n */\nimport { reparentNodes } from './dom.js';\nimport { boundAttributeSuffix, lastAttributeNameRegex, marker, nodeMarker } from './template.js';\nconst commentMarker = ` ${marker} `;\n/**\n * The return type of `html`, which holds a Template and the values from\n * interpolated expressions.\n */\nexport class TemplateResult {\n    constructor(strings, values, type, processor) {\n        this.strings = strings;\n        this.values = values;\n        this.type = type;\n        this.processor = processor;\n    }\n    /**\n     * Returns a string of HTML used to create a `<template>` element.\n     */\n    getHTML() {\n        const l = this.strings.length - 1;\n        let html = '';\n        let isCommentBinding = false;\n        for (let i = 0; i < l; i++) {\n            const s = this.strings[i];\n            // For each binding we want to determine the kind of marker to insert\n            // into the template source before it's parsed by the browser's HTML\n            // parser. The marker type is based on whether the expression is in an\n            // attribute, text, or comment poisition.\n            //   * For node-position bindings we insert a comment with the marker\n            //     sentinel as its text content, like <!--{{lit-guid}}-->.\n            //   * For attribute bindings we insert just the marker sentinel for the\n            //     first binding, so that we support unquoted attribute bindings.\n            //     Subsequent bindings can use a comment marker because multi-binding\n            //     attributes must be quoted.\n            //   * For comment bindings we insert just the marker sentinel so we don't\n            //     close the comment.\n            //\n            // The following code scans the template source, but is *not* an HTML\n            // parser. We don't need to track the tree structure of the HTML, only\n            // whether a binding is inside a comment, and if not, if it appears to be\n            // the first binding in an attribute.\n            const commentOpen = s.lastIndexOf('<!--');\n            // We're in comment position if we have a comment open with no following\n            // comment close. Because <-- can appear in an attribute value there can\n            // be false positives.\n            isCommentBinding = (commentOpen > -1 || isCommentBinding) &&\n                s.indexOf('-->', commentOpen + 1) === -1;\n            // Check to see if we have an attribute-like sequence preceeding the\n            // expression. This can match \"name=value\" like structures in text,\n            // comments, and attribute values, so there can be false-positives.\n            const attributeMatch = lastAttributeNameRegex.exec(s);\n            if (attributeMatch === null) {\n                // We're only in this branch if we don't have a attribute-like\n                // preceeding sequence. For comments, this guards against unusual\n                // attribute values like <div foo=\"<!--${'bar'}\">. Cases like\n                // <!-- foo=${'bar'}--> are handled correctly in the attribute branch\n                // below.\n                html += s + (isCommentBinding ? commentMarker : nodeMarker);\n            }\n            else {\n                // For attributes we use just a marker sentinel, and also append a\n                // $lit$ suffix to the name to opt-out of attribute-specific parsing\n                // that IE and Edge do for style and certain SVG attributes.\n                html += s.substr(0, attributeMatch.index) + attributeMatch[1] +\n                    attributeMatch[2] + boundAttributeSuffix + attributeMatch[3] +\n                    marker;\n            }\n        }\n        html += this.strings[l];\n        return html;\n    }\n    getTemplateElement() {\n        const template = document.createElement('template');\n        template.innerHTML = this.getHTML();\n        return template;\n    }\n}\n/**\n * A TemplateResult for SVG fragments.\n *\n * This class wraps HTML in an `<svg>` tag in order to parse its contents in the\n * SVG namespace, then modifies the template to remove the `<svg>` tag so that\n * clones only container the original fragment.\n */\nexport class SVGTemplateResult extends TemplateResult {\n    getHTML() {\n        return `<svg>${super.getHTML()}</svg>`;\n    }\n    getTemplateElement() {\n        const template = super.getTemplateElement();\n        const content = template.content;\n        const svgElement = content.firstChild;\n        content.removeChild(svgElement);\n        reparentNodes(content, svgElement.firstChild);\n        return template;\n    }\n}\n//# sourceMappingURL=template-result.js.map","/**\n * @license\n * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.\n * This code may only be used under the BSD style license found at\n * http://polymer.github.io/LICENSE.txt\n * The complete set of authors may be found at\n * http://polymer.github.io/AUTHORS.txt\n * The complete set of contributors may be found at\n * http://polymer.github.io/CONTRIBUTORS.txt\n * Code distributed by Google as part of the polymer project is also\n * subject to an additional IP rights grant found at\n * http://polymer.github.io/PATENTS.txt\n */\n/**\n * @module lit-html\n */\nimport { isDirective } from './directive.js';\nimport { removeNodes } from './dom.js';\nimport { noChange, nothing } from './part.js';\nimport { TemplateInstance } from './template-instance.js';\nimport { TemplateResult } from './template-result.js';\nimport { createMarker } from './template.js';\nexport const isPrimitive = (value) => {\n    return (value === null ||\n        !(typeof value === 'object' || typeof value === 'function'));\n};\nexport const isIterable = (value) => {\n    return Array.isArray(value) ||\n        // tslint:disable-next-line:no-any\n        !!(value && value[Symbol.iterator]);\n};\n/**\n * Writes attribute values to the DOM for a group of AttributeParts bound to a\n * single attibute. The value is only set once even if there are multiple parts\n * for an attribute.\n */\nexport class AttributeCommitter {\n    constructor(element, name, strings) {\n        this.dirty = true;\n        this.element = element;\n        this.name = name;\n        this.strings = strings;\n        this.parts = [];\n        for (let i = 0; i < strings.length - 1; i++) {\n            this.parts[i] = this._createPart();\n        }\n    }\n    /**\n     * Creates a single part. Override this to create a differnt type of part.\n     */\n    _createPart() {\n        return new AttributePart(this);\n    }\n    _getValue() {\n        const strings = this.strings;\n        const l = strings.length - 1;\n        let text = '';\n        for (let i = 0; i < l; i++) {\n            text += strings[i];\n            const part = this.parts[i];\n            if (part !== undefined) {\n                const v = part.value;\n                if (isPrimitive(v) || !isIterable(v)) {\n                    text += typeof v === 'string' ? v : String(v);\n                }\n                else {\n                    for (const t of v) {\n                        text += typeof t === 'string' ? t : String(t);\n                    }\n                }\n            }\n        }\n        text += strings[l];\n        return text;\n    }\n    commit() {\n        if (this.dirty) {\n            this.dirty = false;\n            this.element.setAttribute(this.name, this._getValue());\n        }\n    }\n}\n/**\n * A Part that controls all or part of an attribute value.\n */\nexport class AttributePart {\n    constructor(committer) {\n        this.value = undefined;\n        this.committer = committer;\n    }\n    setValue(value) {\n        if (value !== noChange && (!isPrimitive(value) || value !== this.value)) {\n            this.value = value;\n            // If the value is a not a directive, dirty the committer so that it'll\n            // call setAttribute. If the value is a directive, it'll dirty the\n            // committer if it calls setValue().\n            if (!isDirective(value)) {\n                this.committer.dirty = true;\n            }\n        }\n    }\n    commit() {\n        while (isDirective(this.value)) {\n            const directive = this.value;\n            this.value = noChange;\n            directive(this);\n        }\n        if (this.value === noChange) {\n            return;\n        }\n        this.committer.commit();\n    }\n}\n/**\n * A Part that controls a location within a Node tree. Like a Range, NodePart\n * has start and end locations and can set and update the Nodes between those\n * locations.\n *\n * NodeParts support several value types: primitives, Nodes, TemplateResults,\n * as well as arrays and iterables of those types.\n */\nexport class NodePart {\n    constructor(options) {\n        this.value = undefined;\n        this.__pendingValue = undefined;\n        this.options = options;\n    }\n    /**\n     * Appends this part into a container.\n     *\n     * This part must be empty, as its contents are not automatically moved.\n     */\n    appendInto(container) {\n        this.startNode = container.appendChild(createMarker());\n        this.endNode = container.appendChild(createMarker());\n    }\n    /**\n     * Inserts this part after the `ref` node (between `ref` and `ref`'s next\n     * sibling). Both `ref` and its next sibling must be static, unchanging nodes\n     * such as those that appear in a literal section of a template.\n     *\n     * This part must be empty, as its contents are not automatically moved.\n     */\n    insertAfterNode(ref) {\n        this.startNode = ref;\n        this.endNode = ref.nextSibling;\n    }\n    /**\n     * Appends this part into a parent part.\n     *\n     * This part must be empty, as its contents are not automatically moved.\n     */\n    appendIntoPart(part) {\n        part.__insert(this.startNode = createMarker());\n        part.__insert(this.endNode = createMarker());\n    }\n    /**\n     * Inserts this part after the `ref` part.\n     *\n     * This part must be empty, as its contents are not automatically moved.\n     */\n    insertAfterPart(ref) {\n        ref.__insert(this.startNode = createMarker());\n        this.endNode = ref.endNode;\n        ref.endNode = this.startNode;\n    }\n    setValue(value) {\n        this.__pendingValue = value;\n    }\n    commit() {\n        while (isDirective(this.__pendingValue)) {\n            const directive = this.__pendingValue;\n            this.__pendingValue = noChange;\n            directive(this);\n        }\n        const value = this.__pendingValue;\n        if (value === noChange) {\n            return;\n        }\n        if (isPrimitive(value)) {\n            if (value !== this.value) {\n                this.__commitText(value);\n            }\n        }\n        else if (value instanceof TemplateResult) {\n            this.__commitTemplateResult(value);\n        }\n        else if (value instanceof Node) {\n            this.__commitNode(value);\n        }\n        else if (isIterable(value)) {\n            this.__commitIterable(value);\n        }\n        else if (value === nothing) {\n            this.value = nothing;\n            this.clear();\n        }\n        else {\n            // Fallback, will render the string representation\n            this.__commitText(value);\n        }\n    }\n    __insert(node) {\n        this.endNode.parentNode.insertBefore(node, this.endNode);\n    }\n    __commitNode(value) {\n        if (this.value === value) {\n            return;\n        }\n        this.clear();\n        this.__insert(value);\n        this.value = value;\n    }\n    __commitText(value) {\n        const node = this.startNode.nextSibling;\n        value = value == null ? '' : value;\n        // If `value` isn't already a string, we explicitly convert it here in case\n        // it can't be implicitly converted - i.e. it's a symbol.\n        const valueAsString = typeof value === 'string' ? value : String(value);\n        if (node === this.endNode.previousSibling &&\n            node.nodeType === 3 /* Node.TEXT_NODE */) {\n            // If we only have a single text node between the markers, we can just\n            // set its value, rather than replacing it.\n            // TODO(justinfagnani): Can we just check if this.value is primitive?\n            node.data = valueAsString;\n        }\n        else {\n            this.__commitNode(document.createTextNode(valueAsString));\n        }\n        this.value = value;\n    }\n    __commitTemplateResult(value) {\n        const template = this.options.templateFactory(value);\n        if (this.value instanceof TemplateInstance &&\n            this.value.template === template) {\n            this.value.update(value.values);\n        }\n        else {\n            // Make sure we propagate the template processor from the TemplateResult\n            // so that we use its syntax extension, etc. The template factory comes\n            // from the render function options so that it can control template\n            // caching and preprocessing.\n            const instance = new TemplateInstance(template, value.processor, this.options);\n            const fragment = instance._clone();\n            instance.update(value.values);\n            this.__commitNode(fragment);\n            this.value = instance;\n        }\n    }\n    __commitIterable(value) {\n        // For an Iterable, we create a new InstancePart per item, then set its\n        // value to the item. This is a little bit of overhead for every item in\n        // an Iterable, but it lets us recurse easily and efficiently update Arrays\n        // of TemplateResults that will be commonly returned from expressions like:\n        // array.map((i) => html`${i}`), by reusing existing TemplateInstances.\n        // If _value is an array, then the previous render was of an\n        // iterable and _value will contain the NodeParts from the previous\n        // render. If _value is not an array, clear this part and make a new\n        // array for NodeParts.\n        if (!Array.isArray(this.value)) {\n            this.value = [];\n            this.clear();\n        }\n        // Lets us keep track of how many items we stamped so we can clear leftover\n        // items from a previous render\n        const itemParts = this.value;\n        let partIndex = 0;\n        let itemPart;\n        for (const item of value) {\n            // Try to reuse an existing part\n            itemPart = itemParts[partIndex];\n            // If no existing part, create a new one\n            if (itemPart === undefined) {\n                itemPart = new NodePart(this.options);\n                itemParts.push(itemPart);\n                if (partIndex === 0) {\n                    itemPart.appendIntoPart(this);\n                }\n                else {\n                    itemPart.insertAfterPart(itemParts[partIndex - 1]);\n                }\n            }\n            itemPart.setValue(item);\n            itemPart.commit();\n            partIndex++;\n        }\n        if (partIndex < itemParts.length) {\n            // Truncate the parts array so _value reflects the current state\n            itemParts.length = partIndex;\n            this.clear(itemPart && itemPart.endNode);\n        }\n    }\n    clear(startNode = this.startNode) {\n        removeNodes(this.startNode.parentNode, startNode.nextSibling, this.endNode);\n    }\n}\n/**\n * Implements a boolean attribute, roughly as defined in the HTML\n * specification.\n *\n * If the value is truthy, then the attribute is present with a value of\n * ''. If the value is falsey, the attribute is removed.\n */\nexport class BooleanAttributePart {\n    constructor(element, name, strings) {\n        this.value = undefined;\n        this.__pendingValue = undefined;\n        if (strings.length !== 2 || strings[0] !== '' || strings[1] !== '') {\n            throw new Error('Boolean attributes can only contain a single expression');\n        }\n        this.element = element;\n        this.name = name;\n        this.strings = strings;\n    }\n    setValue(value) {\n        this.__pendingValue = value;\n    }\n    commit() {\n        while (isDirective(this.__pendingValue)) {\n            const directive = this.__pendingValue;\n            this.__pendingValue = noChange;\n            directive(this);\n        }\n        if (this.__pendingValue === noChange) {\n            return;\n        }\n        const value = !!this.__pendingValue;\n        if (this.value !== value) {\n            if (value) {\n                this.element.setAttribute(this.name, '');\n            }\n            else {\n                this.element.removeAttribute(this.name);\n            }\n            this.value = value;\n        }\n        this.__pendingValue = noChange;\n    }\n}\n/**\n * Sets attribute values for PropertyParts, so that the value is only set once\n * even if there are multiple parts for a property.\n *\n * If an expression controls the whole property value, then the value is simply\n * assigned to the property under control. If there are string literals or\n * multiple expressions, then the strings are expressions are interpolated into\n * a string first.\n */\nexport class PropertyCommitter extends AttributeCommitter {\n    constructor(element, name, strings) {\n        super(element, name, strings);\n        this.single =\n            (strings.length === 2 && strings[0] === '' && strings[1] === '');\n    }\n    _createPart() {\n        return new PropertyPart(this);\n    }\n    _getValue() {\n        if (this.single) {\n            return this.parts[0].value;\n        }\n        return super._getValue();\n    }\n    commit() {\n        if (this.dirty) {\n            this.dirty = false;\n            // tslint:disable-next-line:no-any\n            this.element[this.name] = this._getValue();\n        }\n    }\n}\nexport class PropertyPart extends AttributePart {\n}\n// Detect event listener options support. If the `capture` property is read\n// from the options object, then options are supported. If not, then the thrid\n// argument to add/removeEventListener is interpreted as the boolean capture\n// value so we should only pass the `capture` property.\nlet eventOptionsSupported = false;\ntry {\n    const options = {\n        get capture() {\n            eventOptionsSupported = true;\n            return false;\n        }\n    };\n    // tslint:disable-next-line:no-any\n    window.addEventListener('test', options, options);\n    // tslint:disable-next-line:no-any\n    window.removeEventListener('test', options, options);\n}\ncatch (_e) {\n}\nexport class EventPart {\n    constructor(element, eventName, eventContext) {\n        this.value = undefined;\n        this.__pendingValue = undefined;\n        this.element = element;\n        this.eventName = eventName;\n        this.eventContext = eventContext;\n        this.__boundHandleEvent = (e) => this.handleEvent(e);\n    }\n    setValue(value) {\n        this.__pendingValue = value;\n    }\n    commit() {\n        while (isDirective(this.__pendingValue)) {\n            const directive = this.__pendingValue;\n            this.__pendingValue = noChange;\n            directive(this);\n        }\n        if (this.__pendingValue === noChange) {\n            return;\n        }\n        const newListener = this.__pendingValue;\n        const oldListener = this.value;\n        const shouldRemoveListener = newListener == null ||\n            oldListener != null &&\n                (newListener.capture !== oldListener.capture ||\n                    newListener.once !== oldListener.once ||\n                    newListener.passive !== oldListener.passive);\n        const shouldAddListener = newListener != null && (oldListener == null || shouldRemoveListener);\n        if (shouldRemoveListener) {\n            this.element.removeEventListener(this.eventName, this.__boundHandleEvent, this.__options);\n        }\n        if (shouldAddListener) {\n            this.__options = getOptions(newListener);\n            this.element.addEventListener(this.eventName, this.__boundHandleEvent, this.__options);\n        }\n        this.value = newListener;\n        this.__pendingValue = noChange;\n    }\n    handleEvent(event) {\n        if (typeof this.value === 'function') {\n            this.value.call(this.eventContext || this.element, event);\n        }\n        else {\n            this.value.handleEvent(event);\n        }\n    }\n}\n// We copy options because of the inconsistent behavior of browsers when reading\n// the third argument of add/removeEventListener. IE11 doesn't support options\n// at all. Chrome 41 only reads `capture` if the argument is an object.\nconst getOptions = (o) => o &&\n    (eventOptionsSupported ?\n        { capture: o.capture, passive: o.passive, once: o.once } :\n        o.capture);\n//# sourceMappingURL=parts.js.map","/**\n * @license\n * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.\n * This code may only be used under the BSD style license found at\n * http://polymer.github.io/LICENSE.txt\n * The complete set of authors may be found at\n * http://polymer.github.io/AUTHORS.txt\n * The complete set of contributors may be found at\n * http://polymer.github.io/CONTRIBUTORS.txt\n * Code distributed by Google as part of the polymer project is also\n * subject to an additional IP rights grant found at\n * http://polymer.github.io/PATENTS.txt\n */\nimport { AttributeCommitter, BooleanAttributePart, EventPart, NodePart, PropertyCommitter } from './parts.js';\n/**\n * Creates Parts when a template is instantiated.\n */\nexport class DefaultTemplateProcessor {\n    /**\n     * Create parts for an attribute-position binding, given the event, attribute\n     * name, and string literals.\n     *\n     * @param element The element containing the binding\n     * @param name  The attribute name\n     * @param strings The string literals. There are always at least two strings,\n     *   event for fully-controlled bindings with a single expression.\n     */\n    handleAttributeExpressions(element, name, strings, options) {\n        const prefix = name[0];\n        if (prefix === '.') {\n            const committer = new PropertyCommitter(element, name.slice(1), strings);\n            return committer.parts;\n        }\n        if (prefix === '@') {\n            return [new EventPart(element, name.slice(1), options.eventContext)];\n        }\n        if (prefix === '?') {\n            return [new BooleanAttributePart(element, name.slice(1), strings)];\n        }\n        const committer = new AttributeCommitter(element, name, strings);\n        return committer.parts;\n    }\n    /**\n     * Create parts for a text-position binding.\n     * @param templateFactory\n     */\n    handleTextExpression(options) {\n        return new NodePart(options);\n    }\n}\nexport const defaultTemplateProcessor = new DefaultTemplateProcessor();\n//# sourceMappingURL=default-template-processor.js.map","/**\n * @license\n * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.\n * This code may only be used under the BSD style license found at\n * http://polymer.github.io/LICENSE.txt\n * The complete set of authors may be found at\n * http://polymer.github.io/AUTHORS.txt\n * The complete set of contributors may be found at\n * http://polymer.github.io/CONTRIBUTORS.txt\n * Code distributed by Google as part of the polymer project is also\n * subject to an additional IP rights grant found at\n * http://polymer.github.io/PATENTS.txt\n */\nimport { marker, Template } from './template.js';\n/**\n * The default TemplateFactory which caches Templates keyed on\n * result.type and result.strings.\n */\nexport function templateFactory(result) {\n    let templateCache = templateCaches.get(result.type);\n    if (templateCache === undefined) {\n        templateCache = {\n            stringsArray: new WeakMap(),\n            keyString: new Map()\n        };\n        templateCaches.set(result.type, templateCache);\n    }\n    let template = templateCache.stringsArray.get(result.strings);\n    if (template !== undefined) {\n        return template;\n    }\n    // If the TemplateStringsArray is new, generate a key from the strings\n    // This key is shared between all templates with identical content\n    const key = result.strings.join(marker);\n    // Check if we already have a Template for this key\n    template = templateCache.keyString.get(key);\n    if (template === undefined) {\n        // If we have not seen this key before, create a new Template\n        template = new Template(result, result.getTemplateElement());\n        // Cache the Template for this key\n        templateCache.keyString.set(key, template);\n    }\n    // Cache all future queries for this TemplateStringsArray\n    templateCache.stringsArray.set(result.strings, template);\n    return template;\n}\nexport const templateCaches = new Map();\n//# sourceMappingURL=template-factory.js.map","/**\n * @license\n * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.\n * This code may only be used under the BSD style license found at\n * http://polymer.github.io/LICENSE.txt\n * The complete set of authors may be found at\n * http://polymer.github.io/AUTHORS.txt\n * The complete set of contributors may be found at\n * http://polymer.github.io/CONTRIBUTORS.txt\n * Code distributed by Google as part of the polymer project is also\n * subject to an additional IP rights grant found at\n * http://polymer.github.io/PATENTS.txt\n */\n/**\n * @module lit-html\n */\nimport { removeNodes } from './dom.js';\nimport { NodePart } from './parts.js';\nimport { templateFactory } from './template-factory.js';\nexport const parts = new WeakMap();\n/**\n * Renders a template result or other value to a container.\n *\n * To update a container with new values, reevaluate the template literal and\n * call `render` with the new result.\n *\n * @param result Any value renderable by NodePart - typically a TemplateResult\n *     created by evaluating a template tag like `html` or `svg`.\n * @param container A DOM parent to render to. The entire contents are either\n *     replaced, or efficiently updated if the same result type was previous\n *     rendered there.\n * @param options RenderOptions for the entire render tree rendered to this\n *     container. Render options must *not* change between renders to the same\n *     container, as those changes will not effect previously rendered DOM.\n */\nexport const render = (result, container, options) => {\n    let part = parts.get(container);\n    if (part === undefined) {\n        removeNodes(container, container.firstChild);\n        parts.set(container, part = new NodePart(Object.assign({ templateFactory }, options)));\n        part.appendInto(container);\n    }\n    part.setValue(result);\n    part.commit();\n};\n//# sourceMappingURL=render.js.map","/**\n * @license\n * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.\n * This code may only be used under the BSD style license found at\n * http://polymer.github.io/LICENSE.txt\n * The complete set of authors may be found at\n * http://polymer.github.io/AUTHORS.txt\n * The complete set of contributors may be found at\n * http://polymer.github.io/CONTRIBUTORS.txt\n * Code distributed by Google as part of the polymer project is also\n * subject to an additional IP rights grant found at\n * http://polymer.github.io/PATENTS.txt\n */\n/**\n *\n * Main lit-html module.\n *\n * Main exports:\n *\n * -  [[html]]\n * -  [[svg]]\n * -  [[render]]\n *\n * @module lit-html\n * @preferred\n */\n/**\n * Do not remove this comment; it keeps typedoc from misplacing the module\n * docs.\n */\nimport { defaultTemplateProcessor } from './lib/default-template-processor.js';\nimport { SVGTemplateResult, TemplateResult } from './lib/template-result.js';\nexport { DefaultTemplateProcessor, defaultTemplateProcessor } from './lib/default-template-processor.js';\nexport { directive, isDirective } from './lib/directive.js';\n// TODO(justinfagnani): remove line when we get NodePart moving methods\nexport { removeNodes, reparentNodes } from './lib/dom.js';\nexport { noChange, nothing } from './lib/part.js';\nexport { AttributeCommitter, AttributePart, BooleanAttributePart, EventPart, isIterable, isPrimitive, NodePart, PropertyCommitter, PropertyPart } from './lib/parts.js';\nexport { parts, render } from './lib/render.js';\nexport { templateCaches, templateFactory } from './lib/template-factory.js';\nexport { TemplateInstance } from './lib/template-instance.js';\nexport { SVGTemplateResult, TemplateResult } from './lib/template-result.js';\nexport { createMarker, isTemplatePartActive, Template } from './lib/template.js';\n// IMPORTANT: do not change the property name or the assignment expression.\n// This line will be used in regexes to search for lit-html usage.\n// TODO(justinfagnani): inject version number at build time\n(window['litHtmlVersions'] || (window['litHtmlVersions'] = [])).push('1.1.2');\n/**\n * Interprets a template literal as an HTML template that can efficiently\n * render to and update a container.\n */\nexport const html = (strings, ...values) => new TemplateResult(strings, values, 'html', defaultTemplateProcessor);\n/**\n * Interprets a template literal as an SVG template that can efficiently\n * render to and update a container.\n */\nexport const svg = (strings, ...values) => new SVGTemplateResult(strings, values, 'svg', defaultTemplateProcessor);\n//# sourceMappingURL=lit-html.js.map","/**\n * @license\n * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.\n * This code may only be used under the BSD style license found at\n * http://polymer.github.io/LICENSE.txt\n * The complete set of authors may be found at\n * http://polymer.github.io/AUTHORS.txt\n * The complete set of contributors may be found at\n * http://polymer.github.io/CONTRIBUTORS.txt\n * Code distributed by Google as part of the polymer project is also\n * subject to an additional IP rights grant found at\n * http://polymer.github.io/PATENTS.txt\n */\n/**\n * @module shady-render\n */\nimport { isTemplatePartActive } from './template.js';\nconst walkerNodeFilter = 133 /* NodeFilter.SHOW_{ELEMENT|COMMENT|TEXT} */;\n/**\n * Removes the list of nodes from a Template safely. In addition to removing\n * nodes from the Template, the Template part indices are updated to match\n * the mutated Template DOM.\n *\n * As the template is walked the removal state is tracked and\n * part indices are adjusted as needed.\n *\n * div\n *   div#1 (remove) <-- start removing (removing node is div#1)\n *     div\n *       div#2 (remove)  <-- continue removing (removing node is still div#1)\n *         div\n * div <-- stop removing since previous sibling is the removing node (div#1,\n * removed 4 nodes)\n */\nexport function removeNodesFromTemplate(template, nodesToRemove) {\n    const { element: { content }, parts } = template;\n    const walker = document.createTreeWalker(content, walkerNodeFilter, null, false);\n    let partIndex = nextActiveIndexInTemplateParts(parts);\n    let part = parts[partIndex];\n    let nodeIndex = -1;\n    let removeCount = 0;\n    const nodesToRemoveInTemplate = [];\n    let currentRemovingNode = null;\n    while (walker.nextNode()) {\n        nodeIndex++;\n        const node = walker.currentNode;\n        // End removal if stepped past the removing node\n        if (node.previousSibling === currentRemovingNode) {\n            currentRemovingNode = null;\n        }\n        // A node to remove was found in the template\n        if (nodesToRemove.has(node)) {\n            nodesToRemoveInTemplate.push(node);\n            // Track node we're removing\n            if (currentRemovingNode === null) {\n                currentRemovingNode = node;\n            }\n        }\n        // When removing, increment count by which to adjust subsequent part indices\n        if (currentRemovingNode !== null) {\n            removeCount++;\n        }\n        while (part !== undefined && part.index === nodeIndex) {\n            // If part is in a removed node deactivate it by setting index to -1 or\n            // adjust the index as needed.\n            part.index = currentRemovingNode !== null ? -1 : part.index - removeCount;\n            // go to the next active part.\n            partIndex = nextActiveIndexInTemplateParts(parts, partIndex);\n            part = parts[partIndex];\n        }\n    }\n    nodesToRemoveInTemplate.forEach((n) => n.parentNode.removeChild(n));\n}\nconst countNodes = (node) => {\n    let count = (node.nodeType === 11 /* Node.DOCUMENT_FRAGMENT_NODE */) ? 0 : 1;\n    const walker = document.createTreeWalker(node, walkerNodeFilter, null, false);\n    while (walker.nextNode()) {\n        count++;\n    }\n    return count;\n};\nconst nextActiveIndexInTemplateParts = (parts, startIndex = -1) => {\n    for (let i = startIndex + 1; i < parts.length; i++) {\n        const part = parts[i];\n        if (isTemplatePartActive(part)) {\n            return i;\n        }\n    }\n    return -1;\n};\n/**\n * Inserts the given node into the Template, optionally before the given\n * refNode. In addition to inserting the node into the Template, the Template\n * part indices are updated to match the mutated Template DOM.\n */\nexport function insertNodeIntoTemplate(template, node, refNode = null) {\n    const { element: { content }, parts } = template;\n    // If there's no refNode, then put node at end of template.\n    // No part indices need to be shifted in this case.\n    if (refNode === null || refNode === undefined) {\n        content.appendChild(node);\n        return;\n    }\n    const walker = document.createTreeWalker(content, walkerNodeFilter, null, false);\n    let partIndex = nextActiveIndexInTemplateParts(parts);\n    let insertCount = 0;\n    let walkerIndex = -1;\n    while (walker.nextNode()) {\n        walkerIndex++;\n        const walkerNode = walker.currentNode;\n        if (walkerNode === refNode) {\n            insertCount = countNodes(node);\n            refNode.parentNode.insertBefore(node, refNode);\n        }\n        while (partIndex !== -1 && parts[partIndex].index === walkerIndex) {\n            // If we've inserted the node, simply adjust all subsequent parts\n            if (insertCount > 0) {\n                while (partIndex !== -1) {\n                    parts[partIndex].index += insertCount;\n                    partIndex = nextActiveIndexInTemplateParts(parts, partIndex);\n                }\n                return;\n            }\n            partIndex = nextActiveIndexInTemplateParts(parts, partIndex);\n        }\n    }\n}\n//# sourceMappingURL=modify-template.js.map","/**\n * @license\n * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.\n * This code may only be used under the BSD style license found at\n * http://polymer.github.io/LICENSE.txt\n * The complete set of authors may be found at\n * http://polymer.github.io/AUTHORS.txt\n * The complete set of contributors may be found at\n * http://polymer.github.io/CONTRIBUTORS.txt\n * Code distributed by Google as part of the polymer project is also\n * subject to an additional IP rights grant found at\n * http://polymer.github.io/PATENTS.txt\n */\n/**\n * Module to add shady DOM/shady CSS polyfill support to lit-html template\n * rendering. See the [[render]] method for details.\n *\n * @module shady-render\n * @preferred\n */\n/**\n * Do not remove this comment; it keeps typedoc from misplacing the module\n * docs.\n */\nimport { removeNodes } from './dom.js';\nimport { insertNodeIntoTemplate, removeNodesFromTemplate } from './modify-template.js';\nimport { parts, render as litRender } from './render.js';\nimport { templateCaches } from './template-factory.js';\nimport { TemplateInstance } from './template-instance.js';\nimport { marker, Template } from './template.js';\nexport { html, svg, TemplateResult } from '../lit-html.js';\n// Get a key to lookup in `templateCaches`.\nconst getTemplateCacheKey = (type, scopeName) => `${type}--${scopeName}`;\nlet compatibleShadyCSSVersion = true;\nif (typeof window.ShadyCSS === 'undefined') {\n    compatibleShadyCSSVersion = false;\n}\nelse if (typeof window.ShadyCSS.prepareTemplateDom === 'undefined') {\n    console.warn(`Incompatible ShadyCSS version detected. ` +\n        `Please update to at least @webcomponents/webcomponentsjs@2.0.2 and ` +\n        `@webcomponents/shadycss@1.3.1.`);\n    compatibleShadyCSSVersion = false;\n}\n/**\n * Template factory which scopes template DOM using ShadyCSS.\n * @param scopeName {string}\n */\nconst shadyTemplateFactory = (scopeName) => (result) => {\n    const cacheKey = getTemplateCacheKey(result.type, scopeName);\n    let templateCache = templateCaches.get(cacheKey);\n    if (templateCache === undefined) {\n        templateCache = {\n            stringsArray: new WeakMap(),\n            keyString: new Map()\n        };\n        templateCaches.set(cacheKey, templateCache);\n    }\n    let template = templateCache.stringsArray.get(result.strings);\n    if (template !== undefined) {\n        return template;\n    }\n    const key = result.strings.join(marker);\n    template = templateCache.keyString.get(key);\n    if (template === undefined) {\n        const element = result.getTemplateElement();\n        if (compatibleShadyCSSVersion) {\n            window.ShadyCSS.prepareTemplateDom(element, scopeName);\n        }\n        template = new Template(result, element);\n        templateCache.keyString.set(key, template);\n    }\n    templateCache.stringsArray.set(result.strings, template);\n    return template;\n};\nconst TEMPLATE_TYPES = ['html', 'svg'];\n/**\n * Removes all style elements from Templates for the given scopeName.\n */\nconst removeStylesFromLitTemplates = (scopeName) => {\n    TEMPLATE_TYPES.forEach((type) => {\n        const templates = templateCaches.get(getTemplateCacheKey(type, scopeName));\n        if (templates !== undefined) {\n            templates.keyString.forEach((template) => {\n                const { element: { content } } = template;\n                // IE 11 doesn't support the iterable param Set constructor\n                const styles = new Set();\n                Array.from(content.querySelectorAll('style')).forEach((s) => {\n                    styles.add(s);\n                });\n                removeNodesFromTemplate(template, styles);\n            });\n        }\n    });\n};\nconst shadyRenderSet = new Set();\n/**\n * For the given scope name, ensures that ShadyCSS style scoping is performed.\n * This is done just once per scope name so the fragment and template cannot\n * be modified.\n * (1) extracts styles from the rendered fragment and hands them to ShadyCSS\n * to be scoped and appended to the document\n * (2) removes style elements from all lit-html Templates for this scope name.\n *\n * Note, <style> elements can only be placed into templates for the\n * initial rendering of the scope. If <style> elements are included in templates\n * dynamically rendered to the scope (after the first scope render), they will\n * not be scoped and the <style> will be left in the template and rendered\n * output.\n */\nconst prepareTemplateStyles = (scopeName, renderedDOM, template) => {\n    shadyRenderSet.add(scopeName);\n    // If `renderedDOM` is stamped from a Template, then we need to edit that\n    // Template's underlying template element. Otherwise, we create one here\n    // to give to ShadyCSS, which still requires one while scoping.\n    const templateElement = !!template ? template.element : document.createElement('template');\n    // Move styles out of rendered DOM and store.\n    const styles = renderedDOM.querySelectorAll('style');\n    const { length } = styles;\n    // If there are no styles, skip unnecessary work\n    if (length === 0) {\n        // Ensure prepareTemplateStyles is called to support adding\n        // styles via `prepareAdoptedCssText` since that requires that\n        // `prepareTemplateStyles` is called.\n        //\n        // ShadyCSS will only update styles containing @apply in the template\n        // given to `prepareTemplateStyles`. If no lit Template was given,\n        // ShadyCSS will not be able to update uses of @apply in any relevant\n        // template. However, this is not a problem because we only create the\n        // template for the purpose of supporting `prepareAdoptedCssText`,\n        // which doesn't support @apply at all.\n        window.ShadyCSS.prepareTemplateStyles(templateElement, scopeName);\n        return;\n    }\n    const condensedStyle = document.createElement('style');\n    // Collect styles into a single style. This helps us make sure ShadyCSS\n    // manipulations will not prevent us from being able to fix up template\n    // part indices.\n    // NOTE: collecting styles is inefficient for browsers but ShadyCSS\n    // currently does this anyway. When it does not, this should be changed.\n    for (let i = 0; i < length; i++) {\n        const style = styles[i];\n        style.parentNode.removeChild(style);\n        condensedStyle.textContent += style.textContent;\n    }\n    // Remove styles from nested templates in this scope.\n    removeStylesFromLitTemplates(scopeName);\n    // And then put the condensed style into the \"root\" template passed in as\n    // `template`.\n    const content = templateElement.content;\n    if (!!template) {\n        insertNodeIntoTemplate(template, condensedStyle, content.firstChild);\n    }\n    else {\n        content.insertBefore(condensedStyle, content.firstChild);\n    }\n    // Note, it's important that ShadyCSS gets the template that `lit-html`\n    // will actually render so that it can update the style inside when\n    // needed (e.g. @apply native Shadow DOM case).\n    window.ShadyCSS.prepareTemplateStyles(templateElement, scopeName);\n    const style = content.querySelector('style');\n    if (window.ShadyCSS.nativeShadow && style !== null) {\n        // When in native Shadow DOM, ensure the style created by ShadyCSS is\n        // included in initially rendered output (`renderedDOM`).\n        renderedDOM.insertBefore(style.cloneNode(true), renderedDOM.firstChild);\n    }\n    else if (!!template) {\n        // When no style is left in the template, parts will be broken as a\n        // result. To fix this, we put back the style node ShadyCSS removed\n        // and then tell lit to remove that node from the template.\n        // There can be no style in the template in 2 cases (1) when Shady DOM\n        // is in use, ShadyCSS removes all styles, (2) when native Shadow DOM\n        // is in use ShadyCSS removes the style if it contains no content.\n        // NOTE, ShadyCSS creates its own style so we can safely add/remove\n        // `condensedStyle` here.\n        content.insertBefore(condensedStyle, content.firstChild);\n        const removes = new Set();\n        removes.add(condensedStyle);\n        removeNodesFromTemplate(template, removes);\n    }\n};\n/**\n * Extension to the standard `render` method which supports rendering\n * to ShadowRoots when the ShadyDOM (https://github.com/webcomponents/shadydom)\n * and ShadyCSS (https://github.com/webcomponents/shadycss) polyfills are used\n * or when the webcomponentsjs\n * (https://github.com/webcomponents/webcomponentsjs) polyfill is used.\n *\n * Adds a `scopeName` option which is used to scope element DOM and stylesheets\n * when native ShadowDOM is unavailable. The `scopeName` will be added to\n * the class attribute of all rendered DOM. In addition, any style elements will\n * be automatically re-written with this `scopeName` selector and moved out\n * of the rendered DOM and into the document `<head>`.\n *\n * It is common to use this render method in conjunction with a custom element\n * which renders a shadowRoot. When this is done, typically the element's\n * `localName` should be used as the `scopeName`.\n *\n * In addition to DOM scoping, ShadyCSS also supports a basic shim for css\n * custom properties (needed only on older browsers like IE11) and a shim for\n * a deprecated feature called `@apply` that supports applying a set of css\n * custom properties to a given location.\n *\n * Usage considerations:\n *\n * * Part values in `<style>` elements are only applied the first time a given\n * `scopeName` renders. Subsequent changes to parts in style elements will have\n * no effect. Because of this, parts in style elements should only be used for\n * values that will never change, for example parts that set scope-wide theme\n * values or parts which render shared style elements.\n *\n * * Note, due to a limitation of the ShadyDOM polyfill, rendering in a\n * custom element's `constructor` is not supported. Instead rendering should\n * either done asynchronously, for example at microtask timing (for example\n * `Promise.resolve()`), or be deferred until the first time the element's\n * `connectedCallback` runs.\n *\n * Usage considerations when using shimmed custom properties or `@apply`:\n *\n * * Whenever any dynamic changes are made which affect\n * css custom properties, `ShadyCSS.styleElement(element)` must be called\n * to update the element. There are two cases when this is needed:\n * (1) the element is connected to a new parent, (2) a class is added to the\n * element that causes it to match different custom properties.\n * To address the first case when rendering a custom element, `styleElement`\n * should be called in the element's `connectedCallback`.\n *\n * * Shimmed custom properties may only be defined either for an entire\n * shadowRoot (for example, in a `:host` rule) or via a rule that directly\n * matches an element with a shadowRoot. In other words, instead of flowing from\n * parent to child as do native css custom properties, shimmed custom properties\n * flow only from shadowRoots to nested shadowRoots.\n *\n * * When using `@apply` mixing css shorthand property names with\n * non-shorthand names (for example `border` and `border-width`) is not\n * supported.\n */\nexport const render = (result, container, options) => {\n    if (!options || typeof options !== 'object' || !options.scopeName) {\n        throw new Error('The `scopeName` option is required.');\n    }\n    const scopeName = options.scopeName;\n    const hasRendered = parts.has(container);\n    const needsScoping = compatibleShadyCSSVersion &&\n        container.nodeType === 11 /* Node.DOCUMENT_FRAGMENT_NODE */ &&\n        !!container.host;\n    // Handle first render to a scope specially...\n    const firstScopeRender = needsScoping && !shadyRenderSet.has(scopeName);\n    // On first scope render, render into a fragment; this cannot be a single\n    // fragment that is reused since nested renders can occur synchronously.\n    const renderContainer = firstScopeRender ? document.createDocumentFragment() : container;\n    litRender(result, renderContainer, Object.assign({ templateFactory: shadyTemplateFactory(scopeName) }, options));\n    // When performing first scope render,\n    // (1) We've rendered into a fragment so that there's a chance to\n    // `prepareTemplateStyles` before sub-elements hit the DOM\n    // (which might cause them to render based on a common pattern of\n    // rendering in a custom element's `connectedCallback`);\n    // (2) Scope the template with ShadyCSS one time only for this scope.\n    // (3) Render the fragment into the container and make sure the\n    // container knows its `part` is the one we just rendered. This ensures\n    // DOM will be re-used on subsequent renders.\n    if (firstScopeRender) {\n        const part = parts.get(renderContainer);\n        parts.delete(renderContainer);\n        // ShadyCSS might have style sheets (e.g. from `prepareAdoptedCssText`)\n        // that should apply to `renderContainer` even if the rendered value is\n        // not a TemplateInstance. However, it will only insert scoped styles\n        // into the document if `prepareTemplateStyles` has already been called\n        // for the given scope name.\n        const template = part.value instanceof TemplateInstance ?\n            part.value.template :\n            undefined;\n        prepareTemplateStyles(scopeName, renderContainer, template);\n        removeNodes(container, container.firstChild);\n        container.appendChild(renderContainer);\n        parts.set(container, part);\n    }\n    // After elements have hit the DOM, update styling if this is the\n    // initial render to this container.\n    // This is needed whenever dynamic changes are made so it would be\n    // safest to do every render; however, this would regress performance\n    // so we leave it up to the user to call `ShadyCSS.styleElement`\n    // for dynamic changes.\n    if (!hasRendered && needsScoping) {\n        window.ShadyCSS.styleElement(container.host);\n    }\n};\n//# sourceMappingURL=shady-render.js.map","/**\n * @license\n * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.\n * This code may only be used under the BSD style license found at\n * http://polymer.github.io/LICENSE.txt\n * The complete set of authors may be found at\n * http://polymer.github.io/AUTHORS.txt\n * The complete set of contributors may be found at\n * http://polymer.github.io/CONTRIBUTORS.txt\n * Code distributed by Google as part of the polymer project is also\n * subject to an additional IP rights grant found at\n * http://polymer.github.io/PATENTS.txt\n */\nvar _a;\n/**\n * When using Closure Compiler, JSCompiler_renameProperty(property, object) is\n * replaced at compile time by the munged name for object[property]. We cannot\n * alias this function, so we have to use a small shim that has the same\n * behavior when not compiling.\n */\nwindow.JSCompiler_renameProperty =\n    (prop, _obj) => prop;\nexport const defaultConverter = {\n    toAttribute(value, type) {\n        switch (type) {\n            case Boolean:\n                return value ? '' : null;\n            case Object:\n            case Array:\n                // if the value is `null` or `undefined` pass this through\n                // to allow removing/no change behavior.\n                return value == null ? value : JSON.stringify(value);\n        }\n        return value;\n    },\n    fromAttribute(value, type) {\n        switch (type) {\n            case Boolean:\n                return value !== null;\n            case Number:\n                return value === null ? null : Number(value);\n            case Object:\n            case Array:\n                return JSON.parse(value);\n        }\n        return value;\n    }\n};\n/**\n * Change function that returns true if `value` is different from `oldValue`.\n * This method is used as the default for a property's `hasChanged` function.\n */\nexport const notEqual = (value, old) => {\n    // This ensures (old==NaN, value==NaN) always returns false\n    return old !== value && (old === old || value === value);\n};\nconst defaultPropertyDeclaration = {\n    attribute: true,\n    type: String,\n    converter: defaultConverter,\n    reflect: false,\n    hasChanged: notEqual\n};\nconst microtaskPromise = Promise.resolve(true);\nconst STATE_HAS_UPDATED = 1;\nconst STATE_UPDATE_REQUESTED = 1 << 2;\nconst STATE_IS_REFLECTING_TO_ATTRIBUTE = 1 << 3;\nconst STATE_IS_REFLECTING_TO_PROPERTY = 1 << 4;\nconst STATE_HAS_CONNECTED = 1 << 5;\n/**\n * The Closure JS Compiler doesn't currently have good support for static\n * property semantics where \"this\" is dynamic (e.g.\n * https://github.com/google/closure-compiler/issues/3177 and others) so we use\n * this hack to bypass any rewriting by the compiler.\n */\nconst finalized = 'finalized';\n/**\n * Base element class which manages element properties and attributes. When\n * properties change, the `update` method is asynchronously called. This method\n * should be supplied by subclassers to render updates as desired.\n */\nexport class UpdatingElement extends HTMLElement {\n    constructor() {\n        super();\n        this._updateState = 0;\n        this._instanceProperties = undefined;\n        this._updatePromise = microtaskPromise;\n        this._hasConnectedResolver = undefined;\n        /**\n         * Map with keys for any properties that have changed since the last\n         * update cycle with previous values.\n         */\n        this._changedProperties = new Map();\n        /**\n         * Map with keys of properties that should be reflected when updated.\n         */\n        this._reflectingProperties = undefined;\n        this.initialize();\n    }\n    /**\n     * Returns a list of attributes corresponding to the registered properties.\n     * @nocollapse\n     */\n    static get observedAttributes() {\n        // note: piggy backing on this to ensure we're finalized.\n        this.finalize();\n        const attributes = [];\n        // Use forEach so this works even if for/of loops are compiled to for loops\n        // expecting arrays\n        this._classProperties.forEach((v, p) => {\n            const attr = this._attributeNameForProperty(p, v);\n            if (attr !== undefined) {\n                this._attributeToPropertyMap.set(attr, p);\n                attributes.push(attr);\n            }\n        });\n        return attributes;\n    }\n    /**\n     * Ensures the private `_classProperties` property metadata is created.\n     * In addition to `finalize` this is also called in `createProperty` to\n     * ensure the `@property` decorator can add property metadata.\n     */\n    /** @nocollapse */\n    static _ensureClassProperties() {\n        // ensure private storage for property declarations.\n        if (!this.hasOwnProperty(JSCompiler_renameProperty('_classProperties', this))) {\n            this._classProperties = new Map();\n            // NOTE: Workaround IE11 not supporting Map constructor argument.\n            const superProperties = Object.getPrototypeOf(this)._classProperties;\n            if (superProperties !== undefined) {\n                superProperties.forEach((v, k) => this._classProperties.set(k, v));\n            }\n        }\n    }\n    /**\n     * Creates a property accessor on the element prototype if one does not exist.\n     * The property setter calls the property's `hasChanged` property option\n     * or uses a strict identity check to determine whether or not to request\n     * an update.\n     * @nocollapse\n     */\n    static createProperty(name, options = defaultPropertyDeclaration) {\n        // Note, since this can be called by the `@property` decorator which\n        // is called before `finalize`, we ensure storage exists for property\n        // metadata.\n        this._ensureClassProperties();\n        this._classProperties.set(name, options);\n        // Do not generate an accessor if the prototype already has one, since\n        // it would be lost otherwise and that would never be the user's intention;\n        // Instead, we expect users to call `requestUpdate` themselves from\n        // user-defined accessors. Note that if the super has an accessor we will\n        // still overwrite it\n        if (options.noAccessor || this.prototype.hasOwnProperty(name)) {\n            return;\n        }\n        const key = typeof name === 'symbol' ? Symbol() : `__${name}`;\n        Object.defineProperty(this.prototype, name, {\n            // tslint:disable-next-line:no-any no symbol in index\n            get() {\n                return this[key];\n            },\n            set(value) {\n                const oldValue = this[name];\n                this[key] = value;\n                this._requestUpdate(name, oldValue);\n            },\n            configurable: true,\n            enumerable: true\n        });\n    }\n    /**\n     * Creates property accessors for registered properties and ensures\n     * any superclasses are also finalized.\n     * @nocollapse\n     */\n    static finalize() {\n        // finalize any superclasses\n        const superCtor = Object.getPrototypeOf(this);\n        if (!superCtor.hasOwnProperty(finalized)) {\n            superCtor.finalize();\n        }\n        this[finalized] = true;\n        this._ensureClassProperties();\n        // initialize Map populated in observedAttributes\n        this._attributeToPropertyMap = new Map();\n        // make any properties\n        // Note, only process \"own\" properties since this element will inherit\n        // any properties defined on the superClass, and finalization ensures\n        // the entire prototype chain is finalized.\n        if (this.hasOwnProperty(JSCompiler_renameProperty('properties', this))) {\n            const props = this.properties;\n            // support symbols in properties (IE11 does not support this)\n            const propKeys = [\n                ...Object.getOwnPropertyNames(props),\n                ...(typeof Object.getOwnPropertySymbols === 'function') ?\n                    Object.getOwnPropertySymbols(props) :\n                    []\n            ];\n            // This for/of is ok because propKeys is an array\n            for (const p of propKeys) {\n                // note, use of `any` is due to TypeSript lack of support for symbol in\n                // index types\n                // tslint:disable-next-line:no-any no symbol in index\n                this.createProperty(p, props[p]);\n            }\n        }\n    }\n    /**\n     * Returns the property name for the given attribute `name`.\n     * @nocollapse\n     */\n    static _attributeNameForProperty(name, options) {\n        const attribute = options.attribute;\n        return attribute === false ?\n            undefined :\n            (typeof attribute === 'string' ?\n                attribute :\n                (typeof name === 'string' ? name.toLowerCase() : undefined));\n    }\n    /**\n     * Returns true if a property should request an update.\n     * Called when a property value is set and uses the `hasChanged`\n     * option for the property if present or a strict identity check.\n     * @nocollapse\n     */\n    static _valueHasChanged(value, old, hasChanged = notEqual) {\n        return hasChanged(value, old);\n    }\n    /**\n     * Returns the property value for the given attribute value.\n     * Called via the `attributeChangedCallback` and uses the property's\n     * `converter` or `converter.fromAttribute` property option.\n     * @nocollapse\n     */\n    static _propertyValueFromAttribute(value, options) {\n        const type = options.type;\n        const converter = options.converter || defaultConverter;\n        const fromAttribute = (typeof converter === 'function' ? converter : converter.fromAttribute);\n        return fromAttribute ? fromAttribute(value, type) : value;\n    }\n    /**\n     * Returns the attribute value for the given property value. If this\n     * returns undefined, the property will *not* be reflected to an attribute.\n     * If this returns null, the attribute will be removed, otherwise the\n     * attribute will be set to the value.\n     * This uses the property's `reflect` and `type.toAttribute` property options.\n     * @nocollapse\n     */\n    static _propertyValueToAttribute(value, options) {\n        if (options.reflect === undefined) {\n            return;\n        }\n        const type = options.type;\n        const converter = options.converter;\n        const toAttribute = converter && converter.toAttribute ||\n            defaultConverter.toAttribute;\n        return toAttribute(value, type);\n    }\n    /**\n     * Performs element initialization. By default captures any pre-set values for\n     * registered properties.\n     */\n    initialize() {\n        this._saveInstanceProperties();\n        // ensures first update will be caught by an early access of\n        // `updateComplete`\n        this._requestUpdate();\n    }\n    /**\n     * Fixes any properties set on the instance before upgrade time.\n     * Otherwise these would shadow the accessor and break these properties.\n     * The properties are stored in a Map which is played back after the\n     * constructor runs. Note, on very old versions of Safari (<=9) or Chrome\n     * (<=41), properties created for native platform properties like (`id` or\n     * `name`) may not have default values set in the element constructor. On\n     * these browsers native properties appear on instances and therefore their\n     * default value will overwrite any element default (e.g. if the element sets\n     * this.id = 'id' in the constructor, the 'id' will become '' since this is\n     * the native platform default).\n     */\n    _saveInstanceProperties() {\n        // Use forEach so this works even if for/of loops are compiled to for loops\n        // expecting arrays\n        this.constructor\n            ._classProperties.forEach((_v, p) => {\n            if (this.hasOwnProperty(p)) {\n                const value = this[p];\n                delete this[p];\n                if (!this._instanceProperties) {\n                    this._instanceProperties = new Map();\n                }\n                this._instanceProperties.set(p, value);\n            }\n        });\n    }\n    /**\n     * Applies previously saved instance properties.\n     */\n    _applyInstanceProperties() {\n        // Use forEach so this works even if for/of loops are compiled to for loops\n        // expecting arrays\n        // tslint:disable-next-line:no-any\n        this._instanceProperties.forEach((v, p) => this[p] = v);\n        this._instanceProperties = undefined;\n    }\n    connectedCallback() {\n        this._updateState = this._updateState | STATE_HAS_CONNECTED;\n        // Ensure first connection completes an update. Updates cannot complete\n        // before connection and if one is pending connection the\n        // `_hasConnectionResolver` will exist. If so, resolve it to complete the\n        // update, otherwise requestUpdate.\n        if (this._hasConnectedResolver) {\n            this._hasConnectedResolver();\n            this._hasConnectedResolver = undefined;\n        }\n    }\n    /**\n     * Allows for `super.disconnectedCallback()` in extensions while\n     * reserving the possibility of making non-breaking feature additions\n     * when disconnecting at some point in the future.\n     */\n    disconnectedCallback() {\n    }\n    /**\n     * Synchronizes property values when attributes change.\n     */\n    attributeChangedCallback(name, old, value) {\n        if (old !== value) {\n            this._attributeToProperty(name, value);\n        }\n    }\n    _propertyToAttribute(name, value, options = defaultPropertyDeclaration) {\n        const ctor = this.constructor;\n        const attr = ctor._attributeNameForProperty(name, options);\n        if (attr !== undefined) {\n            const attrValue = ctor._propertyValueToAttribute(value, options);\n            // an undefined value does not change the attribute.\n            if (attrValue === undefined) {\n                return;\n            }\n            // Track if the property is being reflected to avoid\n            // setting the property again via `attributeChangedCallback`. Note:\n            // 1. this takes advantage of the fact that the callback is synchronous.\n            // 2. will behave incorrectly if multiple attributes are in the reaction\n            // stack at time of calling. However, since we process attributes\n            // in `update` this should not be possible (or an extreme corner case\n            // that we'd like to discover).\n            // mark state reflecting\n            this._updateState = this._updateState | STATE_IS_REFLECTING_TO_ATTRIBUTE;\n            if (attrValue == null) {\n                this.removeAttribute(attr);\n            }\n            else {\n                this.setAttribute(attr, attrValue);\n            }\n            // mark state not reflecting\n            this._updateState = this._updateState & ~STATE_IS_REFLECTING_TO_ATTRIBUTE;\n        }\n    }\n    _attributeToProperty(name, value) {\n        // Use tracking info to avoid deserializing attribute value if it was\n        // just set from a property setter.\n        if (this._updateState & STATE_IS_REFLECTING_TO_ATTRIBUTE) {\n            return;\n        }\n        const ctor = this.constructor;\n        const propName = ctor._attributeToPropertyMap.get(name);\n        if (propName !== undefined) {\n            const options = ctor._classProperties.get(propName) || defaultPropertyDeclaration;\n            // mark state reflecting\n            this._updateState = this._updateState | STATE_IS_REFLECTING_TO_PROPERTY;\n            this[propName] =\n                // tslint:disable-next-line:no-any\n                ctor._propertyValueFromAttribute(value, options);\n            // mark state not reflecting\n            this._updateState = this._updateState & ~STATE_IS_REFLECTING_TO_PROPERTY;\n        }\n    }\n    /**\n     * This private version of `requestUpdate` does not access or return the\n     * `updateComplete` promise. This promise can be overridden and is therefore\n     * not free to access.\n     */\n    _requestUpdate(name, oldValue) {\n        let shouldRequestUpdate = true;\n        // If we have a property key, perform property update steps.\n        if (name !== undefined) {\n            const ctor = this.constructor;\n            const options = ctor._classProperties.get(name) || defaultPropertyDeclaration;\n            if (ctor._valueHasChanged(this[name], oldValue, options.hasChanged)) {\n                if (!this._changedProperties.has(name)) {\n                    this._changedProperties.set(name, oldValue);\n                }\n                // Add to reflecting properties set.\n                // Note, it's important that every change has a chance to add the\n                // property to `_reflectingProperties`. This ensures setting\n                // attribute + property reflects correctly.\n                if (options.reflect === true &&\n                    !(this._updateState & STATE_IS_REFLECTING_TO_PROPERTY)) {\n                    if (this._reflectingProperties === undefined) {\n                        this._reflectingProperties = new Map();\n                    }\n                    this._reflectingProperties.set(name, options);\n                }\n            }\n            else {\n                // Abort the request if the property should not be considered changed.\n                shouldRequestUpdate = false;\n            }\n        }\n        if (!this._hasRequestedUpdate && shouldRequestUpdate) {\n            this._enqueueUpdate();\n        }\n    }\n    /**\n     * Requests an update which is processed asynchronously. This should\n     * be called when an element should update based on some state not triggered\n     * by setting a property. In this case, pass no arguments. It should also be\n     * called when manually implementing a property setter. In this case, pass the\n     * property `name` and `oldValue` to ensure that any configured property\n     * options are honored. Returns the `updateComplete` Promise which is resolved\n     * when the update completes.\n     *\n     * @param name {PropertyKey} (optional) name of requesting property\n     * @param oldValue {any} (optional) old value of requesting property\n     * @returns {Promise} A Promise that is resolved when the update completes.\n     */\n    requestUpdate(name, oldValue) {\n        this._requestUpdate(name, oldValue);\n        return this.updateComplete;\n    }\n    /**\n     * Sets up the element to asynchronously update.\n     */\n    async _enqueueUpdate() {\n        // Mark state updating...\n        this._updateState = this._updateState | STATE_UPDATE_REQUESTED;\n        let resolve;\n        let reject;\n        const previousUpdatePromise = this._updatePromise;\n        this._updatePromise = new Promise((res, rej) => {\n            resolve = res;\n            reject = rej;\n        });\n        try {\n            // Ensure any previous update has resolved before updating.\n            // This `await` also ensures that property changes are batched.\n            await previousUpdatePromise;\n        }\n        catch (e) {\n            // Ignore any previous errors. We only care that the previous cycle is\n            // done. Any error should have been handled in the previous update.\n        }\n        // Make sure the element has connected before updating.\n        if (!this._hasConnected) {\n            await new Promise((res) => this._hasConnectedResolver = res);\n        }\n        try {\n            const result = this.performUpdate();\n            // If `performUpdate` returns a Promise, we await it. This is done to\n            // enable coordinating updates with a scheduler. Note, the result is\n            // checked to avoid delaying an additional microtask unless we need to.\n            if (result != null) {\n                await result;\n            }\n        }\n        catch (e) {\n            reject(e);\n        }\n        resolve(!this._hasRequestedUpdate);\n    }\n    get _hasConnected() {\n        return (this._updateState & STATE_HAS_CONNECTED);\n    }\n    get _hasRequestedUpdate() {\n        return (this._updateState & STATE_UPDATE_REQUESTED);\n    }\n    get hasUpdated() {\n        return (this._updateState & STATE_HAS_UPDATED);\n    }\n    /**\n     * Performs an element update. Note, if an exception is thrown during the\n     * update, `firstUpdated` and `updated` will not be called.\n     *\n     * You can override this method to change the timing of updates. If this\n     * method is overridden, `super.performUpdate()` must be called.\n     *\n     * For instance, to schedule updates to occur just before the next frame:\n     *\n     * ```\n     * protected async performUpdate(): Promise<unknown> {\n     *   await new Promise((resolve) => requestAnimationFrame(() => resolve()));\n     *   super.performUpdate();\n     * }\n     * ```\n     */\n    performUpdate() {\n        // Mixin instance properties once, if they exist.\n        if (this._instanceProperties) {\n            this._applyInstanceProperties();\n        }\n        let shouldUpdate = false;\n        const changedProperties = this._changedProperties;\n        try {\n            shouldUpdate = this.shouldUpdate(changedProperties);\n            if (shouldUpdate) {\n                this.update(changedProperties);\n            }\n        }\n        catch (e) {\n            // Prevent `firstUpdated` and `updated` from running when there's an\n            // update exception.\n            shouldUpdate = false;\n            throw e;\n        }\n        finally {\n            // Ensure element can accept additional updates after an exception.\n            this._markUpdated();\n        }\n        if (shouldUpdate) {\n            if (!(this._updateState & STATE_HAS_UPDATED)) {\n                this._updateState = this._updateState | STATE_HAS_UPDATED;\n                this.firstUpdated(changedProperties);\n            }\n            this.updated(changedProperties);\n        }\n    }\n    _markUpdated() {\n        this._changedProperties = new Map();\n        this._updateState = this._updateState & ~STATE_UPDATE_REQUESTED;\n    }\n    /**\n     * Returns a Promise that resolves when the element has completed updating.\n     * The Promise value is a boolean that is `true` if the element completed the\n     * update without triggering another update. The Promise result is `false` if\n     * a property was set inside `updated()`. If the Promise is rejected, an\n     * exception was thrown during the update.\n     *\n     * To await additional asynchronous work, override the `_getUpdateComplete`\n     * method. For example, it is sometimes useful to await a rendered element\n     * before fulfilling this Promise. To do this, first await\n     * `super._getUpdateComplete()`, then any subsequent state.\n     *\n     * @returns {Promise} The Promise returns a boolean that indicates if the\n     * update resolved without triggering another update.\n     */\n    get updateComplete() {\n        return this._getUpdateComplete();\n    }\n    /**\n     * Override point for the `updateComplete` promise.\n     *\n     * It is not safe to override the `updateComplete` getter directly due to a\n     * limitation in TypeScript which means it is not possible to call a\n     * superclass getter (e.g. `super.updateComplete.then(...)`) when the target\n     * language is ES5 (https://github.com/microsoft/TypeScript/issues/338).\n     * This method should be overridden instead. For example:\n     *\n     *   class MyElement extends LitElement {\n     *     async _getUpdateComplete() {\n     *       await super._getUpdateComplete();\n     *       await this._myChild.updateComplete;\n     *     }\n     *   }\n     */\n    _getUpdateComplete() {\n        return this._updatePromise;\n    }\n    /**\n     * Controls whether or not `update` should be called when the element requests\n     * an update. By default, this method always returns `true`, but this can be\n     * customized to control when to update.\n     *\n     * * @param _changedProperties Map of changed properties with old values\n     */\n    shouldUpdate(_changedProperties) {\n        return true;\n    }\n    /**\n     * Updates the element. This method reflects property values to attributes.\n     * It can be overridden to render and keep updated element DOM.\n     * Setting properties inside this method will *not* trigger\n     * another update.\n     *\n     * * @param _changedProperties Map of changed properties with old values\n     */\n    update(_changedProperties) {\n        if (this._reflectingProperties !== undefined &&\n            this._reflectingProperties.size > 0) {\n            // Use forEach so this works even if for/of loops are compiled to for\n            // loops expecting arrays\n            this._reflectingProperties.forEach((v, k) => this._propertyToAttribute(k, this[k], v));\n            this._reflectingProperties = undefined;\n        }\n    }\n    /**\n     * Invoked whenever the element is updated. Implement to perform\n     * post-updating tasks via DOM APIs, for example, focusing an element.\n     *\n     * Setting properties inside this method will trigger the element to update\n     * again after this update cycle completes.\n     *\n     * * @param _changedProperties Map of changed properties with old values\n     */\n    updated(_changedProperties) {\n    }\n    /**\n     * Invoked when the element is first updated. Implement to perform one time\n     * work on the element after update.\n     *\n     * Setting properties inside this method will trigger the element to update\n     * again after this update cycle completes.\n     *\n     * * @param _changedProperties Map of changed properties with old values\n     */\n    firstUpdated(_changedProperties) {\n    }\n}\n_a = finalized;\n/**\n * Marks class as having finished creating properties.\n */\nUpdatingElement[_a] = true;\n//# sourceMappingURL=updating-element.js.map","/**\n@license\nCopyright (c) 2019 The Polymer Project Authors. All rights reserved.\nThis code may only be used under the BSD style license found at\nhttp://polymer.github.io/LICENSE.txt The complete set of authors may be found at\nhttp://polymer.github.io/AUTHORS.txt The complete set of contributors may be\nfound at http://polymer.github.io/CONTRIBUTORS.txt Code distributed by Google as\npart of the polymer project is also subject to an additional IP rights grant\nfound at http://polymer.github.io/PATENTS.txt\n*/\nexport const supportsAdoptingStyleSheets = ('adoptedStyleSheets' in Document.prototype) &&\n    ('replace' in CSSStyleSheet.prototype);\nconst constructionToken = Symbol();\nexport class CSSResult {\n    constructor(cssText, safeToken) {\n        if (safeToken !== constructionToken) {\n            throw new Error('CSSResult is not constructable. Use `unsafeCSS` or `css` instead.');\n        }\n        this.cssText = cssText;\n    }\n    // Note, this is a getter so that it's lazy. In practice, this means\n    // stylesheets are not created until the first element instance is made.\n    get styleSheet() {\n        if (this._styleSheet === undefined) {\n            // Note, if `adoptedStyleSheets` is supported then we assume CSSStyleSheet\n            // is constructable.\n            if (supportsAdoptingStyleSheets) {\n                this._styleSheet = new CSSStyleSheet();\n                this._styleSheet.replaceSync(this.cssText);\n            }\n            else {\n                this._styleSheet = null;\n            }\n        }\n        return this._styleSheet;\n    }\n    toString() {\n        return this.cssText;\n    }\n}\n/**\n * Wrap a value for interpolation in a css tagged template literal.\n *\n * This is unsafe because untrusted CSS text can be used to phone home\n * or exfiltrate data to an attacker controlled site. Take care to only use\n * this with trusted input.\n */\nexport const unsafeCSS = (value) => {\n    return new CSSResult(String(value), constructionToken);\n};\nconst textFromCSSResult = (value) => {\n    if (value instanceof CSSResult) {\n        return value.cssText;\n    }\n    else if (typeof value === 'number') {\n        return value;\n    }\n    else {\n        throw new Error(`Value passed to 'css' function must be a 'css' function result: ${value}. Use 'unsafeCSS' to pass non-literal values, but\n            take care to ensure page security.`);\n    }\n};\n/**\n * Template tag which which can be used with LitElement's `style` property to\n * set element styles. For security reasons, only literal string values may be\n * used. To incorporate non-literal values `unsafeCSS` may be used inside a\n * template string part.\n */\nexport const css = (strings, ...values) => {\n    const cssText = values.reduce((acc, v, idx) => acc + textFromCSSResult(v) + strings[idx + 1], strings[0]);\n    return new CSSResult(cssText, constructionToken);\n};\n//# sourceMappingURL=css-tag.js.map","/**\n * @license\n * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.\n * This code may only be used under the BSD style license found at\n * http://polymer.github.io/LICENSE.txt\n * The complete set of authors may be found at\n * http://polymer.github.io/AUTHORS.txt\n * The complete set of contributors may be found at\n * http://polymer.github.io/CONTRIBUTORS.txt\n * Code distributed by Google as part of the polymer project is also\n * subject to an additional IP rights grant found at\n * http://polymer.github.io/PATENTS.txt\n */\nimport { TemplateResult } from 'lit-html';\nimport { render } from 'lit-html/lib/shady-render.js';\nimport { UpdatingElement } from './lib/updating-element.js';\nexport * from './lib/updating-element.js';\nexport * from './lib/decorators.js';\nexport { html, svg, TemplateResult, SVGTemplateResult } from 'lit-html/lit-html.js';\nimport { supportsAdoptingStyleSheets } from './lib/css-tag.js';\nexport * from './lib/css-tag.js';\n// IMPORTANT: do not change the property name or the assignment expression.\n// This line will be used in regexes to search for LitElement usage.\n// TODO(justinfagnani): inject version number at build time\n(window['litElementVersions'] || (window['litElementVersions'] = []))\n    .push('2.2.1');\n/**\n * Minimal implementation of Array.prototype.flat\n * @param arr the array to flatten\n * @param result the accumlated result\n */\nfunction arrayFlat(styles, result = []) {\n    for (let i = 0, length = styles.length; i < length; i++) {\n        const value = styles[i];\n        if (Array.isArray(value)) {\n            arrayFlat(value, result);\n        }\n        else {\n            result.push(value);\n        }\n    }\n    return result;\n}\n/** Deeply flattens styles array. Uses native flat if available. */\nconst flattenStyles = (styles) => styles.flat ? styles.flat(Infinity) : arrayFlat(styles);\nexport class LitElement extends UpdatingElement {\n    /** @nocollapse */\n    static finalize() {\n        // The Closure JS Compiler does not always preserve the correct \"this\"\n        // when calling static super methods (b/137460243), so explicitly bind.\n        super.finalize.call(this);\n        // Prepare styling that is stamped at first render time. Styling\n        // is built from user provided `styles` or is inherited from the superclass.\n        this._styles =\n            this.hasOwnProperty(JSCompiler_renameProperty('styles', this)) ?\n                this._getUniqueStyles() :\n                this._styles || [];\n    }\n    /** @nocollapse */\n    static _getUniqueStyles() {\n        // Take care not to call `this.styles` multiple times since this generates\n        // new CSSResults each time.\n        // TODO(sorvell): Since we do not cache CSSResults by input, any\n        // shared styles will generate new stylesheet objects, which is wasteful.\n        // This should be addressed when a browser ships constructable\n        // stylesheets.\n        const userStyles = this.styles;\n        const styles = [];\n        if (Array.isArray(userStyles)) {\n            const flatStyles = flattenStyles(userStyles);\n            // As a performance optimization to avoid duplicated styling that can\n            // occur especially when composing via subclassing, de-duplicate styles\n            // preserving the last item in the list. The last item is kept to\n            // try to preserve cascade order with the assumption that it's most\n            // important that last added styles override previous styles.\n            const styleSet = flatStyles.reduceRight((set, s) => {\n                set.add(s);\n                // on IE set.add does not return the set.\n                return set;\n            }, new Set());\n            // Array.from does not work on Set in IE\n            styleSet.forEach((v) => styles.unshift(v));\n        }\n        else if (userStyles) {\n            styles.push(userStyles);\n        }\n        return styles;\n    }\n    /**\n     * Performs element initialization. By default this calls `createRenderRoot`\n     * to create the element `renderRoot` node and captures any pre-set values for\n     * registered properties.\n     */\n    initialize() {\n        super.initialize();\n        this.renderRoot =\n            this.createRenderRoot();\n        // Note, if renderRoot is not a shadowRoot, styles would/could apply to the\n        // element's getRootNode(). While this could be done, we're choosing not to\n        // support this now since it would require different logic around de-duping.\n        if (window.ShadowRoot && this.renderRoot instanceof window.ShadowRoot) {\n            this.adoptStyles();\n        }\n    }\n    /**\n     * Returns the node into which the element should render and by default\n     * creates and returns an open shadowRoot. Implement to customize where the\n     * element's DOM is rendered. For example, to render into the element's\n     * childNodes, return `this`.\n     * @returns {Element|DocumentFragment} Returns a node into which to render.\n     */\n    createRenderRoot() {\n        return this.attachShadow({ mode: 'open' });\n    }\n    /**\n     * Applies styling to the element shadowRoot using the `static get styles`\n     * property. Styling will apply using `shadowRoot.adoptedStyleSheets` where\n     * available and will fallback otherwise. When Shadow DOM is polyfilled,\n     * ShadyCSS scopes styles and adds them to the document. When Shadow DOM\n     * is available but `adoptedStyleSheets` is not, styles are appended to the\n     * end of the `shadowRoot` to [mimic spec\n     * behavior](https://wicg.github.io/construct-stylesheets/#using-constructed-stylesheets).\n     */\n    adoptStyles() {\n        const styles = this.constructor._styles;\n        if (styles.length === 0) {\n            return;\n        }\n        // There are three separate cases here based on Shadow DOM support.\n        // (1) shadowRoot polyfilled: use ShadyCSS\n        // (2) shadowRoot.adoptedStyleSheets available: use it.\n        // (3) shadowRoot.adoptedStyleSheets polyfilled: append styles after\n        // rendering\n        if (window.ShadyCSS !== undefined && !window.ShadyCSS.nativeShadow) {\n            window.ShadyCSS.ScopingShim.prepareAdoptedCssText(styles.map((s) => s.cssText), this.localName);\n        }\n        else if (supportsAdoptingStyleSheets) {\n            this.renderRoot.adoptedStyleSheets =\n                styles.map((s) => s.styleSheet);\n        }\n        else {\n            // This must be done after rendering so the actual style insertion is done\n            // in `update`.\n            this._needsShimAdoptedStyleSheets = true;\n        }\n    }\n    connectedCallback() {\n        super.connectedCallback();\n        // Note, first update/render handles styleElement so we only call this if\n        // connected after first update.\n        if (this.hasUpdated && window.ShadyCSS !== undefined) {\n            window.ShadyCSS.styleElement(this);\n        }\n    }\n    /**\n     * Updates the element. This method reflects property values to attributes\n     * and calls `render` to render DOM via lit-html. Setting properties inside\n     * this method will *not* trigger another update.\n     * * @param _changedProperties Map of changed properties with old values\n     */\n    update(changedProperties) {\n        super.update(changedProperties);\n        const templateResult = this.render();\n        if (templateResult instanceof TemplateResult) {\n            this.constructor\n                .render(templateResult, this.renderRoot, { scopeName: this.localName, eventContext: this });\n        }\n        // When native Shadow DOM is used but adoptedStyles are not supported,\n        // insert styling after rendering to ensure adoptedStyles have highest\n        // priority.\n        if (this._needsShimAdoptedStyleSheets) {\n            this._needsShimAdoptedStyleSheets = false;\n            this.constructor._styles.forEach((s) => {\n                const style = document.createElement('style');\n                style.textContent = s.cssText;\n                this.renderRoot.appendChild(style);\n            });\n        }\n    }\n    /**\n     * Invoked on each update to perform rendering tasks. This method must return\n     * a lit-html TemplateResult. Setting properties inside this method will *not*\n     * trigger the element to update.\n     */\n    render() {\n    }\n}\n/**\n * Ensure this class is marked as `finalized` as an optimization ensuring\n * it will not needlessly try to `finalize`.\n *\n * Note this property name is a string to prevent breaking Closure JS Compiler\n * optimizations. See updating-element.ts for more information.\n */\nLitElement['finalized'] = true;\n/**\n * Render method used to render the lit-html TemplateResult to the element's\n * DOM.\n * @param {TemplateResult} Template to render.\n * @param {Element|DocumentFragment} Node into which to render.\n * @param {String} Element name.\n * @nocollapse\n */\nLitElement.render = render;\n//# sourceMappingURL=lit-element.js.map","export var slice = Array.prototype.slice;\n","export default function(x) {\n  return x;\n}\n","import {slice} from \"./array\";\nimport identity from \"./identity\";\n\nvar top = 1,\n    right = 2,\n    bottom = 3,\n    left = 4,\n    epsilon = 1e-6;\n\nfunction translateX(x) {\n  return \"translate(\" + (x + 0.5) + \",0)\";\n}\n\nfunction translateY(y) {\n  return \"translate(0,\" + (y + 0.5) + \")\";\n}\n\nfunction number(scale) {\n  return function(d) {\n    return +scale(d);\n  };\n}\n\nfunction center(scale) {\n  var offset = Math.max(0, scale.bandwidth() - 1) / 2; // Adjust for 0.5px offset.\n  if (scale.round()) offset = Math.round(offset);\n  return function(d) {\n    return +scale(d) + offset;\n  };\n}\n\nfunction entering() {\n  return !this.__axis;\n}\n\nfunction axis(orient, scale) {\n  var tickArguments = [],\n      tickValues = null,\n      tickFormat = null,\n      tickSizeInner = 6,\n      tickSizeOuter = 6,\n      tickPadding = 3,\n      k = orient === top || orient === left ? -1 : 1,\n      x = orient === left || orient === right ? \"x\" : \"y\",\n      transform = orient === top || orient === bottom ? translateX : translateY;\n\n  function axis(context) {\n    var values = tickValues == null ? (scale.ticks ? scale.ticks.apply(scale, tickArguments) : scale.domain()) : tickValues,\n        format = tickFormat == null ? (scale.tickFormat ? scale.tickFormat.apply(scale, tickArguments) : identity) : tickFormat,\n        spacing = Math.max(tickSizeInner, 0) + tickPadding,\n        range = scale.range(),\n        range0 = +range[0] + 0.5,\n        range1 = +range[range.length - 1] + 0.5,\n        position = (scale.bandwidth ? center : number)(scale.copy()),\n        selection = context.selection ? context.selection() : context,\n        path = selection.selectAll(\".domain\").data([null]),\n        tick = selection.selectAll(\".tick\").data(values, scale).order(),\n        tickExit = tick.exit(),\n        tickEnter = tick.enter().append(\"g\").attr(\"class\", \"tick\"),\n        line = tick.select(\"line\"),\n        text = tick.select(\"text\");\n\n    path = path.merge(path.enter().insert(\"path\", \".tick\")\n        .attr(\"class\", \"domain\")\n        .attr(\"stroke\", \"currentColor\"));\n\n    tick = tick.merge(tickEnter);\n\n    line = line.merge(tickEnter.append(\"line\")\n        .attr(\"stroke\", \"currentColor\")\n        .attr(x + \"2\", k * tickSizeInner));\n\n    text = text.merge(tickEnter.append(\"text\")\n        .attr(\"fill\", \"currentColor\")\n        .attr(x, k * spacing)\n        .attr(\"dy\", orient === top ? \"0em\" : orient === bottom ? \"0.71em\" : \"0.32em\"));\n\n    if (context !== selection) {\n      path = path.transition(context);\n      tick = tick.transition(context);\n      line = line.transition(context);\n      text = text.transition(context);\n\n      tickExit = tickExit.transition(context)\n          .attr(\"opacity\", epsilon)\n          .attr(\"transform\", function(d) { return isFinite(d = position(d)) ? transform(d) : this.getAttribute(\"transform\"); });\n\n      tickEnter\n          .attr(\"opacity\", epsilon)\n          .attr(\"transform\", function(d) { var p = this.parentNode.__axis; return transform(p && isFinite(p = p(d)) ? p : position(d)); });\n    }\n\n    tickExit.remove();\n\n    path\n        .attr(\"d\", orient === left || orient == right\n            ? (tickSizeOuter ? \"M\" + k * tickSizeOuter + \",\" + range0 + \"H0.5V\" + range1 + \"H\" + k * tickSizeOuter : \"M0.5,\" + range0 + \"V\" + range1)\n            : (tickSizeOuter ? \"M\" + range0 + \",\" + k * tickSizeOuter + \"V0.5H\" + range1 + \"V\" + k * tickSizeOuter : \"M\" + range0 + \",0.5H\" + range1));\n\n    tick\n        .attr(\"opacity\", 1)\n        .attr(\"transform\", function(d) { return transform(position(d)); });\n\n    line\n        .attr(x + \"2\", k * tickSizeInner);\n\n    text\n        .attr(x, k * spacing)\n        .text(format);\n\n    selection.filter(entering)\n        .attr(\"fill\", \"none\")\n        .attr(\"font-size\", 10)\n        .attr(\"font-family\", \"sans-serif\")\n        .attr(\"text-anchor\", orient === right ? \"start\" : orient === left ? \"end\" : \"middle\");\n\n    selection\n        .each(function() { this.__axis = position; });\n  }\n\n  axis.scale = function(_) {\n    return arguments.length ? (scale = _, axis) : scale;\n  };\n\n  axis.ticks = function() {\n    return tickArguments = slice.call(arguments), axis;\n  };\n\n  axis.tickArguments = function(_) {\n    return arguments.length ? (tickArguments = _ == null ? [] : slice.call(_), axis) : tickArguments.slice();\n  };\n\n  axis.tickValues = function(_) {\n    return arguments.length ? (tickValues = _ == null ? null : slice.call(_), axis) : tickValues && tickValues.slice();\n  };\n\n  axis.tickFormat = function(_) {\n    return arguments.length ? (tickFormat = _, axis) : tickFormat;\n  };\n\n  axis.tickSize = function(_) {\n    return arguments.length ? (tickSizeInner = tickSizeOuter = +_, axis) : tickSizeInner;\n  };\n\n  axis.tickSizeInner = function(_) {\n    return arguments.length ? (tickSizeInner = +_, axis) : tickSizeInner;\n  };\n\n  axis.tickSizeOuter = function(_) {\n    return arguments.length ? (tickSizeOuter = +_, axis) : tickSizeOuter;\n  };\n\n  axis.tickPadding = function(_) {\n    return arguments.length ? (tickPadding = +_, axis) : tickPadding;\n  };\n\n  return axis;\n}\n\nexport function axisTop(scale) {\n  return axis(top, scale);\n}\n\nexport function axisRight(scale) {\n  return axis(right, scale);\n}\n\nexport function axisBottom(scale) {\n  return axis(bottom, scale);\n}\n\nexport function axisLeft(scale) {\n  return axis(left, scale);\n}\n","\nimport { LitElement } from 'lit-element';\n\n\nimport { capitalize, shapeProperties } from '../helper/utils.js';\nimport * as axis from 'd3-axis';\n\nconst instance = axis.axisTop();\nconst keys = Object.keys(instance || {});\nconst props = shapeProperties(keys);\n\n/**\n * A litElement wrapper around [d3.axis](https://github.com/d3/d3-axis). \n * \n * @element d3-axis\n * @fires axis-changed - fires when axis value changes (and need to be re-rendered)\n *\n * \n * \n */\nclass D3Axis extends LitElement {\n\n  static get properties() {\n\n    return {\n\n      ...props,\n\n      /**\n       * type of axis\n       * @type {'top'|'bottom'|'left'|'right'}\n       */\n      type: {\n        type: String,\n      },\n\n      domain: {\n        type: Array\n      },\n      \n      range: {\n        type: Array\n      }\n    };\n  }\n  constructor() {\n    super();\n    this.__init = true;\n  }\n\n  update(props) {\n    super.update(props);\n    this.log && console.info(`d3-axis ${this.type} update`, props);\n    if (!this.type && !props.has('type')) {\n      this.type = 'bottom';\n    }\n\n    // Note(cg): ensure number for ticks.\n    if (props.has('ticks') && typeof this.ticks === 'string') {\n      this.ticks = this.ticks * 1;\n    }\n\n    if (!this.axis || props.has('type')) {\n      this.axis = axis[`axis${capitalize(this.type)}`]();\n    }\n\n    if (this.axis) {\n      this.updateWrapper(props);\n    }\n  }\n\n  updateWrapper(props) {\n    let shallNotify = this.__init;\n    props.forEach((value, key) => {\n      if ((this[key] !== undefined) && key !== 'axis' && this.axis[key]) {\n        shallNotify = true;\n        this.axis[key](this[key]);\n      }\n    });\n    if (shallNotify) {\n      this.dispatchEvent(new CustomEvent(`axis-changed`, { detail: { value: this.axis, type: this.type }, bubbles: true, composed: true }));\n      delete this.__init;\n    }\n  }\n}\n\nexport default D3Axis;\n","/**\n * Lit-Element wrapper around d3.transiton\n *\n * anytime the transition is changed, will expose a `transition-changed` event, \n * dispatching a function applying duration, delay or ease - if they exist - to \n * a existing transition (see https://github.com/d3/d3-transition#transition_call)\n * \n */\n\nimport { LitElement } from 'lit-element';\n\nclass Transition extends LitElement {\n\n  static get properties() {\n\n    return {\n\n      delay: { type: Object },\n      duration: { type: Object },\n      ease: { type: Object }\n\n    };\n  }\n\n  update(props) {\n    super.update(props);\n    this.log && console.info(`d3-transition ${this.type} update`, props)\n    const value = (transition) => {\n      Object.keys(this.constructor.properties).forEach(pr => {\n        if (this[pr] && transition[pr]) {\n          transition[pr](this[pr]);\n        }\n      })\n    }\n    this.dispatchEvent(new CustomEvent(`transition-changed`, { detail: { value: value }, bubbles: true, composed: true }));\n  }\n}\n\nexport default Transition;","export default function(a, b) {\n  return a < b ? -1 : a > b ? 1 : a >= b ? 0 : NaN;\n}\n","import ascending from \"./ascending.js\";\n\nexport default function(compare) {\n  if (compare.length === 1) compare = ascendingComparator(compare);\n  return {\n    left: function(a, x, lo, hi) {\n      if (lo == null) lo = 0;\n      if (hi == null) hi = a.length;\n      while (lo < hi) {\n        var mid = lo + hi >>> 1;\n        if (compare(a[mid], x) < 0) lo = mid + 1;\n        else hi = mid;\n      }\n      return lo;\n    },\n    right: function(a, x, lo, hi) {\n      if (lo == null) lo = 0;\n      if (hi == null) hi = a.length;\n      while (lo < hi) {\n        var mid = lo + hi >>> 1;\n        if (compare(a[mid], x) > 0) hi = mid;\n        else lo = mid + 1;\n      }\n      return lo;\n    }\n  };\n}\n\nfunction ascendingComparator(f) {\n  return function(d, x) {\n    return ascending(f(d), x);\n  };\n}\n","import ascending from \"./ascending.js\";\nimport bisector from \"./bisector.js\";\n\nvar ascendingBisect = bisector(ascending);\nexport var bisectRight = ascendingBisect.right;\nexport var bisectLeft = ascendingBisect.left;\nexport default bisectRight;\n","export default function(values, valueof) {\n  let min;\n  let max;\n  if (valueof === undefined) {\n    for (const value of values) {\n      if (value != null) {\n        if (min === undefined) {\n          if (value >= value) min = max = value;\n        } else {\n          if (min > value) min = value;\n          if (max < value) max = value;\n        }\n      }\n    }\n  } else {\n    let index = -1;\n    for (let value of values) {\n      if ((value = valueof(value, ++index, values)) != null) {\n        if (min === undefined) {\n          if (value >= value) min = max = value;\n        } else {\n          if (min > value) min = value;\n          if (max < value) max = value;\n        }\n      }\n    }\n  }\n  return [min, max];\n}\n","export default function(start, stop, step) {\n  start = +start, stop = +stop, step = (n = arguments.length) < 2 ? (stop = start, start = 0, 1) : n < 3 ? 1 : +step;\n\n  var i = -1,\n      n = Math.max(0, Math.ceil((stop - start) / step)) | 0,\n      range = new Array(n);\n\n  while (++i < n) {\n    range[i] = start + i * step;\n  }\n\n  return range;\n}\n","var e10 = Math.sqrt(50),\n    e5 = Math.sqrt(10),\n    e2 = Math.sqrt(2);\n\nexport default function(start, stop, count) {\n  var reverse,\n      i = -1,\n      n,\n      ticks,\n      step;\n\n  stop = +stop, start = +start, count = +count;\n  if (start === stop && count > 0) return [start];\n  if (reverse = stop < start) n = start, start = stop, stop = n;\n  if ((step = tickIncrement(start, stop, count)) === 0 || !isFinite(step)) return [];\n\n  if (step > 0) {\n    start = Math.ceil(start / step);\n    stop = Math.floor(stop / step);\n    ticks = new Array(n = Math.ceil(stop - start + 1));\n    while (++i < n) ticks[i] = (start + i) * step;\n  } else {\n    start = Math.floor(start * step);\n    stop = Math.ceil(stop * step);\n    ticks = new Array(n = Math.ceil(start - stop + 1));\n    while (++i < n) ticks[i] = (start - i) / step;\n  }\n\n  if (reverse) ticks.reverse();\n\n  return ticks;\n}\n\nexport function tickIncrement(start, stop, count) {\n  var step = (stop - start) / Math.max(0, count),\n      power = Math.floor(Math.log(step) / Math.LN10),\n      error = step / Math.pow(10, power);\n  return power >= 0\n      ? (error >= e10 ? 10 : error >= e5 ? 5 : error >= e2 ? 2 : 1) * Math.pow(10, power)\n      : -Math.pow(10, -power) / (error >= e10 ? 10 : error >= e5 ? 5 : error >= e2 ? 2 : 1);\n}\n\nexport function tickStep(start, stop, count) {\n  var step0 = Math.abs(stop - start) / Math.max(0, count),\n      step1 = Math.pow(10, Math.floor(Math.log(step0) / Math.LN10)),\n      error = step0 / step1;\n  if (error >= e10) step1 *= 10;\n  else if (error >= e5) step1 *= 5;\n  else if (error >= e2) step1 *= 2;\n  return stop < start ? -step1 : step1;\n}\n","export default function max(values, valueof) {\n  let max;\n  if (valueof === undefined) {\n    for (const value of values) {\n      if (value != null\n          && (max < value || (max === undefined && value >= value))) {\n        max = value;\n      }\n    }\n  } else {\n    let index = -1;\n    for (let value of values) {\n      if ((value = valueof(value, ++index, values)) != null\n          && (max < value || (max === undefined && value >= value))) {\n        max = value;\n      }\n    }\n  }\n  return max;\n}\n","export default function min(values, valueof) {\n  let min;\n  if (valueof === undefined) {\n    for (const value of values) {\n      if (value != null\n          && (min > value || (min === undefined && value >= value))) {\n        min = value;\n      }\n    }\n  } else {\n    let index = -1;\n    for (let value of values) {\n      if ((value = valueof(value, ++index, values)) != null\n          && (min > value || (min === undefined && value >= value))) {\n        min = value;\n      }\n    }\n  }\n  return min;\n}\n","import ascending from \"./ascending.js\";\n\n// Based on https://github.com/mourner/quickselect\n// ISC license, Copyright 2018 Vladimir Agafonkin.\nexport default function quickselect(array, k, left = 0, right = array.length - 1, compare = ascending) {\n  while (right > left) {\n    if (right - left > 600) {\n      const n = right - left + 1;\n      const m = k - left + 1;\n      const z = Math.log(n);\n      const s = 0.5 * Math.exp(2 * z / 3);\n      const sd = 0.5 * Math.sqrt(z * s * (n - s) / n) * (m - n / 2 < 0 ? -1 : 1);\n      const newLeft = Math.max(left, Math.floor(k - m * s / n + sd));\n      const newRight = Math.min(right, Math.floor(k + (n - m) * s / n + sd));\n      quickselect(array, k, newLeft, newRight, compare);\n    }\n\n    const t = array[k];\n    let i = left;\n    let j = right;\n\n    swap(array, left, k);\n    if (compare(array[right], t) > 0) swap(array, left, right);\n\n    while (i < j) {\n      swap(array, i, j), ++i, --j;\n      while (compare(array[i], t) < 0) ++i;\n      while (compare(array[j], t) > 0) --j;\n    }\n\n    if (compare(array[left], t) === 0) swap(array, left, j);\n    else ++j, swap(array, j, right);\n\n    if (j <= k) left = j + 1;\n    if (k <= j) right = j - 1;\n  }\n  return array;\n}\n\nfunction swap(array, i, j) {\n  const t = array[i];\n  array[i] = array[j];\n  array[j] = t;\n}\n","import max from \"./max.js\";\nimport min from \"./min.js\";\nimport quickselect from \"./quickselect.js\";\nimport number, {numbers} from \"./number.js\";\n\nexport default function quantile(values, p, valueof) {\n  values = Float64Array.from(numbers(values, valueof));\n  if (!(n = values.length)) return;\n  if ((p = +p) <= 0 || n < 2) return min(values);\n  if (p >= 1) return max(values);\n  var n,\n      i = (n - 1) * p,\n      i0 = Math.floor(i),\n      value0 = max(quickselect(values, i0).subarray(0, i0 + 1)),\n      value1 = min(values.subarray(i0 + 1));\n  return value0 + (value1 - value0) * (i - i0);\n}\n\nexport function quantileSorted(values, p, valueof = number) {\n  if (!(n = values.length)) return;\n  if ((p = +p) <= 0 || n < 2) return +valueof(values[0], 0, values);\n  if (p >= 1) return +valueof(values[n - 1], n - 1, values);\n  var n,\n      i = (n - 1) * p,\n      i0 = Math.floor(i),\n      value0 = +valueof(values[i0], i0, values),\n      value1 = +valueof(values[i0 + 1], i0 + 1, values);\n  return value0 + (value1 - value0) * (i - i0);\n}\n","export default function(x) {\n  return x === null ? NaN : +x;\n}\n\nexport function* numbers(values, valueof) {\n  if (valueof === undefined) {\n    for (let value of values) {\n      if (value != null && (value = +value) >= value) {\n        yield value;\n      }\n    }\n  } else {\n    let index = -1;\n    for (let value of values) {\n      if ((value = valueof(value, ++index, values)) != null && (value = +value) >= value) {\n        yield value;\n      }\n    }\n  }\n}\n","export function initRange(domain, range) {\n  switch (arguments.length) {\n    case 0: break;\n    case 1: this.range(domain); break;\n    default: this.range(range).domain(domain); break;\n  }\n  return this;\n}\n\nexport function initInterpolator(domain, interpolator) {\n  switch (arguments.length) {\n    case 0: break;\n    case 1: {\n      if (typeof domain === \"function\") this.interpolator(domain);\n      else this.range(domain);\n      break;\n    }\n    default: {\n      this.domain(domain);\n      if (typeof interpolator === \"function\") this.interpolator(interpolator);\n      else this.range(interpolator);\n      break;\n    }\n  }\n  return this;\n}\n","import {initRange} from \"./init.js\";\n\nexport const implicit = Symbol(\"implicit\");\n\nexport default function ordinal() {\n  var index = new Map(),\n      domain = [],\n      range = [],\n      unknown = implicit;\n\n  function scale(d) {\n    var key = d + \"\", i = index.get(key);\n    if (!i) {\n      if (unknown !== implicit) return unknown;\n      index.set(key, i = domain.push(d));\n    }\n    return range[(i - 1) % range.length];\n  }\n\n  scale.domain = function(_) {\n    if (!arguments.length) return domain.slice();\n    domain = [], index = new Map();\n    for (const value of _) {\n      const key = value + \"\";\n      if (index.has(key)) continue;\n      index.set(key, domain.push(value));\n    }\n    return scale;\n  };\n\n  scale.range = function(_) {\n    return arguments.length ? (range = Array.from(_), scale) : range.slice();\n  };\n\n  scale.unknown = function(_) {\n    return arguments.length ? (unknown = _, scale) : unknown;\n  };\n\n  scale.copy = function() {\n    return ordinal(domain, range).unknown(unknown);\n  };\n\n  initRange.apply(scale, arguments);\n\n  return scale;\n}\n","import {range as sequence} from \"d3-array\";\nimport {initRange} from \"./init.js\";\nimport ordinal from \"./ordinal.js\";\n\nexport default function band() {\n  var scale = ordinal().unknown(undefined),\n      domain = scale.domain,\n      ordinalRange = scale.range,\n      r0 = 0,\n      r1 = 1,\n      step,\n      bandwidth,\n      round = false,\n      paddingInner = 0,\n      paddingOuter = 0,\n      align = 0.5;\n\n  delete scale.unknown;\n\n  function rescale() {\n    var n = domain().length,\n        reverse = r1 < r0,\n        start = reverse ? r1 : r0,\n        stop = reverse ? r0 : r1;\n    step = (stop - start) / Math.max(1, n - paddingInner + paddingOuter * 2);\n    if (round) step = Math.floor(step);\n    start += (stop - start - step * (n - paddingInner)) * align;\n    bandwidth = step * (1 - paddingInner);\n    if (round) start = Math.round(start), bandwidth = Math.round(bandwidth);\n    var values = sequence(n).map(function(i) { return start + step * i; });\n    return ordinalRange(reverse ? values.reverse() : values);\n  }\n\n  scale.domain = function(_) {\n    return arguments.length ? (domain(_), rescale()) : domain();\n  };\n\n  scale.range = function(_) {\n    return arguments.length ? ([r0, r1] = _, r0 = +r0, r1 = +r1, rescale()) : [r0, r1];\n  };\n\n  scale.rangeRound = function(_) {\n    return [r0, r1] = _, r0 = +r0, r1 = +r1, round = true, rescale();\n  };\n\n  scale.bandwidth = function() {\n    return bandwidth;\n  };\n\n  scale.step = function() {\n    return step;\n  };\n\n  scale.round = function(_) {\n    return arguments.length ? (round = !!_, rescale()) : round;\n  };\n\n  scale.padding = function(_) {\n    return arguments.length ? (paddingInner = Math.min(1, paddingOuter = +_), rescale()) : paddingInner;\n  };\n\n  scale.paddingInner = function(_) {\n    return arguments.length ? (paddingInner = Math.min(1, _), rescale()) : paddingInner;\n  };\n\n  scale.paddingOuter = function(_) {\n    return arguments.length ? (paddingOuter = +_, rescale()) : paddingOuter;\n  };\n\n  scale.align = function(_) {\n    return arguments.length ? (align = Math.max(0, Math.min(1, _)), rescale()) : align;\n  };\n\n  scale.copy = function() {\n    return band(domain(), [r0, r1])\n        .round(round)\n        .paddingInner(paddingInner)\n        .paddingOuter(paddingOuter)\n        .align(align);\n  };\n\n  return initRange.apply(rescale(), arguments);\n}\n\nfunction pointish(scale) {\n  var copy = scale.copy;\n\n  scale.padding = scale.paddingOuter;\n  delete scale.paddingInner;\n  delete scale.paddingOuter;\n\n  scale.copy = function() {\n    return pointish(copy());\n  };\n\n  return scale;\n}\n\nexport function point() {\n  return pointish(band.apply(null, arguments).paddingInner(1));\n}\n","export default function(constructor, factory, prototype) {\n  constructor.prototype = factory.prototype = prototype;\n  prototype.constructor = constructor;\n}\n\nexport function extend(parent, definition) {\n  var prototype = Object.create(parent.prototype);\n  for (var key in definition) prototype[key] = definition[key];\n  return prototype;\n}\n","import define, {extend} from \"./define.js\";\n\nexport function Color() {}\n\nexport var darker = 0.7;\nexport var brighter = 1 / darker;\n\nvar reI = \"\\\\s*([+-]?\\\\d+)\\\\s*\",\n    reN = \"\\\\s*([+-]?\\\\d*\\\\.?\\\\d+(?:[eE][+-]?\\\\d+)?)\\\\s*\",\n    reP = \"\\\\s*([+-]?\\\\d*\\\\.?\\\\d+(?:[eE][+-]?\\\\d+)?)%\\\\s*\",\n    reHex = /^#([0-9a-f]{3,8})$/,\n    reRgbInteger = new RegExp(\"^rgb\\\\(\" + [reI, reI, reI] + \"\\\\)$\"),\n    reRgbPercent = new RegExp(\"^rgb\\\\(\" + [reP, reP, reP] + \"\\\\)$\"),\n    reRgbaInteger = new RegExp(\"^rgba\\\\(\" + [reI, reI, reI, reN] + \"\\\\)$\"),\n    reRgbaPercent = new RegExp(\"^rgba\\\\(\" + [reP, reP, reP, reN] + \"\\\\)$\"),\n    reHslPercent = new RegExp(\"^hsl\\\\(\" + [reN, reP, reP] + \"\\\\)$\"),\n    reHslaPercent = new RegExp(\"^hsla\\\\(\" + [reN, reP, reP, reN] + \"\\\\)$\");\n\nvar named = {\n  aliceblue: 0xf0f8ff,\n  antiquewhite: 0xfaebd7,\n  aqua: 0x00ffff,\n  aquamarine: 0x7fffd4,\n  azure: 0xf0ffff,\n  beige: 0xf5f5dc,\n  bisque: 0xffe4c4,\n  black: 0x000000,\n  blanchedalmond: 0xffebcd,\n  blue: 0x0000ff,\n  blueviolet: 0x8a2be2,\n  brown: 0xa52a2a,\n  burlywood: 0xdeb887,\n  cadetblue: 0x5f9ea0,\n  chartreuse: 0x7fff00,\n  chocolate: 0xd2691e,\n  coral: 0xff7f50,\n  cornflowerblue: 0x6495ed,\n  cornsilk: 0xfff8dc,\n  crimson: 0xdc143c,\n  cyan: 0x00ffff,\n  darkblue: 0x00008b,\n  darkcyan: 0x008b8b,\n  darkgoldenrod: 0xb8860b,\n  darkgray: 0xa9a9a9,\n  darkgreen: 0x006400,\n  darkgrey: 0xa9a9a9,\n  darkkhaki: 0xbdb76b,\n  darkmagenta: 0x8b008b,\n  darkolivegreen: 0x556b2f,\n  darkorange: 0xff8c00,\n  darkorchid: 0x9932cc,\n  darkred: 0x8b0000,\n  darksalmon: 0xe9967a,\n  darkseagreen: 0x8fbc8f,\n  darkslateblue: 0x483d8b,\n  darkslategray: 0x2f4f4f,\n  darkslategrey: 0x2f4f4f,\n  darkturquoise: 0x00ced1,\n  darkviolet: 0x9400d3,\n  deeppink: 0xff1493,\n  deepskyblue: 0x00bfff,\n  dimgray: 0x696969,\n  dimgrey: 0x696969,\n  dodgerblue: 0x1e90ff,\n  firebrick: 0xb22222,\n  floralwhite: 0xfffaf0,\n  forestgreen: 0x228b22,\n  fuchsia: 0xff00ff,\n  gainsboro: 0xdcdcdc,\n  ghostwhite: 0xf8f8ff,\n  gold: 0xffd700,\n  goldenrod: 0xdaa520,\n  gray: 0x808080,\n  green: 0x008000,\n  greenyellow: 0xadff2f,\n  grey: 0x808080,\n  honeydew: 0xf0fff0,\n  hotpink: 0xff69b4,\n  indianred: 0xcd5c5c,\n  indigo: 0x4b0082,\n  ivory: 0xfffff0,\n  khaki: 0xf0e68c,\n  lavender: 0xe6e6fa,\n  lavenderblush: 0xfff0f5,\n  lawngreen: 0x7cfc00,\n  lemonchiffon: 0xfffacd,\n  lightblue: 0xadd8e6,\n  lightcoral: 0xf08080,\n  lightcyan: 0xe0ffff,\n  lightgoldenrodyellow: 0xfafad2,\n  lightgray: 0xd3d3d3,\n  lightgreen: 0x90ee90,\n  lightgrey: 0xd3d3d3,\n  lightpink: 0xffb6c1,\n  lightsalmon: 0xffa07a,\n  lightseagreen: 0x20b2aa,\n  lightskyblue: 0x87cefa,\n  lightslategray: 0x778899,\n  lightslategrey: 0x778899,\n  lightsteelblue: 0xb0c4de,\n  lightyellow: 0xffffe0,\n  lime: 0x00ff00,\n  limegreen: 0x32cd32,\n  linen: 0xfaf0e6,\n  magenta: 0xff00ff,\n  maroon: 0x800000,\n  mediumaquamarine: 0x66cdaa,\n  mediumblue: 0x0000cd,\n  mediumorchid: 0xba55d3,\n  mediumpurple: 0x9370db,\n  mediumseagreen: 0x3cb371,\n  mediumslateblue: 0x7b68ee,\n  mediumspringgreen: 0x00fa9a,\n  mediumturquoise: 0x48d1cc,\n  mediumvioletred: 0xc71585,\n  midnightblue: 0x191970,\n  mintcream: 0xf5fffa,\n  mistyrose: 0xffe4e1,\n  moccasin: 0xffe4b5,\n  navajowhite: 0xffdead,\n  navy: 0x000080,\n  oldlace: 0xfdf5e6,\n  olive: 0x808000,\n  olivedrab: 0x6b8e23,\n  orange: 0xffa500,\n  orangered: 0xff4500,\n  orchid: 0xda70d6,\n  palegoldenrod: 0xeee8aa,\n  palegreen: 0x98fb98,\n  paleturquoise: 0xafeeee,\n  palevioletred: 0xdb7093,\n  papayawhip: 0xffefd5,\n  peachpuff: 0xffdab9,\n  peru: 0xcd853f,\n  pink: 0xffc0cb,\n  plum: 0xdda0dd,\n  powderblue: 0xb0e0e6,\n  purple: 0x800080,\n  rebeccapurple: 0x663399,\n  red: 0xff0000,\n  rosybrown: 0xbc8f8f,\n  royalblue: 0x4169e1,\n  saddlebrown: 0x8b4513,\n  salmon: 0xfa8072,\n  sandybrown: 0xf4a460,\n  seagreen: 0x2e8b57,\n  seashell: 0xfff5ee,\n  sienna: 0xa0522d,\n  silver: 0xc0c0c0,\n  skyblue: 0x87ceeb,\n  slateblue: 0x6a5acd,\n  slategray: 0x708090,\n  slategrey: 0x708090,\n  snow: 0xfffafa,\n  springgreen: 0x00ff7f,\n  steelblue: 0x4682b4,\n  tan: 0xd2b48c,\n  teal: 0x008080,\n  thistle: 0xd8bfd8,\n  tomato: 0xff6347,\n  turquoise: 0x40e0d0,\n  violet: 0xee82ee,\n  wheat: 0xf5deb3,\n  white: 0xffffff,\n  whitesmoke: 0xf5f5f5,\n  yellow: 0xffff00,\n  yellowgreen: 0x9acd32\n};\n\ndefine(Color, color, {\n  copy: function(channels) {\n    return Object.assign(new this.constructor, this, channels);\n  },\n  displayable: function() {\n    return this.rgb().displayable();\n  },\n  hex: color_formatHex, // Deprecated! Use color.formatHex.\n  formatHex: color_formatHex,\n  formatHsl: color_formatHsl,\n  formatRgb: color_formatRgb,\n  toString: color_formatRgb\n});\n\nfunction color_formatHex() {\n  return this.rgb().formatHex();\n}\n\nfunction color_formatHsl() {\n  return hslConvert(this).formatHsl();\n}\n\nfunction color_formatRgb() {\n  return this.rgb().formatRgb();\n}\n\nexport default function color(format) {\n  var m, l;\n  format = (format + \"\").trim().toLowerCase();\n  return (m = reHex.exec(format)) ? (l = m[1].length, m = parseInt(m[1], 16), l === 6 ? rgbn(m) // #ff0000\n      : l === 3 ? new Rgb((m >> 8 & 0xf) | (m >> 4 & 0xf0), (m >> 4 & 0xf) | (m & 0xf0), ((m & 0xf) << 4) | (m & 0xf), 1) // #f00\n      : l === 8 ? new Rgb(m >> 24 & 0xff, m >> 16 & 0xff, m >> 8 & 0xff, (m & 0xff) / 0xff) // #ff000000\n      : l === 4 ? new Rgb((m >> 12 & 0xf) | (m >> 8 & 0xf0), (m >> 8 & 0xf) | (m >> 4 & 0xf0), (m >> 4 & 0xf) | (m & 0xf0), (((m & 0xf) << 4) | (m & 0xf)) / 0xff) // #f000\n      : null) // invalid hex\n      : (m = reRgbInteger.exec(format)) ? new Rgb(m[1], m[2], m[3], 1) // rgb(255, 0, 0)\n      : (m = reRgbPercent.exec(format)) ? new Rgb(m[1] * 255 / 100, m[2] * 255 / 100, m[3] * 255 / 100, 1) // rgb(100%, 0%, 0%)\n      : (m = reRgbaInteger.exec(format)) ? rgba(m[1], m[2], m[3], m[4]) // rgba(255, 0, 0, 1)\n      : (m = reRgbaPercent.exec(format)) ? rgba(m[1] * 255 / 100, m[2] * 255 / 100, m[3] * 255 / 100, m[4]) // rgb(100%, 0%, 0%, 1)\n      : (m = reHslPercent.exec(format)) ? hsla(m[1], m[2] / 100, m[3] / 100, 1) // hsl(120, 50%, 50%)\n      : (m = reHslaPercent.exec(format)) ? hsla(m[1], m[2] / 100, m[3] / 100, m[4]) // hsla(120, 50%, 50%, 1)\n      : named.hasOwnProperty(format) ? rgbn(named[format]) // eslint-disable-line no-prototype-builtins\n      : format === \"transparent\" ? new Rgb(NaN, NaN, NaN, 0)\n      : null;\n}\n\nfunction rgbn(n) {\n  return new Rgb(n >> 16 & 0xff, n >> 8 & 0xff, n & 0xff, 1);\n}\n\nfunction rgba(r, g, b, a) {\n  if (a <= 0) r = g = b = NaN;\n  return new Rgb(r, g, b, a);\n}\n\nexport function rgbConvert(o) {\n  if (!(o instanceof Color)) o = color(o);\n  if (!o) return new Rgb;\n  o = o.rgb();\n  return new Rgb(o.r, o.g, o.b, o.opacity);\n}\n\nexport function rgb(r, g, b, opacity) {\n  return arguments.length === 1 ? rgbConvert(r) : new Rgb(r, g, b, opacity == null ? 1 : opacity);\n}\n\nexport function Rgb(r, g, b, opacity) {\n  this.r = +r;\n  this.g = +g;\n  this.b = +b;\n  this.opacity = +opacity;\n}\n\ndefine(Rgb, rgb, extend(Color, {\n  brighter: function(k) {\n    k = k == null ? brighter : Math.pow(brighter, k);\n    return new Rgb(this.r * k, this.g * k, this.b * k, this.opacity);\n  },\n  darker: function(k) {\n    k = k == null ? darker : Math.pow(darker, k);\n    return new Rgb(this.r * k, this.g * k, this.b * k, this.opacity);\n  },\n  rgb: function() {\n    return this;\n  },\n  displayable: function() {\n    return (-0.5 <= this.r && this.r < 255.5)\n        && (-0.5 <= this.g && this.g < 255.5)\n        && (-0.5 <= this.b && this.b < 255.5)\n        && (0 <= this.opacity && this.opacity <= 1);\n  },\n  hex: rgb_formatHex, // Deprecated! Use color.formatHex.\n  formatHex: rgb_formatHex,\n  formatRgb: rgb_formatRgb,\n  toString: rgb_formatRgb\n}));\n\nfunction rgb_formatHex() {\n  return \"#\" + hex(this.r) + hex(this.g) + hex(this.b);\n}\n\nfunction rgb_formatRgb() {\n  var a = this.opacity; a = isNaN(a) ? 1 : Math.max(0, Math.min(1, a));\n  return (a === 1 ? \"rgb(\" : \"rgba(\")\n      + Math.max(0, Math.min(255, Math.round(this.r) || 0)) + \", \"\n      + Math.max(0, Math.min(255, Math.round(this.g) || 0)) + \", \"\n      + Math.max(0, Math.min(255, Math.round(this.b) || 0))\n      + (a === 1 ? \")\" : \", \" + a + \")\");\n}\n\nfunction hex(value) {\n  value = Math.max(0, Math.min(255, Math.round(value) || 0));\n  return (value < 16 ? \"0\" : \"\") + value.toString(16);\n}\n\nfunction hsla(h, s, l, a) {\n  if (a <= 0) h = s = l = NaN;\n  else if (l <= 0 || l >= 1) h = s = NaN;\n  else if (s <= 0) h = NaN;\n  return new Hsl(h, s, l, a);\n}\n\nexport function hslConvert(o) {\n  if (o instanceof Hsl) return new Hsl(o.h, o.s, o.l, o.opacity);\n  if (!(o instanceof Color)) o = color(o);\n  if (!o) return new Hsl;\n  if (o instanceof Hsl) return o;\n  o = o.rgb();\n  var r = o.r / 255,\n      g = o.g / 255,\n      b = o.b / 255,\n      min = Math.min(r, g, b),\n      max = Math.max(r, g, b),\n      h = NaN,\n      s = max - min,\n      l = (max + min) / 2;\n  if (s) {\n    if (r === max) h = (g - b) / s + (g < b) * 6;\n    else if (g === max) h = (b - r) / s + 2;\n    else h = (r - g) / s + 4;\n    s /= l < 0.5 ? max + min : 2 - max - min;\n    h *= 60;\n  } else {\n    s = l > 0 && l < 1 ? 0 : h;\n  }\n  return new Hsl(h, s, l, o.opacity);\n}\n\nexport function hsl(h, s, l, opacity) {\n  return arguments.length === 1 ? hslConvert(h) : new Hsl(h, s, l, opacity == null ? 1 : opacity);\n}\n\nfunction Hsl(h, s, l, opacity) {\n  this.h = +h;\n  this.s = +s;\n  this.l = +l;\n  this.opacity = +opacity;\n}\n\ndefine(Hsl, hsl, extend(Color, {\n  brighter: function(k) {\n    k = k == null ? brighter : Math.pow(brighter, k);\n    return new Hsl(this.h, this.s, this.l * k, this.opacity);\n  },\n  darker: function(k) {\n    k = k == null ? darker : Math.pow(darker, k);\n    return new Hsl(this.h, this.s, this.l * k, this.opacity);\n  },\n  rgb: function() {\n    var h = this.h % 360 + (this.h < 0) * 360,\n        s = isNaN(h) || isNaN(this.s) ? 0 : this.s,\n        l = this.l,\n        m2 = l + (l < 0.5 ? l : 1 - l) * s,\n        m1 = 2 * l - m2;\n    return new Rgb(\n      hsl2rgb(h >= 240 ? h - 240 : h + 120, m1, m2),\n      hsl2rgb(h, m1, m2),\n      hsl2rgb(h < 120 ? h + 240 : h - 120, m1, m2),\n      this.opacity\n    );\n  },\n  displayable: function() {\n    return (0 <= this.s && this.s <= 1 || isNaN(this.s))\n        && (0 <= this.l && this.l <= 1)\n        && (0 <= this.opacity && this.opacity <= 1);\n  },\n  formatHsl: function() {\n    var a = this.opacity; a = isNaN(a) ? 1 : Math.max(0, Math.min(1, a));\n    return (a === 1 ? \"hsl(\" : \"hsla(\")\n        + (this.h || 0) + \", \"\n        + (this.s || 0) * 100 + \"%, \"\n        + (this.l || 0) * 100 + \"%\"\n        + (a === 1 ? \")\" : \", \" + a + \")\");\n  }\n}));\n\n/* From FvD 13.37, CSS Color Module Level 3 */\nfunction hsl2rgb(h, m1, m2) {\n  return (h < 60 ? m1 + (m2 - m1) * h / 60\n      : h < 180 ? m2\n      : h < 240 ? m1 + (m2 - m1) * (240 - h) / 60\n      : m1) * 255;\n}\n","export var deg2rad = Math.PI / 180;\nexport var rad2deg = 180 / Math.PI;\n","import define, {extend} from \"./define.js\";\nimport {Color, rgbConvert, Rgb, darker, brighter} from \"./color.js\";\nimport {deg2rad, rad2deg} from \"./math.js\";\n\nvar A = -0.14861,\n    B = +1.78277,\n    C = -0.29227,\n    D = -0.90649,\n    E = +1.97294,\n    ED = E * D,\n    EB = E * B,\n    BC_DA = B * C - D * A;\n\nfunction cubehelixConvert(o) {\n  if (o instanceof Cubehelix) return new Cubehelix(o.h, o.s, o.l, o.opacity);\n  if (!(o instanceof Rgb)) o = rgbConvert(o);\n  var r = o.r / 255,\n      g = o.g / 255,\n      b = o.b / 255,\n      l = (BC_DA * b + ED * r - EB * g) / (BC_DA + ED - EB),\n      bl = b - l,\n      k = (E * (g - l) - C * bl) / D,\n      s = Math.sqrt(k * k + bl * bl) / (E * l * (1 - l)), // NaN if l=0 or l=1\n      h = s ? Math.atan2(k, bl) * rad2deg - 120 : NaN;\n  return new Cubehelix(h < 0 ? h + 360 : h, s, l, o.opacity);\n}\n\nexport default function cubehelix(h, s, l, opacity) {\n  return arguments.length === 1 ? cubehelixConvert(h) : new Cubehelix(h, s, l, opacity == null ? 1 : opacity);\n}\n\nexport function Cubehelix(h, s, l, opacity) {\n  this.h = +h;\n  this.s = +s;\n  this.l = +l;\n  this.opacity = +opacity;\n}\n\ndefine(Cubehelix, cubehelix, extend(Color, {\n  brighter: function(k) {\n    k = k == null ? brighter : Math.pow(brighter, k);\n    return new Cubehelix(this.h, this.s, this.l * k, this.opacity);\n  },\n  darker: function(k) {\n    k = k == null ? darker : Math.pow(darker, k);\n    return new Cubehelix(this.h, this.s, this.l * k, this.opacity);\n  },\n  rgb: function() {\n    var h = isNaN(this.h) ? 0 : (this.h + 120) * deg2rad,\n        l = +this.l,\n        a = isNaN(this.s) ? 0 : this.s * l * (1 - l),\n        cosh = Math.cos(h),\n        sinh = Math.sin(h);\n    return new Rgb(\n      255 * (l + a * (A * cosh + B * sinh)),\n      255 * (l + a * (C * cosh + D * sinh)),\n      255 * (l + a * (E * cosh)),\n      this.opacity\n    );\n  }\n}));\n","export default function(x) {\n  return function() {\n    return x;\n  };\n}\n","import constant from \"./constant.js\";\n\nfunction linear(a, d) {\n  return function(t) {\n    return a + t * d;\n  };\n}\n\nfunction exponential(a, b, y) {\n  return a = Math.pow(a, y), b = Math.pow(b, y) - a, y = 1 / y, function(t) {\n    return Math.pow(a + t * b, y);\n  };\n}\n\nexport function hue(a, b) {\n  var d = b - a;\n  return d ? linear(a, d > 180 || d < -180 ? d - 360 * Math.round(d / 360) : d) : constant(isNaN(a) ? b : a);\n}\n\nexport function gamma(y) {\n  return (y = +y) === 1 ? nogamma : function(a, b) {\n    return b - a ? exponential(a, b, y) : constant(isNaN(a) ? b : a);\n  };\n}\n\nexport default function nogamma(a, b) {\n  var d = b - a;\n  return d ? linear(a, d) : constant(isNaN(a) ? b : a);\n}\n","import {rgb as colorRgb} from \"d3-color\";\nimport basis from \"./basis.js\";\nimport basisClosed from \"./basisClosed.js\";\nimport nogamma, {gamma} from \"./color.js\";\n\nexport default (function rgbGamma(y) {\n  var color = gamma(y);\n\n  function rgb(start, end) {\n    var r = color((start = colorRgb(start)).r, (end = colorRgb(end)).r),\n        g = color(start.g, end.g),\n        b = color(start.b, end.b),\n        opacity = nogamma(start.opacity, end.opacity);\n    return function(t) {\n      start.r = r(t);\n      start.g = g(t);\n      start.b = b(t);\n      start.opacity = opacity(t);\n      return start + \"\";\n    };\n  }\n\n  rgb.gamma = rgbGamma;\n\n  return rgb;\n})(1);\n\nfunction rgbSpline(spline) {\n  return function(colors) {\n    var n = colors.length,\n        r = new Array(n),\n        g = new Array(n),\n        b = new Array(n),\n        i, color;\n    for (i = 0; i < n; ++i) {\n      color = colorRgb(colors[i]);\n      r[i] = color.r || 0;\n      g[i] = color.g || 0;\n      b[i] = color.b || 0;\n    }\n    r = spline(r);\n    g = spline(g);\n    b = spline(b);\n    color.opacity = 1;\n    return function(t) {\n      color.r = r(t);\n      color.g = g(t);\n      color.b = b(t);\n      return color + \"\";\n    };\n  };\n}\n\nexport var rgbBasis = rgbSpline(basis);\nexport var rgbBasisClosed = rgbSpline(basisClosed);\n","export default function(a, b) {\n  if (!b) b = [];\n  var n = a ? Math.min(b.length, a.length) : 0,\n      c = b.slice(),\n      i;\n  return function(t) {\n    for (i = 0; i < n; ++i) c[i] = a[i] * (1 - t) + b[i] * t;\n    return c;\n  };\n}\n\nexport function isNumberArray(x) {\n  return ArrayBuffer.isView(x) && !(x instanceof DataView);\n}\n","import value from \"./value.js\";\nimport numberArray, {isNumberArray} from \"./numberArray.js\";\n\nexport default function(a, b) {\n  return (isNumberArray(b) ? numberArray : genericArray)(a, b);\n}\n\nexport function genericArray(a, b) {\n  var nb = b ? b.length : 0,\n      na = a ? Math.min(nb, a.length) : 0,\n      x = new Array(na),\n      c = new Array(nb),\n      i;\n\n  for (i = 0; i < na; ++i) x[i] = value(a[i], b[i]);\n  for (; i < nb; ++i) c[i] = b[i];\n\n  return function(t) {\n    for (i = 0; i < na; ++i) c[i] = x[i](t);\n    return c;\n  };\n}\n","export default function(a, b) {\n  var d = new Date;\n  return a = +a, b = +b, function(t) {\n    return d.setTime(a * (1 - t) + b * t), d;\n  };\n}\n","export default function(a, b) {\n  return a = +a, b = +b, function(t) {\n    return a * (1 - t) + b * t;\n  };\n}\n","import value from \"./value.js\";\n\nexport default function(a, b) {\n  var i = {},\n      c = {},\n      k;\n\n  if (a === null || typeof a !== \"object\") a = {};\n  if (b === null || typeof b !== \"object\") b = {};\n\n  for (k in b) {\n    if (k in a) {\n      i[k] = value(a[k], b[k]);\n    } else {\n      c[k] = b[k];\n    }\n  }\n\n  return function(t) {\n    for (k in i) c[k] = i[k](t);\n    return c;\n  };\n}\n","import number from \"./number.js\";\n\nvar reA = /[-+]?(?:\\d+\\.?\\d*|\\.?\\d+)(?:[eE][-+]?\\d+)?/g,\n    reB = new RegExp(reA.source, \"g\");\n\nfunction zero(b) {\n  return function() {\n    return b;\n  };\n}\n\nfunction one(b) {\n  return function(t) {\n    return b(t) + \"\";\n  };\n}\n\nexport default function(a, b) {\n  var bi = reA.lastIndex = reB.lastIndex = 0, // scan index for next number in b\n      am, // current match in a\n      bm, // current match in b\n      bs, // string preceding current number in b, if any\n      i = -1, // index in s\n      s = [], // string constants and placeholders\n      q = []; // number interpolators\n\n  // Coerce inputs to strings.\n  a = a + \"\", b = b + \"\";\n\n  // Interpolate pairs of numbers in a & b.\n  while ((am = reA.exec(a))\n      && (bm = reB.exec(b))) {\n    if ((bs = bm.index) > bi) { // a string precedes the next number in b\n      bs = b.slice(bi, bs);\n      if (s[i]) s[i] += bs; // coalesce with previous string\n      else s[++i] = bs;\n    }\n    if ((am = am[0]) === (bm = bm[0])) { // numbers in a & b match\n      if (s[i]) s[i] += bm; // coalesce with previous string\n      else s[++i] = bm;\n    } else { // interpolate non-matching numbers\n      s[++i] = null;\n      q.push({i: i, x: number(am, bm)});\n    }\n    bi = reB.lastIndex;\n  }\n\n  // Add remains of b.\n  if (bi < b.length) {\n    bs = b.slice(bi);\n    if (s[i]) s[i] += bs; // coalesce with previous string\n    else s[++i] = bs;\n  }\n\n  // Special optimization for only a single match.\n  // Otherwise, interpolate each of the numbers and rejoin the string.\n  return s.length < 2 ? (q[0]\n      ? one(q[0].x)\n      : zero(b))\n      : (b = q.length, function(t) {\n          for (var i = 0, o; i < b; ++i) s[(o = q[i]).i] = o.x(t);\n          return s.join(\"\");\n        });\n}\n","import {color} from \"d3-color\";\nimport rgb from \"./rgb.js\";\nimport {genericArray} from \"./array.js\";\nimport date from \"./date.js\";\nimport number from \"./number.js\";\nimport object from \"./object.js\";\nimport string from \"./string.js\";\nimport constant from \"./constant.js\";\nimport numberArray, {isNumberArray} from \"./numberArray.js\";\n\nexport default function(a, b) {\n  var t = typeof b, c;\n  return b == null || t === \"boolean\" ? constant(b)\n      : (t === \"number\" ? number\n      : t === \"string\" ? ((c = color(b)) ? (b = c, rgb) : string)\n      : b instanceof color ? rgb\n      : b instanceof Date ? date\n      : isNumberArray(b) ? numberArray\n      : Array.isArray(b) ? genericArray\n      : typeof b.valueOf !== \"function\" && typeof b.toString !== \"function\" || isNaN(b) ? object\n      : number)(a, b);\n}\n","export default function(a, b) {\n  return a = +a, b = +b, function(t) {\n    return Math.round(a * (1 - t) + b * t);\n  };\n}\n","var degrees = 180 / Math.PI;\n\nexport var identity = {\n  translateX: 0,\n  translateY: 0,\n  rotate: 0,\n  skewX: 0,\n  scaleX: 1,\n  scaleY: 1\n};\n\nexport default function(a, b, c, d, e, f) {\n  var scaleX, scaleY, skewX;\n  if (scaleX = Math.sqrt(a * a + b * b)) a /= scaleX, b /= scaleX;\n  if (skewX = a * c + b * d) c -= a * skewX, d -= b * skewX;\n  if (scaleY = Math.sqrt(c * c + d * d)) c /= scaleY, d /= scaleY, skewX /= scaleY;\n  if (a * d < b * c) a = -a, b = -b, skewX = -skewX, scaleX = -scaleX;\n  return {\n    translateX: e,\n    translateY: f,\n    rotate: Math.atan2(b, a) * degrees,\n    skewX: Math.atan(skewX) * degrees,\n    scaleX: scaleX,\n    scaleY: scaleY\n  };\n}\n","import decompose, {identity} from \"./decompose.js\";\n\nvar cssNode,\n    cssRoot,\n    cssView,\n    svgNode;\n\nexport function parseCss(value) {\n  if (value === \"none\") return identity;\n  if (!cssNode) cssNode = document.createElement(\"DIV\"), cssRoot = document.documentElement, cssView = document.defaultView;\n  cssNode.style.transform = value;\n  value = cssView.getComputedStyle(cssRoot.appendChild(cssNode), null).getPropertyValue(\"transform\");\n  cssRoot.removeChild(cssNode);\n  value = value.slice(7, -1).split(\",\");\n  return decompose(+value[0], +value[1], +value[2], +value[3], +value[4], +value[5]);\n}\n\nexport function parseSvg(value) {\n  if (value == null) return identity;\n  if (!svgNode) svgNode = document.createElementNS(\"http://www.w3.org/2000/svg\", \"g\");\n  svgNode.setAttribute(\"transform\", value);\n  if (!(value = svgNode.transform.baseVal.consolidate())) return identity;\n  value = value.matrix;\n  return decompose(value.a, value.b, value.c, value.d, value.e, value.f);\n}\n","import number from \"../number.js\";\nimport {parseCss, parseSvg} from \"./parse.js\";\n\nfunction interpolateTransform(parse, pxComma, pxParen, degParen) {\n\n  function pop(s) {\n    return s.length ? s.pop() + \" \" : \"\";\n  }\n\n  function translate(xa, ya, xb, yb, s, q) {\n    if (xa !== xb || ya !== yb) {\n      var i = s.push(\"translate(\", null, pxComma, null, pxParen);\n      q.push({i: i - 4, x: number(xa, xb)}, {i: i - 2, x: number(ya, yb)});\n    } else if (xb || yb) {\n      s.push(\"translate(\" + xb + pxComma + yb + pxParen);\n    }\n  }\n\n  function rotate(a, b, s, q) {\n    if (a !== b) {\n      if (a - b > 180) b += 360; else if (b - a > 180) a += 360; // shortest path\n      q.push({i: s.push(pop(s) + \"rotate(\", null, degParen) - 2, x: number(a, b)});\n    } else if (b) {\n      s.push(pop(s) + \"rotate(\" + b + degParen);\n    }\n  }\n\n  function skewX(a, b, s, q) {\n    if (a !== b) {\n      q.push({i: s.push(pop(s) + \"skewX(\", null, degParen) - 2, x: number(a, b)});\n    } else if (b) {\n      s.push(pop(s) + \"skewX(\" + b + degParen);\n    }\n  }\n\n  function scale(xa, ya, xb, yb, s, q) {\n    if (xa !== xb || ya !== yb) {\n      var i = s.push(pop(s) + \"scale(\", null, \",\", null, \")\");\n      q.push({i: i - 4, x: number(xa, xb)}, {i: i - 2, x: number(ya, yb)});\n    } else if (xb !== 1 || yb !== 1) {\n      s.push(pop(s) + \"scale(\" + xb + \",\" + yb + \")\");\n    }\n  }\n\n  return function(a, b) {\n    var s = [], // string constants and placeholders\n        q = []; // number interpolators\n    a = parse(a), b = parse(b);\n    translate(a.translateX, a.translateY, b.translateX, b.translateY, s, q);\n    rotate(a.rotate, b.rotate, s, q);\n    skewX(a.skewX, b.skewX, s, q);\n    scale(a.scaleX, a.scaleY, b.scaleX, b.scaleY, s, q);\n    a = b = null; // gc\n    return function(t) {\n      var i = -1, n = q.length, o;\n      while (++i < n) s[(o = q[i]).i] = o.x(t);\n      return s.join(\"\");\n    };\n  };\n}\n\nexport var interpolateTransformCss = interpolateTransform(parseCss, \"px, \", \"px)\", \"deg)\");\nexport var interpolateTransformSvg = interpolateTransform(parseSvg, \", \", \")\", \")\");\n","var rho = Math.SQRT2,\n    rho2 = 2,\n    rho4 = 4,\n    epsilon2 = 1e-12;\n\nfunction cosh(x) {\n  return ((x = Math.exp(x)) + 1 / x) / 2;\n}\n\nfunction sinh(x) {\n  return ((x = Math.exp(x)) - 1 / x) / 2;\n}\n\nfunction tanh(x) {\n  return ((x = Math.exp(2 * x)) - 1) / (x + 1);\n}\n\n// p0 = [ux0, uy0, w0]\n// p1 = [ux1, uy1, w1]\nexport default function(p0, p1) {\n  var ux0 = p0[0], uy0 = p0[1], w0 = p0[2],\n      ux1 = p1[0], uy1 = p1[1], w1 = p1[2],\n      dx = ux1 - ux0,\n      dy = uy1 - uy0,\n      d2 = dx * dx + dy * dy,\n      i,\n      S;\n\n  // Special case for u0  u1.\n  if (d2 < epsilon2) {\n    S = Math.log(w1 / w0) / rho;\n    i = function(t) {\n      return [\n        ux0 + t * dx,\n        uy0 + t * dy,\n        w0 * Math.exp(rho * t * S)\n      ];\n    }\n  }\n\n  // General case.\n  else {\n    var d1 = Math.sqrt(d2),\n        b0 = (w1 * w1 - w0 * w0 + rho4 * d2) / (2 * w0 * rho2 * d1),\n        b1 = (w1 * w1 - w0 * w0 - rho4 * d2) / (2 * w1 * rho2 * d1),\n        r0 = Math.log(Math.sqrt(b0 * b0 + 1) - b0),\n        r1 = Math.log(Math.sqrt(b1 * b1 + 1) - b1);\n    S = (r1 - r0) / rho;\n    i = function(t) {\n      var s = t * S,\n          coshr0 = cosh(r0),\n          u = w0 / (rho2 * d1) * (coshr0 * tanh(rho * s + r0) - sinh(r0));\n      return [\n        ux0 + u * dx,\n        uy0 + u * dy,\n        w0 * coshr0 / cosh(rho * s + r0)\n      ];\n    }\n  }\n\n  i.duration = S * 1000;\n\n  return i;\n}\n","import {cubehelix as colorCubehelix} from \"d3-color\";\nimport color, {hue} from \"./color.js\";\n\nfunction cubehelix(hue) {\n  return (function cubehelixGamma(y) {\n    y = +y;\n\n    function cubehelix(start, end) {\n      var h = hue((start = colorCubehelix(start)).h, (end = colorCubehelix(end)).h),\n          s = color(start.s, end.s),\n          l = color(start.l, end.l),\n          opacity = color(start.opacity, end.opacity);\n      return function(t) {\n        start.h = h(t);\n        start.s = s(t);\n        start.l = l(Math.pow(t, y));\n        start.opacity = opacity(t);\n        return start + \"\";\n      };\n    }\n\n    cubehelix.gamma = cubehelixGamma;\n\n    return cubehelix;\n  })(1);\n}\n\nexport default cubehelix(hue);\nexport var cubehelixLong = cubehelix(color);\n","export default function piecewise(interpolate, values) {\n  var i = 0, n = values.length - 1, v = values[0], I = new Array(n < 0 ? 0 : n);\n  while (i < n) I[i] = interpolate(v, v = values[++i]);\n  return function(t) {\n    var i = Math.max(0, Math.min(n - 1, Math.floor(t *= n)));\n    return I[i](t - i);\n  };\n}\n","export default function(x) {\n  return +x;\n}\n","import {bisect} from \"d3-array\";\nimport {interpolate as interpolateValue, interpolateNumber, interpolateRound} from \"d3-interpolate\";\nimport constant from \"./constant.js\";\nimport number from \"./number.js\";\n\nvar unit = [0, 1];\n\nexport function identity(x) {\n  return x;\n}\n\nfunction normalize(a, b) {\n  return (b -= (a = +a))\n      ? function(x) { return (x - a) / b; }\n      : constant(isNaN(b) ? NaN : 0.5);\n}\n\nfunction clamper(a, b) {\n  var t;\n  if (a > b) t = a, a = b, b = t;\n  return function(x) { return Math.max(a, Math.min(b, x)); };\n}\n\n// normalize(a, b)(x) takes a domain value x in [a,b] and returns the corresponding parameter t in [0,1].\n// interpolate(a, b)(t) takes a parameter t in [0,1] and returns the corresponding range value x in [a,b].\nfunction bimap(domain, range, interpolate) {\n  var d0 = domain[0], d1 = domain[1], r0 = range[0], r1 = range[1];\n  if (d1 < d0) d0 = normalize(d1, d0), r0 = interpolate(r1, r0);\n  else d0 = normalize(d0, d1), r0 = interpolate(r0, r1);\n  return function(x) { return r0(d0(x)); };\n}\n\nfunction polymap(domain, range, interpolate) {\n  var j = Math.min(domain.length, range.length) - 1,\n      d = new Array(j),\n      r = new Array(j),\n      i = -1;\n\n  // Reverse descending domains.\n  if (domain[j] < domain[0]) {\n    domain = domain.slice().reverse();\n    range = range.slice().reverse();\n  }\n\n  while (++i < j) {\n    d[i] = normalize(domain[i], domain[i + 1]);\n    r[i] = interpolate(range[i], range[i + 1]);\n  }\n\n  return function(x) {\n    var i = bisect(domain, x, 1, j) - 1;\n    return r[i](d[i](x));\n  };\n}\n\nexport function copy(source, target) {\n  return target\n      .domain(source.domain())\n      .range(source.range())\n      .interpolate(source.interpolate())\n      .clamp(source.clamp())\n      .unknown(source.unknown());\n}\n\nexport function transformer() {\n  var domain = unit,\n      range = unit,\n      interpolate = interpolateValue,\n      transform,\n      untransform,\n      unknown,\n      clamp = identity,\n      piecewise,\n      output,\n      input;\n\n  function rescale() {\n    var n = Math.min(domain.length, range.length);\n    if (clamp !== identity) clamp = clamper(domain[0], domain[n - 1]);\n    piecewise = n > 2 ? polymap : bimap;\n    output = input = null;\n    return scale;\n  }\n\n  function scale(x) {\n    return isNaN(x = +x) ? unknown : (output || (output = piecewise(domain.map(transform), range, interpolate)))(transform(clamp(x)));\n  }\n\n  scale.invert = function(y) {\n    return clamp(untransform((input || (input = piecewise(range, domain.map(transform), interpolateNumber)))(y)));\n  };\n\n  scale.domain = function(_) {\n    return arguments.length ? (domain = Array.from(_, number), rescale()) : domain.slice();\n  };\n\n  scale.range = function(_) {\n    return arguments.length ? (range = Array.from(_), rescale()) : range.slice();\n  };\n\n  scale.rangeRound = function(_) {\n    return range = Array.from(_), interpolate = interpolateRound, rescale();\n  };\n\n  scale.clamp = function(_) {\n    return arguments.length ? (clamp = _ ? true : identity, rescale()) : clamp !== identity;\n  };\n\n  scale.interpolate = function(_) {\n    return arguments.length ? (interpolate = _, rescale()) : interpolate;\n  };\n\n  scale.unknown = function(_) {\n    return arguments.length ? (unknown = _, scale) : unknown;\n  };\n\n  return function(t, u) {\n    transform = t, untransform = u;\n    return rescale();\n  };\n}\n\nexport default function continuous() {\n  return transformer()(identity, identity);\n}\n","export default function(x) {\n  return function() {\n    return x;\n  };\n}\n","import {tickStep} from \"d3-array\";\nimport {format, formatPrefix, formatSpecifier, precisionFixed, precisionPrefix, precisionRound} from \"d3-format\";\n\nexport default function(start, stop, count, specifier) {\n  var step = tickStep(start, stop, count),\n      precision;\n  specifier = formatSpecifier(specifier == null ? \",f\" : specifier);\n  switch (specifier.type) {\n    case \"s\": {\n      var value = Math.max(Math.abs(start), Math.abs(stop));\n      if (specifier.precision == null && !isNaN(precision = precisionPrefix(step, value))) specifier.precision = precision;\n      return formatPrefix(specifier, value);\n    }\n    case \"\":\n    case \"e\":\n    case \"g\":\n    case \"p\":\n    case \"r\": {\n      if (specifier.precision == null && !isNaN(precision = precisionRound(step, Math.max(Math.abs(start), Math.abs(stop))))) specifier.precision = precision - (specifier.type === \"e\");\n      break;\n    }\n    case \"f\":\n    case \"%\": {\n      if (specifier.precision == null && !isNaN(precision = precisionFixed(step))) specifier.precision = precision - (specifier.type === \"%\") * 2;\n      break;\n    }\n  }\n  return format(specifier);\n}\n","import {ticks, tickIncrement} from \"d3-array\";\nimport continuous, {copy} from \"./continuous.js\";\nimport {initRange} from \"./init.js\";\nimport tickFormat from \"./tickFormat.js\";\n\nexport function linearish(scale) {\n  var domain = scale.domain;\n\n  scale.ticks = function(count) {\n    var d = domain();\n    return ticks(d[0], d[d.length - 1], count == null ? 10 : count);\n  };\n\n  scale.tickFormat = function(count, specifier) {\n    var d = domain();\n    return tickFormat(d[0], d[d.length - 1], count == null ? 10 : count, specifier);\n  };\n\n  scale.nice = function(count) {\n    if (count == null) count = 10;\n\n    var d = domain(),\n        i0 = 0,\n        i1 = d.length - 1,\n        start = d[i0],\n        stop = d[i1],\n        step;\n\n    if (stop < start) {\n      step = start, start = stop, stop = step;\n      step = i0, i0 = i1, i1 = step;\n    }\n\n    step = tickIncrement(start, stop, count);\n\n    if (step > 0) {\n      start = Math.floor(start / step) * step;\n      stop = Math.ceil(stop / step) * step;\n      step = tickIncrement(start, stop, count);\n    } else if (step < 0) {\n      start = Math.ceil(start * step) / step;\n      stop = Math.floor(stop * step) / step;\n      step = tickIncrement(start, stop, count);\n    }\n\n    if (step > 0) {\n      d[i0] = Math.floor(start / step) * step;\n      d[i1] = Math.ceil(stop / step) * step;\n      domain(d);\n    } else if (step < 0) {\n      d[i0] = Math.ceil(start * step) / step;\n      d[i1] = Math.floor(stop * step) / step;\n      domain(d);\n    }\n\n    return scale;\n  };\n\n  return scale;\n}\n\nexport default function linear() {\n  var scale = continuous();\n\n  scale.copy = function() {\n    return copy(scale, linear());\n  };\n\n  initRange.apply(scale, arguments);\n\n  return linearish(scale);\n}\n","export default function(domain, interval) {\n  domain = domain.slice();\n\n  var i0 = 0,\n      i1 = domain.length - 1,\n      x0 = domain[i0],\n      x1 = domain[i1],\n      t;\n\n  if (x1 < x0) {\n    t = i0, i0 = i1, i1 = t;\n    t = x0, x0 = x1, x1 = t;\n  }\n\n  domain[i0] = interval.floor(x0);\n  domain[i1] = interval.ceil(x1);\n  return domain;\n}\n","import {ticks} from \"d3-array\";\nimport {format} from \"d3-format\";\nimport nice from \"./nice.js\";\nimport {copy, transformer} from \"./continuous.js\";\nimport {initRange} from \"./init.js\";\n\nfunction transformLog(x) {\n  return Math.log(x);\n}\n\nfunction transformExp(x) {\n  return Math.exp(x);\n}\n\nfunction transformLogn(x) {\n  return -Math.log(-x);\n}\n\nfunction transformExpn(x) {\n  return -Math.exp(-x);\n}\n\nfunction pow10(x) {\n  return isFinite(x) ? +(\"1e\" + x) : x < 0 ? 0 : x;\n}\n\nfunction powp(base) {\n  return base === 10 ? pow10\n      : base === Math.E ? Math.exp\n      : function(x) { return Math.pow(base, x); };\n}\n\nfunction logp(base) {\n  return base === Math.E ? Math.log\n      : base === 10 && Math.log10\n      || base === 2 && Math.log2\n      || (base = Math.log(base), function(x) { return Math.log(x) / base; });\n}\n\nfunction reflect(f) {\n  return function(x) {\n    return -f(-x);\n  };\n}\n\nexport function loggish(transform) {\n  var scale = transform(transformLog, transformExp),\n      domain = scale.domain,\n      base = 10,\n      logs,\n      pows;\n\n  function rescale() {\n    logs = logp(base), pows = powp(base);\n    if (domain()[0] < 0) {\n      logs = reflect(logs), pows = reflect(pows);\n      transform(transformLogn, transformExpn);\n    } else {\n      transform(transformLog, transformExp);\n    }\n    return scale;\n  }\n\n  scale.base = function(_) {\n    return arguments.length ? (base = +_, rescale()) : base;\n  };\n\n  scale.domain = function(_) {\n    return arguments.length ? (domain(_), rescale()) : domain();\n  };\n\n  scale.ticks = function(count) {\n    var d = domain(),\n        u = d[0],\n        v = d[d.length - 1],\n        r;\n\n    if (r = v < u) i = u, u = v, v = i;\n\n    var i = logs(u),\n        j = logs(v),\n        p,\n        k,\n        t,\n        n = count == null ? 10 : +count,\n        z = [];\n\n    if (!(base % 1) && j - i < n) {\n      i = Math.floor(i), j = Math.ceil(j);\n      if (u > 0) for (; i <= j; ++i) {\n        for (k = 1, p = pows(i); k < base; ++k) {\n          t = p * k;\n          if (t < u) continue;\n          if (t > v) break;\n          z.push(t);\n        }\n      } else for (; i <= j; ++i) {\n        for (k = base - 1, p = pows(i); k >= 1; --k) {\n          t = p * k;\n          if (t < u) continue;\n          if (t > v) break;\n          z.push(t);\n        }\n      }\n      if (z.length * 2 < n) z = ticks(u, v, n);\n    } else {\n      z = ticks(i, j, Math.min(j - i, n)).map(pows);\n    }\n\n    return r ? z.reverse() : z;\n  };\n\n  scale.tickFormat = function(count, specifier) {\n    if (specifier == null) specifier = base === 10 ? \".0e\" : \",\";\n    if (typeof specifier !== \"function\") specifier = format(specifier);\n    if (count === Infinity) return specifier;\n    if (count == null) count = 10;\n    var k = Math.max(1, base * count / scale.ticks().length); // TODO fast estimate?\n    return function(d) {\n      var i = d / pows(Math.round(logs(d)));\n      if (i * base < base - 0.5) i *= base;\n      return i <= k ? specifier(d) : \"\";\n    };\n  };\n\n  scale.nice = function() {\n    return domain(nice(domain(), {\n      floor: function(x) { return pows(Math.floor(logs(x))); },\n      ceil: function(x) { return pows(Math.ceil(logs(x))); }\n    }));\n  };\n\n  return scale;\n}\n\nexport default function log() {\n  var scale = loggish(transformer()).domain([1, 10]);\n\n  scale.copy = function() {\n    return copy(scale, log()).base(scale.base());\n  };\n\n  initRange.apply(scale, arguments);\n\n  return scale;\n}\n","import {linearish} from \"./linear.js\";\nimport {copy, transformer} from \"./continuous.js\";\nimport {initRange} from \"./init.js\";\n\nfunction transformSymlog(c) {\n  return function(x) {\n    return Math.sign(x) * Math.log1p(Math.abs(x / c));\n  };\n}\n\nfunction transformSymexp(c) {\n  return function(x) {\n    return Math.sign(x) * Math.expm1(Math.abs(x)) * c;\n  };\n}\n\nexport function symlogish(transform) {\n  var c = 1, scale = transform(transformSymlog(c), transformSymexp(c));\n\n  scale.constant = function(_) {\n    return arguments.length ? transform(transformSymlog(c = +_), transformSymexp(c)) : c;\n  };\n\n  return linearish(scale);\n}\n\nexport default function symlog() {\n  var scale = symlogish(transformer());\n\n  scale.copy = function() {\n    return copy(scale, symlog()).constant(scale.constant());\n  };\n\n  return initRange.apply(scale, arguments);\n}\n","import {linearish} from \"./linear.js\";\nimport {copy, identity, transformer} from \"./continuous.js\";\nimport {initRange} from \"./init.js\";\n\nfunction transformPow(exponent) {\n  return function(x) {\n    return x < 0 ? -Math.pow(-x, exponent) : Math.pow(x, exponent);\n  };\n}\n\nfunction transformSqrt(x) {\n  return x < 0 ? -Math.sqrt(-x) : Math.sqrt(x);\n}\n\nfunction transformSquare(x) {\n  return x < 0 ? -x * x : x * x;\n}\n\nexport function powish(transform) {\n  var scale = transform(identity, identity),\n      exponent = 1;\n\n  function rescale() {\n    return exponent === 1 ? transform(identity, identity)\n        : exponent === 0.5 ? transform(transformSqrt, transformSquare)\n        : transform(transformPow(exponent), transformPow(1 / exponent));\n  }\n\n  scale.exponent = function(_) {\n    return arguments.length ? (exponent = +_, rescale()) : exponent;\n  };\n\n  return linearish(scale);\n}\n\nexport default function pow() {\n  var scale = powish(transformer());\n\n  scale.copy = function() {\n    return copy(scale, pow()).exponent(scale.exponent());\n  };\n\n  initRange.apply(scale, arguments);\n\n  return scale;\n}\n\nexport function sqrt() {\n  return pow.apply(null, arguments).exponent(0.5);\n}\n","import continuous from \"./continuous.js\";\nimport {initRange} from \"./init.js\";\nimport {linearish} from \"./linear.js\";\nimport number from \"./number.js\";\n\nfunction square(x) {\n  return Math.sign(x) * x * x;\n}\n\nfunction unsquare(x) {\n  return Math.sign(x) * Math.sqrt(Math.abs(x));\n}\n\nexport default function radial() {\n  var squared = continuous(),\n      range = [0, 1],\n      round = false,\n      unknown;\n\n  function scale(x) {\n    var y = unsquare(squared(x));\n    return isNaN(y) ? unknown : round ? Math.round(y) : y;\n  }\n\n  scale.invert = function(y) {\n    return squared.invert(square(y));\n  };\n\n  scale.domain = function(_) {\n    return arguments.length ? (squared.domain(_), scale) : squared.domain();\n  };\n\n  scale.range = function(_) {\n    return arguments.length ? (squared.range((range = Array.from(_, number)).map(square)), scale) : range.slice();\n  };\n\n  scale.rangeRound = function(_) {\n    return scale.range(_).round(true);\n  };\n\n  scale.round = function(_) {\n    return arguments.length ? (round = !!_, scale) : round;\n  };\n\n  scale.clamp = function(_) {\n    return arguments.length ? (squared.clamp(_), scale) : squared.clamp();\n  };\n\n  scale.unknown = function(_) {\n    return arguments.length ? (unknown = _, scale) : unknown;\n  };\n\n  scale.copy = function() {\n    return radial(squared.domain(), range)\n        .round(round)\n        .clamp(squared.clamp())\n        .unknown(unknown);\n  };\n\n  initRange.apply(scale, arguments);\n\n  return linearish(scale);\n}\n","import {bisector, tickStep} from \"d3-array\";\nimport {timeYear, timeMonth, timeWeek, timeDay, timeHour, timeMinute, timeSecond, timeMillisecond} from \"d3-time\";\nimport {timeFormat} from \"d3-time-format\";\nimport continuous, {copy} from \"./continuous.js\";\nimport {initRange} from \"./init.js\";\nimport nice from \"./nice.js\";\n\nvar durationSecond = 1000,\n    durationMinute = durationSecond * 60,\n    durationHour = durationMinute * 60,\n    durationDay = durationHour * 24,\n    durationWeek = durationDay * 7,\n    durationMonth = durationDay * 30,\n    durationYear = durationDay * 365;\n\nfunction date(t) {\n  return new Date(t);\n}\n\nfunction number(t) {\n  return t instanceof Date ? +t : +new Date(+t);\n}\n\nexport function calendar(year, month, week, day, hour, minute, second, millisecond, format) {\n  var scale = continuous(),\n      invert = scale.invert,\n      domain = scale.domain;\n\n  var formatMillisecond = format(\".%L\"),\n      formatSecond = format(\":%S\"),\n      formatMinute = format(\"%I:%M\"),\n      formatHour = format(\"%I %p\"),\n      formatDay = format(\"%a %d\"),\n      formatWeek = format(\"%b %d\"),\n      formatMonth = format(\"%B\"),\n      formatYear = format(\"%Y\");\n\n  var tickIntervals = [\n    [second,  1,      durationSecond],\n    [second,  5,  5 * durationSecond],\n    [second, 15, 15 * durationSecond],\n    [second, 30, 30 * durationSecond],\n    [minute,  1,      durationMinute],\n    [minute,  5,  5 * durationMinute],\n    [minute, 15, 15 * durationMinute],\n    [minute, 30, 30 * durationMinute],\n    [  hour,  1,      durationHour  ],\n    [  hour,  3,  3 * durationHour  ],\n    [  hour,  6,  6 * durationHour  ],\n    [  hour, 12, 12 * durationHour  ],\n    [   day,  1,      durationDay   ],\n    [   day,  2,  2 * durationDay   ],\n    [  week,  1,      durationWeek  ],\n    [ month,  1,      durationMonth ],\n    [ month,  3,  3 * durationMonth ],\n    [  year,  1,      durationYear  ]\n  ];\n\n  function tickFormat(date) {\n    return (second(date) < date ? formatMillisecond\n        : minute(date) < date ? formatSecond\n        : hour(date) < date ? formatMinute\n        : day(date) < date ? formatHour\n        : month(date) < date ? (week(date) < date ? formatDay : formatWeek)\n        : year(date) < date ? formatMonth\n        : formatYear)(date);\n  }\n\n  function tickInterval(interval, start, stop) {\n    if (interval == null) interval = 10;\n\n    // If a desired tick count is specified, pick a reasonable tick interval\n    // based on the extent of the domain and a rough estimate of tick size.\n    // Otherwise, assume interval is already a time interval and use it.\n    if (typeof interval === \"number\") {\n      var target = Math.abs(stop - start) / interval,\n          i = bisector(function(i) { return i[2]; }).right(tickIntervals, target),\n          step;\n      if (i === tickIntervals.length) {\n        step = tickStep(start / durationYear, stop / durationYear, interval);\n        interval = year;\n      } else if (i) {\n        i = tickIntervals[target / tickIntervals[i - 1][2] < tickIntervals[i][2] / target ? i - 1 : i];\n        step = i[1];\n        interval = i[0];\n      } else {\n        step = Math.max(tickStep(start, stop, interval), 1);\n        interval = millisecond;\n      }\n      return interval.every(step);\n    }\n\n    return interval;\n  }\n\n  scale.invert = function(y) {\n    return new Date(invert(y));\n  };\n\n  scale.domain = function(_) {\n    return arguments.length ? domain(Array.from(_, number)) : domain().map(date);\n  };\n\n  scale.ticks = function(interval) {\n    var d = domain(),\n        t0 = d[0],\n        t1 = d[d.length - 1],\n        r = t1 < t0,\n        t;\n    if (r) t = t0, t0 = t1, t1 = t;\n    t = tickInterval(interval, t0, t1);\n    t = t ? t.range(t0, t1 + 1) : []; // inclusive stop\n    return r ? t.reverse() : t;\n  };\n\n  scale.tickFormat = function(count, specifier) {\n    return specifier == null ? tickFormat : format(specifier);\n  };\n\n  scale.nice = function(interval) {\n    var d = domain();\n    return (interval = tickInterval(interval, d[0], d[d.length - 1]))\n        ? domain(nice(d, interval))\n        : scale;\n  };\n\n  scale.copy = function() {\n    return copy(scale, calendar(year, month, week, day, hour, minute, second, millisecond, format));\n  };\n\n  return scale;\n}\n\nexport default function() {\n  return initRange.apply(calendar(timeYear, timeMonth, timeWeek, timeDay, timeHour, timeMinute, timeSecond, timeMillisecond, timeFormat).domain([new Date(2000, 0, 1), new Date(2000, 0, 2)]), arguments);\n}\n","import {interpolate, interpolateRound} from \"d3-interpolate\";\nimport {identity} from \"./continuous.js\";\nimport {initInterpolator} from \"./init.js\";\nimport {linearish} from \"./linear.js\";\nimport {loggish} from \"./log.js\";\nimport {symlogish} from \"./symlog.js\";\nimport {powish} from \"./pow.js\";\n\nfunction transformer() {\n  var x0 = 0,\n      x1 = 1,\n      t0,\n      t1,\n      k10,\n      transform,\n      interpolator = identity,\n      clamp = false,\n      unknown;\n\n  function scale(x) {\n    return isNaN(x = +x) ? unknown : interpolator(k10 === 0 ? 0.5 : (x = (transform(x) - t0) * k10, clamp ? Math.max(0, Math.min(1, x)) : x));\n  }\n\n  scale.domain = function(_) {\n    return arguments.length ? ([x0, x1] = _, t0 = transform(x0 = +x0), t1 = transform(x1 = +x1), k10 = t0 === t1 ? 0 : 1 / (t1 - t0), scale) : [x0, x1];\n  };\n\n  scale.clamp = function(_) {\n    return arguments.length ? (clamp = !!_, scale) : clamp;\n  };\n\n  scale.interpolator = function(_) {\n    return arguments.length ? (interpolator = _, scale) : interpolator;\n  };\n\n  function range(interpolate) {\n    return function(_) {\n      var r0, r1;\n      return arguments.length ? ([r0, r1] = _, interpolator = interpolate(r0, r1), scale) : [interpolator(0), interpolator(1)];\n    };\n  }\n\n  scale.range = range(interpolate);\n\n  scale.rangeRound = range(interpolateRound);\n\n  scale.unknown = function(_) {\n    return arguments.length ? (unknown = _, scale) : unknown;\n  };\n\n  return function(t) {\n    transform = t, t0 = t(x0), t1 = t(x1), k10 = t0 === t1 ? 0 : 1 / (t1 - t0);\n    return scale;\n  };\n}\n\nexport function copy(source, target) {\n  return target\n      .domain(source.domain())\n      .interpolator(source.interpolator())\n      .clamp(source.clamp())\n      .unknown(source.unknown());\n}\n\nexport default function sequential() {\n  var scale = linearish(transformer()(identity));\n\n  scale.copy = function() {\n    return copy(scale, sequential());\n  };\n\n  return initInterpolator.apply(scale, arguments);\n}\n\nexport function sequentialLog() {\n  var scale = loggish(transformer()).domain([1, 10]);\n\n  scale.copy = function() {\n    return copy(scale, sequentialLog()).base(scale.base());\n  };\n\n  return initInterpolator.apply(scale, arguments);\n}\n\nexport function sequentialSymlog() {\n  var scale = symlogish(transformer());\n\n  scale.copy = function() {\n    return copy(scale, sequentialSymlog()).constant(scale.constant());\n  };\n\n  return initInterpolator.apply(scale, arguments);\n}\n\nexport function sequentialPow() {\n  var scale = powish(transformer());\n\n  scale.copy = function() {\n    return copy(scale, sequentialPow()).exponent(scale.exponent());\n  };\n\n  return initInterpolator.apply(scale, arguments);\n}\n\nexport function sequentialSqrt() {\n  return sequentialPow.apply(null, arguments).exponent(0.5);\n}\n","import {interpolate, interpolateRound, piecewise} from \"d3-interpolate\";\nimport {identity} from \"./continuous.js\";\nimport {initInterpolator} from \"./init.js\";\nimport {linearish} from \"./linear.js\";\nimport {loggish} from \"./log.js\";\nimport {copy} from \"./sequential.js\";\nimport {symlogish} from \"./symlog.js\";\nimport {powish} from \"./pow.js\";\n\nfunction transformer() {\n  var x0 = 0,\n      x1 = 0.5,\n      x2 = 1,\n      s = 1,\n      t0,\n      t1,\n      t2,\n      k10,\n      k21,\n      interpolator = identity,\n      transform,\n      clamp = false,\n      unknown;\n\n  function scale(x) {\n    return isNaN(x = +x) ? unknown : (x = 0.5 + ((x = +transform(x)) - t1) * (s * x < s * t1 ? k10 : k21), interpolator(clamp ? Math.max(0, Math.min(1, x)) : x));\n  }\n\n  scale.domain = function(_) {\n    return arguments.length ? ([x0, x1, x2] = _, t0 = transform(x0 = +x0), t1 = transform(x1 = +x1), t2 = transform(x2 = +x2), k10 = t0 === t1 ? 0 : 0.5 / (t1 - t0), k21 = t1 === t2 ? 0 : 0.5 / (t2 - t1), s = t1 < t0 ? -1 : 1, scale) : [x0, x1, x2];\n  };\n\n  scale.clamp = function(_) {\n    return arguments.length ? (clamp = !!_, scale) : clamp;\n  };\n\n  scale.interpolator = function(_) {\n    return arguments.length ? (interpolator = _, scale) : interpolator;\n  };\n\n  function range(interpolate) {\n    return function(_) {\n      var r0, r1, r2;\n      return arguments.length ? ([r0, r1, r2] = _, interpolator = piecewise(interpolate, [r0, r1, r2]), scale) : [interpolator(0), interpolator(0.5), interpolator(1)];\n    };\n  }\n\n  scale.range = range(interpolate);\n\n  scale.rangeRound = range(interpolateRound);\n\n  scale.unknown = function(_) {\n    return arguments.length ? (unknown = _, scale) : unknown;\n  };\n\n  return function(t) {\n    transform = t, t0 = t(x0), t1 = t(x1), t2 = t(x2), k10 = t0 === t1 ? 0 : 0.5 / (t1 - t0), k21 = t1 === t2 ? 0 : 0.5 / (t2 - t1), s = t1 < t0 ? -1 : 1;\n    return scale;\n  };\n}\n\nexport default function diverging() {\n  var scale = linearish(transformer()(identity));\n\n  scale.copy = function() {\n    return copy(scale, diverging());\n  };\n\n  return initInterpolator.apply(scale, arguments);\n}\n\nexport function divergingLog() {\n  var scale = loggish(transformer()).domain([0.1, 1, 10]);\n\n  scale.copy = function() {\n    return copy(scale, divergingLog()).base(scale.base());\n  };\n\n  return initInterpolator.apply(scale, arguments);\n}\n\nexport function divergingSymlog() {\n  var scale = symlogish(transformer());\n\n  scale.copy = function() {\n    return copy(scale, divergingSymlog()).constant(scale.constant());\n  };\n\n  return initInterpolator.apply(scale, arguments);\n}\n\nexport function divergingPow() {\n  var scale = powish(transformer());\n\n  scale.copy = function() {\n    return copy(scale, divergingPow()).exponent(scale.exponent());\n  };\n\n  return initInterpolator.apply(scale, arguments);\n}\n\nexport function divergingSqrt() {\n  return divergingPow.apply(null, arguments).exponent(0.5);\n}\n","import {linearish} from \"./linear.js\";\nimport number from \"./number.js\";\n\nexport default function identity(domain) {\n  var unknown;\n\n  function scale(x) {\n    return isNaN(x = +x) ? unknown : x;\n  }\n\n  scale.invert = scale;\n\n  scale.domain = scale.range = function(_) {\n    return arguments.length ? (domain = Array.from(_, number), scale) : domain.slice();\n  };\n\n  scale.unknown = function(_) {\n    return arguments.length ? (unknown = _, scale) : unknown;\n  };\n\n  scale.copy = function() {\n    return identity(domain).unknown(unknown);\n  };\n\n  domain = arguments.length ? Array.from(domain, number) : [0, 1];\n\n  return linearish(scale);\n}\n","import {ascending, bisect, quantile as threshold} from \"d3-array\";\nimport {initRange} from \"./init.js\";\n\nexport default function quantile() {\n  var domain = [],\n      range = [],\n      thresholds = [],\n      unknown;\n\n  function rescale() {\n    var i = 0, n = Math.max(1, range.length);\n    thresholds = new Array(n - 1);\n    while (++i < n) thresholds[i - 1] = threshold(domain, i / n);\n    return scale;\n  }\n\n  function scale(x) {\n    return isNaN(x = +x) ? unknown : range[bisect(thresholds, x)];\n  }\n\n  scale.invertExtent = function(y) {\n    var i = range.indexOf(y);\n    return i < 0 ? [NaN, NaN] : [\n      i > 0 ? thresholds[i - 1] : domain[0],\n      i < thresholds.length ? thresholds[i] : domain[domain.length - 1]\n    ];\n  };\n\n  scale.domain = function(_) {\n    if (!arguments.length) return domain.slice();\n    domain = [];\n    for (let d of _) if (d != null && !isNaN(d = +d)) domain.push(d);\n    domain.sort(ascending);\n    return rescale();\n  };\n\n  scale.range = function(_) {\n    return arguments.length ? (range = Array.from(_), rescale()) : range.slice();\n  };\n\n  scale.unknown = function(_) {\n    return arguments.length ? (unknown = _, scale) : unknown;\n  };\n\n  scale.quantiles = function() {\n    return thresholds.slice();\n  };\n\n  scale.copy = function() {\n    return quantile()\n        .domain(domain)\n        .range(range)\n        .unknown(unknown);\n  };\n\n  return initRange.apply(scale, arguments);\n}\n","import {bisect} from \"d3-array\";\nimport {linearish} from \"./linear.js\";\nimport {initRange} from \"./init.js\";\n\nexport default function quantize() {\n  var x0 = 0,\n      x1 = 1,\n      n = 1,\n      domain = [0.5],\n      range = [0, 1],\n      unknown;\n\n  function scale(x) {\n    return x <= x ? range[bisect(domain, x, 0, n)] : unknown;\n  }\n\n  function rescale() {\n    var i = -1;\n    domain = new Array(n);\n    while (++i < n) domain[i] = ((i + 1) * x1 - (i - n) * x0) / (n + 1);\n    return scale;\n  }\n\n  scale.domain = function(_) {\n    return arguments.length ? ([x0, x1] = _, x0 = +x0, x1 = +x1, rescale()) : [x0, x1];\n  };\n\n  scale.range = function(_) {\n    return arguments.length ? (n = (range = Array.from(_)).length - 1, rescale()) : range.slice();\n  };\n\n  scale.invertExtent = function(y) {\n    var i = range.indexOf(y);\n    return i < 0 ? [NaN, NaN]\n        : i < 1 ? [x0, domain[0]]\n        : i >= n ? [domain[n - 1], x1]\n        : [domain[i - 1], domain[i]];\n  };\n\n  scale.unknown = function(_) {\n    return arguments.length ? (unknown = _, scale) : scale;\n  };\n\n  scale.thresholds = function() {\n    return domain.slice();\n  };\n\n  scale.copy = function() {\n    return quantize()\n        .domain([x0, x1])\n        .range(range)\n        .unknown(unknown);\n  };\n\n  return initRange.apply(linearish(scale), arguments);\n}\n","import {bisect} from \"d3-array\";\nimport {initRange} from \"./init.js\";\n\nexport default function threshold() {\n  var domain = [0.5],\n      range = [0, 1],\n      unknown,\n      n = 1;\n\n  function scale(x) {\n    return x <= x ? range[bisect(domain, x, 0, n)] : unknown;\n  }\n\n  scale.domain = function(_) {\n    return arguments.length ? (domain = Array.from(_), n = Math.min(domain.length, range.length - 1), scale) : domain.slice();\n  };\n\n  scale.range = function(_) {\n    return arguments.length ? (range = Array.from(_), n = Math.min(domain.length, range.length - 1), scale) : range.slice();\n  };\n\n  scale.invertExtent = function(y) {\n    var i = range.indexOf(y);\n    return [domain[i - 1], domain[i]];\n  };\n\n  scale.unknown = function(_) {\n    return arguments.length ? (unknown = _, scale) : unknown;\n  };\n\n  scale.copy = function() {\n    return threshold()\n        .domain(domain)\n        .range(range)\n        .unknown(unknown);\n  };\n\n  return initRange.apply(scale, arguments);\n}\n","import {calendar} from \"./time.js\";\nimport {utcFormat} from \"d3-time-format\";\nimport {utcYear, utcMonth, utcWeek, utcDay, utcHour, utcMinute, utcSecond, utcMillisecond} from \"d3-time\";\nimport {initRange} from \"./init.js\";\n\nexport default function() {\n  return initRange.apply(calendar(utcYear, utcMonth, utcWeek, utcDay, utcHour, utcMinute, utcSecond, utcMillisecond, utcFormat).domain([Date.UTC(2000, 0, 1), Date.UTC(2000, 0, 2)]), arguments);\n}\n","import {ascending, bisect, quantile} from \"d3-array\";\nimport {identity} from \"./continuous.js\";\nimport {initInterpolator} from \"./init.js\";\n\nexport default function sequentialQuantile() {\n  var domain = [],\n      interpolator = identity;\n\n  function scale(x) {\n    if (!isNaN(x = +x)) return interpolator((bisect(domain, x, 1) - 1) / (domain.length - 1));\n  }\n\n  scale.domain = function(_) {\n    if (!arguments.length) return domain.slice();\n    domain = [];\n    for (let d of _) if (d != null && !isNaN(d = +d)) domain.push(d);\n    domain.sort(ascending);\n    return scale;\n  };\n\n  scale.interpolator = function(_) {\n    return arguments.length ? (interpolator = _, scale) : interpolator;\n  };\n\n  scale.range = function() {\n    return domain.map((d, i) => interpolator(i / (domain.length - 1)));\n  };\n\n  scale.quantiles = function(n) {\n    return Array.from({length: n + 1}, (_, i) => quantile(domain, i / n));\n  };\n\n  scale.copy = function() {\n    return sequentialQuantile(interpolator).domain(domain);\n  };\n\n  return initInterpolator.apply(scale, arguments);\n}\n","import { LitElement } from 'lit-element';\nimport { capitalize, shapeProperties } from '../helper/utils.js';\nimport * as scales from 'd3-scale';\n\n// Note(cg): allowed scales\nconst scaleNames = {\n  'linear': 'continuous',\n  'pow': 'continuous',\n  'sqrt': 'continuous',\n  'log': 'continuous',\n  'identity': 'continuous',\n  'time': 'continuous',\n  'sequential': 'sequential',\n  'quantize': 'quantize',\n  'quantile': 'quantile',\n  'threshold': 'threshold',\n  'ordinal': 'ordinal',\n  'band': 'ordinal',\n  'point': 'ordinal'\n};\n\n\nconst hasChanged = (val, old) => {\n  return (val !== old) || (JSON.stringify(val || []) !== JSON.stringify(old || []))\n}\n\nconst props = {};\nObject.keys(scaleNames).forEach(name => {\n  const instance = scales[`scale${capitalize(name)}`]()\n  const keys = Object.keys(instance || {});\n  shapeProperties(keys, props);\n})\n\n\nclass D3Scale extends LitElement {\n\n  get family() {\n    if (this.type) {\n      return scaleNames[this.type];\n    }\n    return null;\n  }\n\n  static get properties() {\n\n    return {\n\n      ...props,\n\n      scaleType: {\n        type: String,\n        attribute: 'scale-type'\n      },\n\n      domain: {\n        type: Array,\n        hasChanged: hasChanged\n      },\n      range: {\n        type: Array,\n        hasChanged: hasChanged\n      },\n\n      clamp: {\n        type: Boolean\n      }\n    };\n  }\n\n  constructor() {\n    super();\n    this.__init = true;\n  }\n\n  update(props) {\n    super.update(props);\n    if (!this.scaleType && !props.has('scaleType')) {\n      this.scaleType = 'linear';\n    }\n\n    if (!this.scale || props.has('scaleType')) {\n      this.scale = scales[`scale${capitalize(this.scaleType)}`]()\n      // Note(cg): we need a way to know the type of scale (e.g. to know if a scale is contiuous in multi-group)\n      this.scale.scaleType = this.scaleType;\n      this.scale.category = scaleNames[this.scaleType];\n    }\n\n    if (this.scale) {\n      this.updateWrapper(props);\n    }\n  }\n\n  updateWrapper(props) {\n    let shallNotify = this.__init;\n    props.forEach((value, key) => {\n      if ((this[key] !== undefined) && key !== 'scale' && key !== 'scaleType' && this.scale[key]) {\n        shallNotify = true;\n        this.log && console.info(`d3-scale ${this.type} updates ${key} to ${JSON.stringify(this[key])}`);\n        this.scale[key](this[key]);\n      }\n    });\n    if (shallNotify) {\n      this.dispatchEvent(new CustomEvent(`scale-changed`, { detail: { value: this.scale, type: this.scaleType }, bubbles: true, composed: true }));\n      delete this.__init;\n    }\n  }\n}\n\nexport default D3Scale;","export var xhtml = \"http://www.w3.org/1999/xhtml\";\n\nexport default {\n  svg: \"http://www.w3.org/2000/svg\",\n  xhtml: xhtml,\n  xlink: \"http://www.w3.org/1999/xlink\",\n  xml: \"http://www.w3.org/XML/1998/namespace\",\n  xmlns: \"http://www.w3.org/2000/xmlns/\"\n};\n","import namespaces from \"./namespaces\";\n\nexport default function(name) {\n  var prefix = name += \"\", i = prefix.indexOf(\":\");\n  if (i >= 0 && (prefix = name.slice(0, i)) !== \"xmlns\") name = name.slice(i + 1);\n  return namespaces.hasOwnProperty(prefix) ? {space: namespaces[prefix], local: name} : name;\n}\n","import namespace from \"./namespace\";\nimport {xhtml} from \"./namespaces\";\n\nfunction creatorInherit(name) {\n  return function() {\n    var document = this.ownerDocument,\n        uri = this.namespaceURI;\n    return uri === xhtml && document.documentElement.namespaceURI === xhtml\n        ? document.createElement(name)\n        : document.createElementNS(uri, name);\n  };\n}\n\nfunction creatorFixed(fullname) {\n  return function() {\n    return this.ownerDocument.createElementNS(fullname.space, fullname.local);\n  };\n}\n\nexport default function(name) {\n  var fullname = namespace(name);\n  return (fullname.local\n      ? creatorFixed\n      : creatorInherit)(fullname);\n}\n","var matcher = function(selector) {\n  return function() {\n    return this.matches(selector);\n  };\n};\n\nif (typeof document !== \"undefined\") {\n  var element = document.documentElement;\n  if (!element.matches) {\n    var vendorMatches = element.webkitMatchesSelector\n        || element.msMatchesSelector\n        || element.mozMatchesSelector\n        || element.oMatchesSelector;\n    matcher = function(selector) {\n      return function() {\n        return vendorMatches.call(this, selector);\n      };\n    };\n  }\n}\n\nexport default matcher;\n","var filterEvents = {};\n\nexport var event = null;\n\nif (typeof document !== \"undefined\") {\n  var element = document.documentElement;\n  if (!(\"onmouseenter\" in element)) {\n    filterEvents = {mouseenter: \"mouseover\", mouseleave: \"mouseout\"};\n  }\n}\n\nfunction filterContextListener(listener, index, group) {\n  listener = contextListener(listener, index, group);\n  return function(event) {\n    var related = event.relatedTarget;\n    if (!related || (related !== this && !(related.compareDocumentPosition(this) & 8))) {\n      listener.call(this, event);\n    }\n  };\n}\n\nfunction contextListener(listener, index, group) {\n  return function(event1) {\n    var event0 = event; // Events can be reentrant (e.g., focus).\n    event = event1;\n    try {\n      listener.call(this, this.__data__, index, group);\n    } finally {\n      event = event0;\n    }\n  };\n}\n\nfunction parseTypenames(typenames) {\n  return typenames.trim().split(/^|\\s+/).map(function(t) {\n    var name = \"\", i = t.indexOf(\".\");\n    if (i >= 0) name = t.slice(i + 1), t = t.slice(0, i);\n    return {type: t, name: name};\n  });\n}\n\nfunction onRemove(typename) {\n  return function() {\n    var on = this.__on;\n    if (!on) return;\n    for (var j = 0, i = -1, m = on.length, o; j < m; ++j) {\n      if (o = on[j], (!typename.type || o.type === typename.type) && o.name === typename.name) {\n        this.removeEventListener(o.type, o.listener, o.capture);\n      } else {\n        on[++i] = o;\n      }\n    }\n    if (++i) on.length = i;\n    else delete this.__on;\n  };\n}\n\nfunction onAdd(typename, value, capture) {\n  var wrap = filterEvents.hasOwnProperty(typename.type) ? filterContextListener : contextListener;\n  return function(d, i, group) {\n    var on = this.__on, o, listener = wrap(value, i, group);\n    if (on) for (var j = 0, m = on.length; j < m; ++j) {\n      if ((o = on[j]).type === typename.type && o.name === typename.name) {\n        this.removeEventListener(o.type, o.listener, o.capture);\n        this.addEventListener(o.type, o.listener = listener, o.capture = capture);\n        o.value = value;\n        return;\n      }\n    }\n    this.addEventListener(typename.type, listener, capture);\n    o = {type: typename.type, name: typename.name, value: value, listener: listener, capture: capture};\n    if (!on) this.__on = [o];\n    else on.push(o);\n  };\n}\n\nexport default function(typename, value, capture) {\n  var typenames = parseTypenames(typename + \"\"), i, n = typenames.length, t;\n\n  if (arguments.length < 2) {\n    var on = this.node().__on;\n    if (on) for (var j = 0, m = on.length, o; j < m; ++j) {\n      for (i = 0, o = on[j]; i < n; ++i) {\n        if ((t = typenames[i]).type === o.type && t.name === o.name) {\n          return o.value;\n        }\n      }\n    }\n    return;\n  }\n\n  on = value ? onAdd : onRemove;\n  if (capture == null) capture = false;\n  for (i = 0; i < n; ++i) this.each(on(typenames[i], value, capture));\n  return this;\n}\n\nexport function customEvent(event1, listener, that, args) {\n  var event0 = event;\n  event1.sourceEvent = event;\n  event = event1;\n  try {\n    return listener.apply(that, args);\n  } finally {\n    event = event0;\n  }\n}\n","function none() {}\n\nexport default function(selector) {\n  return selector == null ? none : function() {\n    return this.querySelector(selector);\n  };\n}\n","function empty() {\n  return [];\n}\n\nexport default function(selector) {\n  return selector == null ? empty : function() {\n    return this.querySelectorAll(selector);\n  };\n}\n","export default function(update) {\n  return new Array(update.length);\n}\n","import sparse from \"./sparse\";\nimport {Selection} from \"./index\";\n\nexport default function() {\n  return new Selection(this._enter || this._groups.map(sparse), this._parents);\n}\n\nexport function EnterNode(parent, datum) {\n  this.ownerDocument = parent.ownerDocument;\n  this.namespaceURI = parent.namespaceURI;\n  this._next = null;\n  this._parent = parent;\n  this.__data__ = datum;\n}\n\nEnterNode.prototype = {\n  constructor: EnterNode,\n  appendChild: function(child) { return this._parent.insertBefore(child, this._next); },\n  insertBefore: function(child, next) { return this._parent.insertBefore(child, next); },\n  querySelector: function(selector) { return this._parent.querySelector(selector); },\n  querySelectorAll: function(selector) { return this._parent.querySelectorAll(selector); }\n};\n","import {Selection} from \"./index\";\nimport {EnterNode} from \"./enter\";\nimport constant from \"../constant\";\n\nvar keyPrefix = \"$\"; // Protect against keys like __proto__.\n\nfunction bindIndex(parent, group, enter, update, exit, data) {\n  var i = 0,\n      node,\n      groupLength = group.length,\n      dataLength = data.length;\n\n  // Put any non-null nodes that fit into update.\n  // Put any null nodes into enter.\n  // Put any remaining data into enter.\n  for (; i < dataLength; ++i) {\n    if (node = group[i]) {\n      node.__data__ = data[i];\n      update[i] = node;\n    } else {\n      enter[i] = new EnterNode(parent, data[i]);\n    }\n  }\n\n  // Put any non-null nodes that dont fit into exit.\n  for (; i < groupLength; ++i) {\n    if (node = group[i]) {\n      exit[i] = node;\n    }\n  }\n}\n\nfunction bindKey(parent, group, enter, update, exit, data, key) {\n  var i,\n      node,\n      nodeByKeyValue = {},\n      groupLength = group.length,\n      dataLength = data.length,\n      keyValues = new Array(groupLength),\n      keyValue;\n\n  // Compute the key for each node.\n  // If multiple nodes have the same key, the duplicates are added to exit.\n  for (i = 0; i < groupLength; ++i) {\n    if (node = group[i]) {\n      keyValues[i] = keyValue = keyPrefix + key.call(node, node.__data__, i, group);\n      if (keyValue in nodeByKeyValue) {\n        exit[i] = node;\n      } else {\n        nodeByKeyValue[keyValue] = node;\n      }\n    }\n  }\n\n  // Compute the key for each datum.\n  // If there a node associated with this key, join and add it to update.\n  // If there is not (or the key is a duplicate), add it to enter.\n  for (i = 0; i < dataLength; ++i) {\n    keyValue = keyPrefix + key.call(parent, data[i], i, data);\n    if (node = nodeByKeyValue[keyValue]) {\n      update[i] = node;\n      node.__data__ = data[i];\n      nodeByKeyValue[keyValue] = null;\n    } else {\n      enter[i] = new EnterNode(parent, data[i]);\n    }\n  }\n\n  // Add any remaining nodes that were not bound to data to exit.\n  for (i = 0; i < groupLength; ++i) {\n    if ((node = group[i]) && (nodeByKeyValue[keyValues[i]] === node)) {\n      exit[i] = node;\n    }\n  }\n}\n\nexport default function(value, key) {\n  if (!value) {\n    data = new Array(this.size()), j = -1;\n    this.each(function(d) { data[++j] = d; });\n    return data;\n  }\n\n  var bind = key ? bindKey : bindIndex,\n      parents = this._parents,\n      groups = this._groups;\n\n  if (typeof value !== \"function\") value = constant(value);\n\n  for (var m = groups.length, update = new Array(m), enter = new Array(m), exit = new Array(m), j = 0; j < m; ++j) {\n    var parent = parents[j],\n        group = groups[j],\n        groupLength = group.length,\n        data = value.call(parent, parent && parent.__data__, j, parents),\n        dataLength = data.length,\n        enterGroup = enter[j] = new Array(dataLength),\n        updateGroup = update[j] = new Array(dataLength),\n        exitGroup = exit[j] = new Array(groupLength);\n\n    bind(parent, group, enterGroup, updateGroup, exitGroup, data, key);\n\n    // Now connect the enter nodes to their following update node, such that\n    // appendChild can insert the materialized enter node before this node,\n    // rather than at the end of the parent node.\n    for (var i0 = 0, i1 = 0, previous, next; i0 < dataLength; ++i0) {\n      if (previous = enterGroup[i0]) {\n        if (i0 >= i1) i1 = i0 + 1;\n        while (!(next = updateGroup[i1]) && ++i1 < dataLength);\n        previous._next = next || null;\n      }\n    }\n  }\n\n  update = new Selection(update, parents);\n  update._enter = enter;\n  update._exit = exit;\n  return update;\n}\n","import {Selection} from \"./index\";\n\nexport default function(compare) {\n  if (!compare) compare = ascending;\n\n  function compareNode(a, b) {\n    return a && b ? compare(a.__data__, b.__data__) : !a - !b;\n  }\n\n  for (var groups = this._groups, m = groups.length, sortgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, sortgroup = sortgroups[j] = new Array(n), node, i = 0; i < n; ++i) {\n      if (node = group[i]) {\n        sortgroup[i] = node;\n      }\n    }\n    sortgroup.sort(compareNode);\n  }\n\n  return new Selection(sortgroups, this._parents).order();\n}\n\nfunction ascending(a, b) {\n  return a < b ? -1 : a > b ? 1 : a >= b ? 0 : NaN;\n}\n","import namespace from \"../namespace\";\n\nfunction attrRemove(name) {\n  return function() {\n    this.removeAttribute(name);\n  };\n}\n\nfunction attrRemoveNS(fullname) {\n  return function() {\n    this.removeAttributeNS(fullname.space, fullname.local);\n  };\n}\n\nfunction attrConstant(name, value) {\n  return function() {\n    this.setAttribute(name, value);\n  };\n}\n\nfunction attrConstantNS(fullname, value) {\n  return function() {\n    this.setAttributeNS(fullname.space, fullname.local, value);\n  };\n}\n\nfunction attrFunction(name, value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    if (v == null) this.removeAttribute(name);\n    else this.setAttribute(name, v);\n  };\n}\n\nfunction attrFunctionNS(fullname, value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    if (v == null) this.removeAttributeNS(fullname.space, fullname.local);\n    else this.setAttributeNS(fullname.space, fullname.local, v);\n  };\n}\n\nexport default function(name, value) {\n  var fullname = namespace(name);\n\n  if (arguments.length < 2) {\n    var node = this.node();\n    return fullname.local\n        ? node.getAttributeNS(fullname.space, fullname.local)\n        : node.getAttribute(fullname);\n  }\n\n  return this.each((value == null\n      ? (fullname.local ? attrRemoveNS : attrRemove) : (typeof value === \"function\"\n      ? (fullname.local ? attrFunctionNS : attrFunction)\n      : (fullname.local ? attrConstantNS : attrConstant)))(fullname, value));\n}\n","export default function(node) {\n  return (node.ownerDocument && node.ownerDocument.defaultView) // node is a Node\n      || (node.document && node) // node is a Window\n      || node.defaultView; // node is a Document\n}\n","import defaultView from \"../window\";\n\nfunction styleRemove(name) {\n  return function() {\n    this.style.removeProperty(name);\n  };\n}\n\nfunction styleConstant(name, value, priority) {\n  return function() {\n    this.style.setProperty(name, value, priority);\n  };\n}\n\nfunction styleFunction(name, value, priority) {\n  return function() {\n    var v = value.apply(this, arguments);\n    if (v == null) this.style.removeProperty(name);\n    else this.style.setProperty(name, v, priority);\n  };\n}\n\nexport default function(name, value, priority) {\n  var node;\n  return arguments.length > 1\n      ? this.each((value == null\n            ? styleRemove : typeof value === \"function\"\n            ? styleFunction\n            : styleConstant)(name, value, priority == null ? \"\" : priority))\n      : defaultView(node = this.node())\n          .getComputedStyle(node, null)\n          .getPropertyValue(name);\n}\n","function propertyRemove(name) {\n  return function() {\n    delete this[name];\n  };\n}\n\nfunction propertyConstant(name, value) {\n  return function() {\n    this[name] = value;\n  };\n}\n\nfunction propertyFunction(name, value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    if (v == null) delete this[name];\n    else this[name] = v;\n  };\n}\n\nexport default function(name, value) {\n  return arguments.length > 1\n      ? this.each((value == null\n          ? propertyRemove : typeof value === \"function\"\n          ? propertyFunction\n          : propertyConstant)(name, value))\n      : this.node()[name];\n}\n","function classArray(string) {\n  return string.trim().split(/^|\\s+/);\n}\n\nfunction classList(node) {\n  return node.classList || new ClassList(node);\n}\n\nfunction ClassList(node) {\n  this._node = node;\n  this._names = classArray(node.getAttribute(\"class\") || \"\");\n}\n\nClassList.prototype = {\n  add: function(name) {\n    var i = this._names.indexOf(name);\n    if (i < 0) {\n      this._names.push(name);\n      this._node.setAttribute(\"class\", this._names.join(\" \"));\n    }\n  },\n  remove: function(name) {\n    var i = this._names.indexOf(name);\n    if (i >= 0) {\n      this._names.splice(i, 1);\n      this._node.setAttribute(\"class\", this._names.join(\" \"));\n    }\n  },\n  contains: function(name) {\n    return this._names.indexOf(name) >= 0;\n  }\n};\n\nfunction classedAdd(node, names) {\n  var list = classList(node), i = -1, n = names.length;\n  while (++i < n) list.add(names[i]);\n}\n\nfunction classedRemove(node, names) {\n  var list = classList(node), i = -1, n = names.length;\n  while (++i < n) list.remove(names[i]);\n}\n\nfunction classedTrue(names) {\n  return function() {\n    classedAdd(this, names);\n  };\n}\n\nfunction classedFalse(names) {\n  return function() {\n    classedRemove(this, names);\n  };\n}\n\nfunction classedFunction(names, value) {\n  return function() {\n    (value.apply(this, arguments) ? classedAdd : classedRemove)(this, names);\n  };\n}\n\nexport default function(name, value) {\n  var names = classArray(name + \"\");\n\n  if (arguments.length < 2) {\n    var list = classList(this.node()), i = -1, n = names.length;\n    while (++i < n) if (!list.contains(names[i])) return false;\n    return true;\n  }\n\n  return this.each((typeof value === \"function\"\n      ? classedFunction : value\n      ? classedTrue\n      : classedFalse)(names, value));\n}\n","function textRemove() {\n  this.textContent = \"\";\n}\n\nfunction textConstant(value) {\n  return function() {\n    this.textContent = value;\n  };\n}\n\nfunction textFunction(value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    this.textContent = v == null ? \"\" : v;\n  };\n}\n\nexport default function(value) {\n  return arguments.length\n      ? this.each(value == null\n          ? textRemove : (typeof value === \"function\"\n          ? textFunction\n          : textConstant)(value))\n      : this.node().textContent;\n}\n","function htmlRemove() {\n  this.innerHTML = \"\";\n}\n\nfunction htmlConstant(value) {\n  return function() {\n    this.innerHTML = value;\n  };\n}\n\nfunction htmlFunction(value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    this.innerHTML = v == null ? \"\" : v;\n  };\n}\n\nexport default function(value) {\n  return arguments.length\n      ? this.each(value == null\n          ? htmlRemove : (typeof value === \"function\"\n          ? htmlFunction\n          : htmlConstant)(value))\n      : this.node().innerHTML;\n}\n","function raise() {\n  if (this.nextSibling) this.parentNode.appendChild(this);\n}\n\nexport default function() {\n  return this.each(raise);\n}\n","function lower() {\n  if (this.previousSibling) this.parentNode.insertBefore(this, this.parentNode.firstChild);\n}\n\nexport default function() {\n  return this.each(lower);\n}\n","import creator from \"../creator\";\nimport selector from \"../selector\";\n\nfunction constantNull() {\n  return null;\n}\n\nexport default function(name, before) {\n  var create = typeof name === \"function\" ? name : creator(name),\n      select = before == null ? constantNull : typeof before === \"function\" ? before : selector(before);\n  return this.select(function() {\n    return this.insertBefore(create.apply(this, arguments), select.apply(this, arguments) || null);\n  });\n}\n","function remove() {\n  var parent = this.parentNode;\n  if (parent) parent.removeChild(this);\n}\n\nexport default function() {\n  return this.each(remove);\n}\n","import defaultView from \"../window\";\n\nfunction dispatchEvent(node, type, params) {\n  var window = defaultView(node),\n      event = window.CustomEvent;\n\n  if (event) {\n    event = new event(type, params);\n  } else {\n    event = window.document.createEvent(\"Event\");\n    if (params) event.initEvent(type, params.bubbles, params.cancelable), event.detail = params.detail;\n    else event.initEvent(type, false, false);\n  }\n\n  node.dispatchEvent(event);\n}\n\nfunction dispatchConstant(type, params) {\n  return function() {\n    return dispatchEvent(this, type, params);\n  };\n}\n\nfunction dispatchFunction(type, params) {\n  return function() {\n    return dispatchEvent(this, type, params.apply(this, arguments));\n  };\n}\n\nexport default function(type, params) {\n  return this.each((typeof params === \"function\"\n      ? dispatchFunction\n      : dispatchConstant)(type, params));\n}\n","import selection_select from \"./select\";\nimport selection_selectAll from \"./selectAll\";\nimport selection_filter from \"./filter\";\nimport selection_data from \"./data\";\nimport selection_enter from \"./enter\";\nimport selection_exit from \"./exit\";\nimport selection_merge from \"./merge\";\nimport selection_order from \"./order\";\nimport selection_sort from \"./sort\";\nimport selection_call from \"./call\";\nimport selection_nodes from \"./nodes\";\nimport selection_node from \"./node\";\nimport selection_size from \"./size\";\nimport selection_empty from \"./empty\";\nimport selection_each from \"./each\";\nimport selection_attr from \"./attr\";\nimport selection_style from \"./style\";\nimport selection_property from \"./property\";\nimport selection_classed from \"./classed\";\nimport selection_text from \"./text\";\nimport selection_html from \"./html\";\nimport selection_raise from \"./raise\";\nimport selection_lower from \"./lower\";\nimport selection_append from \"./append\";\nimport selection_insert from \"./insert\";\nimport selection_remove from \"./remove\";\nimport selection_datum from \"./datum\";\nimport selection_on from \"./on\";\nimport selection_dispatch from \"./dispatch\";\n\nexport var root = [null];\n\nexport function Selection(groups, parents) {\n  this._groups = groups;\n  this._parents = parents;\n}\n\nfunction selection() {\n  return new Selection([[document.documentElement]], root);\n}\n\nSelection.prototype = selection.prototype = {\n  constructor: Selection,\n  select: selection_select,\n  selectAll: selection_selectAll,\n  filter: selection_filter,\n  data: selection_data,\n  enter: selection_enter,\n  exit: selection_exit,\n  merge: selection_merge,\n  order: selection_order,\n  sort: selection_sort,\n  call: selection_call,\n  nodes: selection_nodes,\n  node: selection_node,\n  size: selection_size,\n  empty: selection_empty,\n  each: selection_each,\n  attr: selection_attr,\n  style: selection_style,\n  property: selection_property,\n  classed: selection_classed,\n  text: selection_text,\n  html: selection_html,\n  raise: selection_raise,\n  lower: selection_lower,\n  append: selection_append,\n  insert: selection_insert,\n  remove: selection_remove,\n  datum: selection_datum,\n  on: selection_on,\n  dispatch: selection_dispatch\n};\n\nexport default selection;\n","import formatDecimal from \"./formatDecimal\";\n\nexport var prefixExponent;\n\nexport default function(x, p) {\n  var d = formatDecimal(x, p);\n  if (!d) return x + \"\";\n  var coefficient = d[0],\n      exponent = d[1],\n      i = exponent - (prefixExponent = Math.max(-8, Math.min(8, Math.floor(exponent / 3))) * 3) + 1,\n      n = coefficient.length;\n  return i === n ? coefficient\n      : i > n ? coefficient + new Array(i - n + 1).join(\"0\")\n      : i > 0 ? coefficient.slice(0, i) + \".\" + coefficient.slice(i)\n      : \"0.\" + new Array(1 - i).join(\"0\") + formatDecimal(x, Math.max(0, p + i - 1))[0]; // less than 1y!\n}\n","// Computes the decimal coefficient and exponent of the specified number x with\n// significant digits p, where x is positive and p is in [1, 21] or undefined.\n// For example, formatDecimal(1.23) returns [\"123\", 0].\nexport default function(x, p) {\n  if ((i = (x = p ? x.toExponential(p - 1) : x.toExponential()).indexOf(\"e\")) < 0) return null; // NaN, Infinity\n  var i, coefficient = x.slice(0, i);\n\n  // The string returned by toExponential either has the form \\d\\.\\d+e[-+]\\d+\n  // (e.g., 1.2e+3) or the form \\de[-+]\\d+ (e.g., 1e+3).\n  return [\n    coefficient.length > 1 ? coefficient[0] + coefficient.slice(2) : coefficient,\n    +x.slice(i + 1)\n  ];\n}\n","import formatDecimal from \"./formatDecimal\";\n\nexport default function(x, p) {\n  var d = formatDecimal(x, p);\n  if (!d) return x + \"\";\n  var coefficient = d[0],\n      exponent = d[1];\n  return exponent < 0 ? \"0.\" + new Array(-exponent).join(\"0\") + coefficient\n      : coefficient.length > exponent + 1 ? coefficient.slice(0, exponent + 1) + \".\" + coefficient.slice(exponent + 1)\n      : coefficient + new Array(exponent - coefficient.length + 2).join(\"0\");\n}\n","import {Selection} from \"./index\";\nimport selector from \"../selector\";\n\nexport default function(select) {\n  if (typeof select !== \"function\") select = selector(select);\n\n  for (var groups = this._groups, m = groups.length, subgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, subgroup = subgroups[j] = new Array(n), node, subnode, i = 0; i < n; ++i) {\n      if ((node = group[i]) && (subnode = select.call(node, node.__data__, i, group))) {\n        if (\"__data__\" in node) subnode.__data__ = node.__data__;\n        subgroup[i] = subnode;\n      }\n    }\n  }\n\n  return new Selection(subgroups, this._parents);\n}\n","import {Selection} from \"./index\";\nimport selectorAll from \"../selectorAll\";\n\nexport default function(select) {\n  if (typeof select !== \"function\") select = selectorAll(select);\n\n  for (var groups = this._groups, m = groups.length, subgroups = [], parents = [], j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, node, i = 0; i < n; ++i) {\n      if (node = group[i]) {\n        subgroups.push(select.call(node, node.__data__, i, group));\n        parents.push(node);\n      }\n    }\n  }\n\n  return new Selection(subgroups, parents);\n}\n","import {Selection} from \"./index\";\nimport matcher from \"../matcher\";\n\nexport default function(match) {\n  if (typeof match !== \"function\") match = matcher(match);\n\n  for (var groups = this._groups, m = groups.length, subgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, subgroup = subgroups[j] = [], node, i = 0; i < n; ++i) {\n      if ((node = group[i]) && match.call(node, node.__data__, i, group)) {\n        subgroup.push(node);\n      }\n    }\n  }\n\n  return new Selection(subgroups, this._parents);\n}\n","export default function(x) {\n  return function() {\n    return x;\n  };\n}\n","import sparse from \"./sparse\";\nimport {Selection} from \"./index\";\n\nexport default function() {\n  return new Selection(this._exit || this._groups.map(sparse), this._parents);\n}\n","import {Selection} from \"./index\";\n\nexport default function(selection) {\n\n  for (var groups0 = this._groups, groups1 = selection._groups, m0 = groups0.length, m1 = groups1.length, m = Math.min(m0, m1), merges = new Array(m0), j = 0; j < m; ++j) {\n    for (var group0 = groups0[j], group1 = groups1[j], n = group0.length, merge = merges[j] = new Array(n), node, i = 0; i < n; ++i) {\n      if (node = group0[i] || group1[i]) {\n        merge[i] = node;\n      }\n    }\n  }\n\n  for (; j < m0; ++j) {\n    merges[j] = groups0[j];\n  }\n\n  return new Selection(merges, this._parents);\n}\n","export default function() {\n\n  for (var groups = this._groups, j = -1, m = groups.length; ++j < m;) {\n    for (var group = groups[j], i = group.length - 1, next = group[i], node; --i >= 0;) {\n      if (node = group[i]) {\n        if (next && next !== node.nextSibling) next.parentNode.insertBefore(node, next);\n        next = node;\n      }\n    }\n  }\n\n  return this;\n}\n","export default function() {\n  var callback = arguments[0];\n  arguments[0] = this;\n  callback.apply(null, arguments);\n  return this;\n}\n","export default function() {\n  var nodes = new Array(this.size()), i = -1;\n  this.each(function() { nodes[++i] = this; });\n  return nodes;\n}\n","export default function() {\n\n  for (var groups = this._groups, j = 0, m = groups.length; j < m; ++j) {\n    for (var group = groups[j], i = 0, n = group.length; i < n; ++i) {\n      var node = group[i];\n      if (node) return node;\n    }\n  }\n\n  return null;\n}\n","export default function() {\n  var size = 0;\n  this.each(function() { ++size; });\n  return size;\n}\n","export default function() {\n  return !this.node();\n}\n","export default function(callback) {\n\n  for (var groups = this._groups, j = 0, m = groups.length; j < m; ++j) {\n    for (var group = groups[j], i = 0, n = group.length, node; i < n; ++i) {\n      if (node = group[i]) callback.call(node, node.__data__, i, group);\n    }\n  }\n\n  return this;\n}\n","import creator from \"../creator\";\n\nexport default function(name) {\n  var create = typeof name === \"function\" ? name : creator(name);\n  return this.select(function() {\n    return this.appendChild(create.apply(this, arguments));\n  });\n}\n","export default function(value) {\n  return arguments.length\n      ? this.property(\"__data__\", value)\n      : this.node().__data__;\n}\n","import formatDefault from \"./formatDefault\";\nimport formatPrefixAuto from \"./formatPrefixAuto\";\nimport formatRounded from \"./formatRounded\";\n\nexport default {\n  \"\": formatDefault,\n  \"%\": function(x, p) { return (x * 100).toFixed(p); },\n  \"b\": function(x) { return Math.round(x).toString(2); },\n  \"c\": function(x) { return x + \"\"; },\n  \"d\": function(x) { return Math.round(x).toString(10); },\n  \"e\": function(x, p) { return x.toExponential(p); },\n  \"f\": function(x, p) { return x.toFixed(p); },\n  \"g\": function(x, p) { return x.toPrecision(p); },\n  \"o\": function(x) { return Math.round(x).toString(8); },\n  \"p\": function(x, p) { return formatRounded(x * 100, p); },\n  \"r\": formatRounded,\n  \"s\": formatPrefixAuto,\n  \"X\": function(x) { return Math.round(x).toString(16).toUpperCase(); },\n  \"x\": function(x) { return Math.round(x).toString(16); }\n};\n","export default function(x, p) {\n  x = x.toPrecision(p);\n\n  out: for (var n = x.length, i = 1, i0 = -1, i1; i < n; ++i) {\n    switch (x[i]) {\n      case \".\": i0 = i1 = i; break;\n      case \"0\": if (i0 === 0) i0 = i; i1 = i; break;\n      case \"e\": break out;\n      default: if (i0 > 0) i0 = 0; break;\n    }\n  }\n\n  return i0 > 0 ? x.slice(0, i0) + x.slice(i1 + 1) : x;\n}\n","import formatTypes from \"./formatTypes\";\n\n// [[fill]align][sign][symbol][0][width][,][.precision][type]\nvar re = /^(?:(.)?([<>=^]))?([+\\-\\( ])?([$#])?(0)?(\\d+)?(,)?(\\.\\d+)?([a-z%])?$/i;\n\nexport default function(specifier) {\n  return new FormatSpecifier(specifier);\n}\n\nfunction FormatSpecifier(specifier) {\n  if (!(match = re.exec(specifier))) throw new Error(\"invalid format: \" + specifier);\n\n  var match,\n      fill = match[1] || \" \",\n      align = match[2] || \">\",\n      sign = match[3] || \"-\",\n      symbol = match[4] || \"\",\n      zero = !!match[5],\n      width = match[6] && +match[6],\n      comma = !!match[7],\n      precision = match[8] && +match[8].slice(1),\n      type = match[9] || \"\";\n\n  // The \"n\" type is an alias for \",g\".\n  if (type === \"n\") comma = true, type = \"g\";\n\n  // Map invalid types to the default format.\n  else if (!formatTypes[type]) type = \"\";\n\n  // If zero fill is specified, padding goes after sign and before digits.\n  if (zero || (fill === \"0\" && align === \"=\")) zero = true, fill = \"0\", align = \"=\";\n\n  this.fill = fill;\n  this.align = align;\n  this.sign = sign;\n  this.symbol = symbol;\n  this.zero = zero;\n  this.width = width;\n  this.comma = comma;\n  this.precision = precision;\n  this.type = type;\n}\n\nFormatSpecifier.prototype.toString = function() {\n  return this.fill\n      + this.align\n      + this.sign\n      + this.symbol\n      + (this.zero ? \"0\" : \"\")\n      + (this.width == null ? \"\" : Math.max(1, this.width | 0))\n      + (this.comma ? \",\" : \"\")\n      + (this.precision == null ? \"\" : \".\" + Math.max(0, this.precision | 0))\n      + this.type;\n};\n","import exponent from \"./exponent\";\nimport formatGroup from \"./formatGroup\";\nimport formatSpecifier from \"./formatSpecifier\";\nimport formatTypes from \"./formatTypes\";\nimport {prefixExponent} from \"./formatPrefixAuto\";\n\nvar prefixes = [\"y\",\"z\",\"a\",\"f\",\"p\",\"n\",\"\",\"m\",\"\",\"k\",\"M\",\"G\",\"T\",\"P\",\"E\",\"Z\",\"Y\"];\n\nfunction identity(x) {\n  return x;\n}\n\nexport default function(locale) {\n  var group = locale.grouping && locale.thousands ? formatGroup(locale.grouping, locale.thousands) : identity,\n      currency = locale.currency,\n      decimal = locale.decimal;\n\n  function newFormat(specifier) {\n    specifier = formatSpecifier(specifier);\n\n    var fill = specifier.fill,\n        align = specifier.align,\n        sign = specifier.sign,\n        symbol = specifier.symbol,\n        zero = specifier.zero,\n        width = specifier.width,\n        comma = specifier.comma,\n        precision = specifier.precision,\n        type = specifier.type;\n\n    // Compute the prefix and suffix.\n    // For SI-prefix, the suffix is lazily computed.\n    var prefix = symbol === \"$\" ? currency[0] : symbol === \"#\" && /[boxX]/.test(type) ? \"0\" + type.toLowerCase() : \"\",\n        suffix = symbol === \"$\" ? currency[1] : /[%p]/.test(type) ? \"%\" : \"\";\n\n    // What format function should we use?\n    // Is this an integer type?\n    // Can this type generate exponential notation?\n    var formatType = formatTypes[type],\n        maybeSuffix = !type || /[defgprs%]/.test(type);\n\n    // Set the default precision if not specified,\n    // or clamp the specified precision to the supported range.\n    // For significant precision, it must be in [1, 21].\n    // For fixed precision, it must be in [0, 20].\n    precision = precision == null ? (type ? 6 : 12)\n        : /[gprs]/.test(type) ? Math.max(1, Math.min(21, precision))\n        : Math.max(0, Math.min(20, precision));\n\n    function format(value) {\n      var valuePrefix = prefix,\n          valueSuffix = suffix,\n          i, n, c;\n\n      if (type === \"c\") {\n        valueSuffix = formatType(value) + valueSuffix;\n        value = \"\";\n      } else {\n        value = +value;\n\n        // Convert negative to positive, and compute the prefix.\n        // Note that -0 is not less than 0, but 1 / -0 is!\n        var valueNegative = (value < 0 || 1 / value < 0) && (value *= -1, true);\n\n        // Perform the initial formatting.\n        value = formatType(value, precision);\n\n        // If the original value was negative, it may be rounded to zero during\n        // formatting; treat this as (positive) zero.\n        if (valueNegative) {\n          i = -1, n = value.length;\n          valueNegative = false;\n          while (++i < n) {\n            if (c = value.charCodeAt(i), (48 < c && c < 58)\n                || (type === \"x\" && 96 < c && c < 103)\n                || (type === \"X\" && 64 < c && c < 71)) {\n              valueNegative = true;\n              break;\n            }\n          }\n        }\n\n        // Compute the prefix and suffix.\n        valuePrefix = (valueNegative ? (sign === \"(\" ? sign : \"-\") : sign === \"-\" || sign === \"(\" ? \"\" : sign) + valuePrefix;\n        valueSuffix = valueSuffix + (type === \"s\" ? prefixes[8 + prefixExponent / 3] : \"\") + (valueNegative && sign === \"(\" ? \")\" : \"\");\n\n        // Break the formatted value into the integer value part that can be\n        // grouped, and fractional or exponential suffix part that is not.\n        if (maybeSuffix) {\n          i = -1, n = value.length;\n          while (++i < n) {\n            if (c = value.charCodeAt(i), 48 > c || c > 57) {\n              valueSuffix = (c === 46 ? decimal + value.slice(i + 1) : value.slice(i)) + valueSuffix;\n              value = value.slice(0, i);\n              break;\n            }\n          }\n        }\n      }\n\n      // If the fill character is not \"0\", grouping is applied before padding.\n      if (comma && !zero) value = group(value, Infinity);\n\n      // Compute the padding.\n      var length = valuePrefix.length + value.length + valueSuffix.length,\n          padding = length < width ? new Array(width - length + 1).join(fill) : \"\";\n\n      // If the fill character is \"0\", grouping is applied after padding.\n      if (comma && zero) value = group(padding + value, padding.length ? width - valueSuffix.length : Infinity), padding = \"\";\n\n      // Reconstruct the final output based on the desired alignment.\n      switch (align) {\n        case \"<\": return valuePrefix + value + valueSuffix + padding;\n        case \"=\": return valuePrefix + padding + value + valueSuffix;\n        case \"^\": return padding.slice(0, length = padding.length >> 1) + valuePrefix + value + valueSuffix + padding.slice(length);\n      }\n      return padding + valuePrefix + value + valueSuffix;\n    }\n\n    format.toString = function() {\n      return specifier + \"\";\n    };\n\n    return format;\n  }\n\n  function formatPrefix(specifier, value) {\n    var f = newFormat((specifier = formatSpecifier(specifier), specifier.type = \"f\", specifier)),\n        e = Math.max(-8, Math.min(8, Math.floor(exponent(value) / 3))) * 3,\n        k = Math.pow(10, -e),\n        prefix = prefixes[8 + e / 3];\n    return function(value) {\n      return f(k * value) + prefix;\n    };\n  }\n\n  return {\n    format: newFormat,\n    formatPrefix: formatPrefix\n  };\n}\n","import formatLocale from \"./locale\";\n\nvar locale;\nexport var format;\nexport var formatPrefix;\n\ndefaultLocale({\n  decimal: \".\",\n  thousands: \",\",\n  grouping: [3],\n  currency: [\"$\", \"\"]\n});\n\nexport default function defaultLocale(definition) {\n  locale = formatLocale(definition);\n  format = locale.format;\n  formatPrefix = locale.formatPrefix;\n  return locale;\n}\n","export default function(grouping, thousands) {\n  return function(value, width) {\n    var i = value.length,\n        t = [],\n        j = 0,\n        g = grouping[0],\n        length = 0;\n\n    while (i > 0 && g > 0) {\n      if (length + g + 1 > width) g = Math.max(1, width - length);\n      t.push(value.substring(i -= g, i + g));\n      if ((length += g + 1) > width) break;\n      g = grouping[j = (j + 1) % grouping.length];\n    }\n\n    return t.reverse().join(thousands);\n  };\n}\n","import formatDecimal from \"./formatDecimal\";\n\nexport default function(x) {\n  return x = formatDecimal(Math.abs(x)), x ? x[1] : NaN;\n}\n","var noop = {value: function() {}};\n\nfunction dispatch() {\n  for (var i = 0, n = arguments.length, _ = {}, t; i < n; ++i) {\n    if (!(t = arguments[i] + \"\") || (t in _)) throw new Error(\"illegal type: \" + t);\n    _[t] = [];\n  }\n  return new Dispatch(_);\n}\n\nfunction Dispatch(_) {\n  this._ = _;\n}\n\nfunction parseTypenames(typenames, types) {\n  return typenames.trim().split(/^|\\s+/).map(function(t) {\n    var name = \"\", i = t.indexOf(\".\");\n    if (i >= 0) name = t.slice(i + 1), t = t.slice(0, i);\n    if (t && !types.hasOwnProperty(t)) throw new Error(\"unknown type: \" + t);\n    return {type: t, name: name};\n  });\n}\n\nDispatch.prototype = dispatch.prototype = {\n  constructor: Dispatch,\n  on: function(typename, callback) {\n    var _ = this._,\n        T = parseTypenames(typename + \"\", _),\n        t,\n        i = -1,\n        n = T.length;\n\n    // If no callback was specified, return the callback of the given type and name.\n    if (arguments.length < 2) {\n      while (++i < n) if ((t = (typename = T[i]).type) && (t = get(_[t], typename.name))) return t;\n      return;\n    }\n\n    // If a type was specified, set the callback for the given type and name.\n    // Otherwise, if a null callback was specified, remove callbacks of the given name.\n    if (callback != null && typeof callback !== \"function\") throw new Error(\"invalid callback: \" + callback);\n    while (++i < n) {\n      if (t = (typename = T[i]).type) _[t] = set(_[t], typename.name, callback);\n      else if (callback == null) for (t in _) _[t] = set(_[t], typename.name, null);\n    }\n\n    return this;\n  },\n  copy: function() {\n    var copy = {}, _ = this._;\n    for (var t in _) copy[t] = _[t].slice();\n    return new Dispatch(copy);\n  },\n  call: function(type, that) {\n    if ((n = arguments.length - 2) > 0) for (var args = new Array(n), i = 0, n, t; i < n; ++i) args[i] = arguments[i + 2];\n    if (!this._.hasOwnProperty(type)) throw new Error(\"unknown type: \" + type);\n    for (t = this._[type], i = 0, n = t.length; i < n; ++i) t[i].value.apply(that, args);\n  },\n  apply: function(type, that, args) {\n    if (!this._.hasOwnProperty(type)) throw new Error(\"unknown type: \" + type);\n    for (var t = this._[type], i = 0, n = t.length; i < n; ++i) t[i].value.apply(that, args);\n  }\n};\n\nfunction get(type, name) {\n  for (var i = 0, n = type.length, c; i < n; ++i) {\n    if ((c = type[i]).name === name) {\n      return c.value;\n    }\n  }\n}\n\nfunction set(type, name, callback) {\n  for (var i = 0, n = type.length; i < n; ++i) {\n    if (type[i].name === name) {\n      type[i] = noop, type = type.slice(0, i).concat(type.slice(i + 1));\n      break;\n    }\n  }\n  if (callback != null) type.push({name: name, value: callback});\n  return type;\n}\n\nexport default dispatch;\n","export default function(a, b) {\n  return a < b ? -1 : a > b ? 1 : a >= b ? 0 : NaN;\n}\n","import ascending from \"./ascending\";\nimport bisector from \"./bisector\";\n\nvar ascendingBisect = bisector(ascending);\nexport var bisectRight = ascendingBisect.right;\nexport var bisectLeft = ascendingBisect.left;\nexport default bisectRight;\n","import ascending from \"./ascending\";\n\nexport default function(compare) {\n  if (compare.length === 1) compare = ascendingComparator(compare);\n  return {\n    left: function(a, x, lo, hi) {\n      if (lo == null) lo = 0;\n      if (hi == null) hi = a.length;\n      while (lo < hi) {\n        var mid = lo + hi >>> 1;\n        if (compare(a[mid], x) < 0) lo = mid + 1;\n        else hi = mid;\n      }\n      return lo;\n    },\n    right: function(a, x, lo, hi) {\n      if (lo == null) lo = 0;\n      if (hi == null) hi = a.length;\n      while (lo < hi) {\n        var mid = lo + hi >>> 1;\n        if (compare(a[mid], x) > 0) hi = mid;\n        else lo = mid + 1;\n      }\n      return lo;\n    }\n  };\n}\n\nfunction ascendingComparator(f) {\n  return function(d, x) {\n    return ascending(f(d), x);\n  };\n}\n","var e10 = Math.sqrt(50),\n    e5 = Math.sqrt(10),\n    e2 = Math.sqrt(2);\n\nexport default function(start, stop, count) {\n  var reverse,\n      i = -1,\n      n,\n      ticks,\n      step;\n\n  stop = +stop, start = +start, count = +count;\n  if (start === stop && count > 0) return [start];\n  if (reverse = stop < start) n = start, start = stop, stop = n;\n  if ((step = tickIncrement(start, stop, count)) === 0 || !isFinite(step)) return [];\n\n  if (step > 0) {\n    start = Math.ceil(start / step);\n    stop = Math.floor(stop / step);\n    ticks = new Array(n = Math.ceil(stop - start + 1));\n    while (++i < n) ticks[i] = (start + i) * step;\n  } else {\n    start = Math.floor(start * step);\n    stop = Math.ceil(stop * step);\n    ticks = new Array(n = Math.ceil(start - stop + 1));\n    while (++i < n) ticks[i] = (start - i) / step;\n  }\n\n  if (reverse) ticks.reverse();\n\n  return ticks;\n}\n\nexport function tickIncrement(start, stop, count) {\n  var step = (stop - start) / Math.max(0, count),\n      power = Math.floor(Math.log(step) / Math.LN10),\n      error = step / Math.pow(10, power);\n  return power >= 0\n      ? (error >= e10 ? 10 : error >= e5 ? 5 : error >= e2 ? 2 : 1) * Math.pow(10, power)\n      : -Math.pow(10, -power) / (error >= e10 ? 10 : error >= e5 ? 5 : error >= e2 ? 2 : 1);\n}\n\nexport function tickStep(start, stop, count) {\n  var step0 = Math.abs(stop - start) / Math.max(0, count),\n      step1 = Math.pow(10, Math.floor(Math.log(step0) / Math.LN10)),\n      error = step0 / step1;\n  if (error >= e10) step1 *= 10;\n  else if (error >= e5) step1 *= 5;\n  else if (error >= e2) step1 *= 2;\n  return stop < start ? -step1 : step1;\n}\n","export var prefix = \"$\";\n\nfunction Map() {}\n\nMap.prototype = map.prototype = {\n  constructor: Map,\n  has: function(key) {\n    return (prefix + key) in this;\n  },\n  get: function(key) {\n    return this[prefix + key];\n  },\n  set: function(key, value) {\n    this[prefix + key] = value;\n    return this;\n  },\n  remove: function(key) {\n    var property = prefix + key;\n    return property in this && delete this[property];\n  },\n  clear: function() {\n    for (var property in this) if (property[0] === prefix) delete this[property];\n  },\n  keys: function() {\n    var keys = [];\n    for (var property in this) if (property[0] === prefix) keys.push(property.slice(1));\n    return keys;\n  },\n  values: function() {\n    var values = [];\n    for (var property in this) if (property[0] === prefix) values.push(this[property]);\n    return values;\n  },\n  entries: function() {\n    var entries = [];\n    for (var property in this) if (property[0] === prefix) entries.push({key: property.slice(1), value: this[property]});\n    return entries;\n  },\n  size: function() {\n    var size = 0;\n    for (var property in this) if (property[0] === prefix) ++size;\n    return size;\n  },\n  empty: function() {\n    for (var property in this) if (property[0] === prefix) return false;\n    return true;\n  },\n  each: function(f) {\n    for (var property in this) if (property[0] === prefix) f(this[property], property.slice(1), this);\n  }\n};\n\nfunction map(object, f) {\n  var map = new Map;\n\n  // Copy constructor.\n  if (object instanceof Map) object.each(function(value, key) { map.set(key, value); });\n\n  // Index array by numeric index or specified key function.\n  else if (Array.isArray(object)) {\n    var i = -1,\n        n = object.length,\n        o;\n\n    if (f == null) while (++i < n) map.set(i, object[i]);\n    else while (++i < n) map.set(f(o = object[i], i, object), o);\n  }\n\n  // Convert object to map.\n  else if (object) for (var key in object) map.set(key, object[key]);\n\n  return map;\n}\n\nexport default map;\n","import {default as map, prefix} from \"./map\";\n\nfunction Set() {}\n\nvar proto = map.prototype;\n\nSet.prototype = set.prototype = {\n  constructor: Set,\n  has: proto.has,\n  add: function(value) {\n    value += \"\";\n    this[prefix + value] = value;\n    return this;\n  },\n  remove: proto.remove,\n  clear: proto.clear,\n  values: proto.keys,\n  size: proto.size,\n  empty: proto.empty,\n  each: proto.each\n};\n\nfunction set(object, f) {\n  var set = new Set;\n\n  // Copy constructor.\n  if (object instanceof Set) object.each(function(value) { set.add(value); });\n\n  // Otherwise, assume its an array.\n  else if (object) {\n    var i = -1, n = object.length;\n    if (f == null) while (++i < n) set.add(object[i]);\n    else while (++i < n) set.add(f(object[i], i, object));\n  }\n\n  return set;\n}\n\nexport default set;\n","var array = Array.prototype;\n\nexport var map = array.map;\nexport var slice = array.slice;\n","export default function(x) {\n  return +x;\n}\n","import {bisect} from \"d3-array\";\nimport {interpolate as interpolateValue, interpolateRound} from \"d3-interpolate\";\nimport {map, slice} from \"./array\";\nimport constant from \"./constant\";\nimport number from \"./number\";\n\nvar unit = [0, 1];\n\nexport function deinterpolateLinear(a, b) {\n  return (b -= (a = +a))\n      ? function(x) { return (x - a) / b; }\n      : constant(b);\n}\n\nfunction deinterpolateClamp(deinterpolate) {\n  return function(a, b) {\n    var d = deinterpolate(a = +a, b = +b);\n    return function(x) { return x <= a ? 0 : x >= b ? 1 : d(x); };\n  };\n}\n\nfunction reinterpolateClamp(reinterpolate) {\n  return function(a, b) {\n    var r = reinterpolate(a = +a, b = +b);\n    return function(t) { return t <= 0 ? a : t >= 1 ? b : r(t); };\n  };\n}\n\nfunction bimap(domain, range, deinterpolate, reinterpolate) {\n  var d0 = domain[0], d1 = domain[1], r0 = range[0], r1 = range[1];\n  if (d1 < d0) d0 = deinterpolate(d1, d0), r0 = reinterpolate(r1, r0);\n  else d0 = deinterpolate(d0, d1), r0 = reinterpolate(r0, r1);\n  return function(x) { return r0(d0(x)); };\n}\n\nfunction polymap(domain, range, deinterpolate, reinterpolate) {\n  var j = Math.min(domain.length, range.length) - 1,\n      d = new Array(j),\n      r = new Array(j),\n      i = -1;\n\n  // Reverse descending domains.\n  if (domain[j] < domain[0]) {\n    domain = domain.slice().reverse();\n    range = range.slice().reverse();\n  }\n\n  while (++i < j) {\n    d[i] = deinterpolate(domain[i], domain[i + 1]);\n    r[i] = reinterpolate(range[i], range[i + 1]);\n  }\n\n  return function(x) {\n    var i = bisect(domain, x, 1, j) - 1;\n    return r[i](d[i](x));\n  };\n}\n\nexport function copy(source, target) {\n  return target\n      .domain(source.domain())\n      .range(source.range())\n      .interpolate(source.interpolate())\n      .clamp(source.clamp());\n}\n\n// deinterpolate(a, b)(x) takes a domain value x in [a,b] and returns the corresponding parameter t in [0,1].\n// reinterpolate(a, b)(t) takes a parameter t in [0,1] and returns the corresponding domain value x in [a,b].\nexport default function continuous(deinterpolate, reinterpolate) {\n  var domain = unit,\n      range = unit,\n      interpolate = interpolateValue,\n      clamp = false,\n      piecewise,\n      output,\n      input;\n\n  function rescale() {\n    piecewise = Math.min(domain.length, range.length) > 2 ? polymap : bimap;\n    output = input = null;\n    return scale;\n  }\n\n  function scale(x) {\n    return (output || (output = piecewise(domain, range, clamp ? deinterpolateClamp(deinterpolate) : deinterpolate, interpolate)))(+x);\n  }\n\n  scale.invert = function(y) {\n    return (input || (input = piecewise(range, domain, deinterpolateLinear, clamp ? reinterpolateClamp(reinterpolate) : reinterpolate)))(+y);\n  };\n\n  scale.domain = function(_) {\n    return arguments.length ? (domain = map.call(_, number), rescale()) : domain.slice();\n  };\n\n  scale.range = function(_) {\n    return arguments.length ? (range = slice.call(_), rescale()) : range.slice();\n  };\n\n  scale.rangeRound = function(_) {\n    return range = slice.call(_), interpolate = interpolateRound, rescale();\n  };\n\n  scale.clamp = function(_) {\n    return arguments.length ? (clamp = !!_, rescale()) : clamp;\n  };\n\n  scale.interpolate = function(_) {\n    return arguments.length ? (interpolate = _, rescale()) : interpolate;\n  };\n\n  return rescale();\n}\n","export default function(x) {\n  return function() {\n    return x;\n  };\n}\n","import {ticks, tickStep} from \"d3-array\";\nimport {interpolateNumber as reinterpolate} from \"d3-interpolate\";\nimport {default as continuous, copy, deinterpolateLinear as deinterpolate} from \"./continuous\";\nimport tickFormat from \"./tickFormat\";\n\nexport function linearish(scale) {\n  var domain = scale.domain;\n\n  scale.ticks = function(count) {\n    var d = domain();\n    return ticks(d[0], d[d.length - 1], count == null ? 10 : count);\n  };\n\n  scale.tickFormat = function(count, specifier) {\n    return tickFormat(domain(), count, specifier);\n  };\n\n  scale.nice = function(count) {\n    var d = domain(),\n        i = d.length - 1,\n        n = count == null ? 10 : count,\n        start = d[0],\n        stop = d[i],\n        step = tickStep(start, stop, n);\n\n    if (step) {\n      step = tickStep(Math.floor(start / step) * step, Math.ceil(stop / step) * step, n);\n      d[0] = Math.floor(start / step) * step;\n      d[i] = Math.ceil(stop / step) * step;\n      domain(d);\n    }\n\n    return scale;\n  };\n\n  return scale;\n}\n\nexport default function linear() {\n  var scale = continuous(deinterpolate, reinterpolate);\n\n  scale.copy = function() {\n    return copy(scale, linear());\n  };\n\n  return linearish(scale);\n}\n","import {tickStep} from \"d3-array\";\nimport {format, formatPrefix, formatSpecifier, precisionFixed, precisionPrefix, precisionRound} from \"d3-format\";\n\nexport default function(domain, count, specifier) {\n  var start = domain[0],\n      stop = domain[domain.length - 1],\n      step = tickStep(start, stop, count == null ? 10 : count),\n      precision;\n  specifier = formatSpecifier(specifier == null ? \",f\" : specifier);\n  switch (specifier.type) {\n    case \"s\": {\n      var value = Math.max(Math.abs(start), Math.abs(stop));\n      if (specifier.precision == null && !isNaN(precision = precisionPrefix(step, value))) specifier.precision = precision;\n      return formatPrefix(specifier, value);\n    }\n    case \"\":\n    case \"e\":\n    case \"g\":\n    case \"p\":\n    case \"r\": {\n      if (specifier.precision == null && !isNaN(precision = precisionRound(step, Math.max(Math.abs(start), Math.abs(stop))))) specifier.precision = precision - (specifier.type === \"e\");\n      break;\n    }\n    case \"f\":\n    case \"%\": {\n      if (specifier.precision == null && !isNaN(precision = precisionFixed(step))) specifier.precision = precision - (specifier.type === \"%\") * 2;\n      break;\n    }\n  }\n  return format(specifier);\n}\n","export default function(s) {\n  return s.match(/.{6}/g).map(function(x) {\n    return \"#\" + x;\n  });\n}\n","import colors from \"./colors\";\n\nexport default colors(\"1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf\");\n","import colors from \"./colors\";\n\nexport default colors(\"393b795254a36b6ecf9c9ede6379398ca252b5cf6bcedb9c8c6d31bd9e39e7ba52e7cb94843c39ad494ad6616be7969c7b4173a55194ce6dbdde9ed6\");\n","import colors from \"./colors\";\n\nexport default colors(\"3182bd6baed69ecae1c6dbefe6550dfd8d3cfdae6bfdd0a231a35474c476a1d99bc7e9c0756bb19e9ac8bcbddcdadaeb636363969696bdbdbdd9d9d9\");\n","import colors from \"./colors\";\n\nexport default colors(\"1f77b4aec7e8ff7f0effbb782ca02c98df8ad62728ff98969467bdc5b0d58c564bc49c94e377c2f7b6d27f7f7fc7c7c7bcbd22dbdb8d17becf9edae5\");\n","import {cubehelix} from \"d3-color\";\nimport {interpolateCubehelixLong} from \"d3-interpolate\";\n\nexport default interpolateCubehelixLong(cubehelix(300, 0.5, 0.0), cubehelix(-240, 0.5, 1.0));\n","import {cubehelix} from \"d3-color\";\nimport {interpolateCubehelixLong} from \"d3-interpolate\";\n\nexport var warm = interpolateCubehelixLong(cubehelix(-100, 0.75, 0.35), cubehelix(80, 1.50, 0.8));\n\nexport var cool = interpolateCubehelixLong(cubehelix(260, 0.75, 0.35), cubehelix(80, 1.50, 0.8));\n\nvar rainbow = cubehelix();\n\nexport default function(t) {\n  if (t < 0 || t > 1) t -= Math.floor(t);\n  var ts = Math.abs(t - 0.5);\n  rainbow.h = 360 * t - 100;\n  rainbow.s = 1.5 - 1.5 * ts;\n  rainbow.l = 0.8 - 0.9 * ts;\n  return rainbow + \"\";\n}\n","import colors from \"./colors\";\n\nfunction ramp(range) {\n  var n = range.length;\n  return function(t) {\n    return range[Math.max(0, Math.min(n - 1, Math.floor(t * n)))];\n  };\n}\n\nexport default ramp(colors(\"44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725\"));\n\nexport var magma = ramp(colors(\"00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf\"));\n\nexport var inferno = ramp(colors(\"00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4\"));\n\nexport var plasma = ramp(colors(\"0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921\"));\n","export default function(a, b) {\n  return a < b ? -1 : a > b ? 1 : a >= b ? 0 : NaN;\n}\n","import ascending from \"./ascending\";\n\nexport default function(compare) {\n  if (compare.length === 1) compare = ascendingComparator(compare);\n  return {\n    left: function(a, x, lo, hi) {\n      if (lo == null) lo = 0;\n      if (hi == null) hi = a.length;\n      while (lo < hi) {\n        var mid = lo + hi >>> 1;\n        if (compare(a[mid], x) < 0) lo = mid + 1;\n        else hi = mid;\n      }\n      return lo;\n    },\n    right: function(a, x, lo, hi) {\n      if (lo == null) lo = 0;\n      if (hi == null) hi = a.length;\n      while (lo < hi) {\n        var mid = lo + hi >>> 1;\n        if (compare(a[mid], x) > 0) hi = mid;\n        else lo = mid + 1;\n      }\n      return lo;\n    }\n  };\n}\n\nfunction ascendingComparator(f) {\n  return function(d, x) {\n    return ascending(f(d), x);\n  };\n}\n","import ascending from \"./ascending\";\nimport bisector from \"./bisector\";\n\nvar ascendingBisect = bisector(ascending);\nexport var bisectRight = ascendingBisect.right;\nexport var bisectLeft = ascendingBisect.left;\nexport default bisectRight;\n","export default function(array, f) {\n  var i = -1,\n      n = array.length,\n      a,\n      b;\n\n  if (f == null) {\n    while (++i < n) if ((b = array[i]) != null && b >= b) { a = b; break; }\n    while (++i < n) if ((b = array[i]) != null && b > a) a = b;\n  }\n\n  else {\n    while (++i < n) if ((b = f(array[i], i, array)) != null && b >= b) { a = b; break; }\n    while (++i < n) if ((b = f(array[i], i, array)) != null && b > a) a = b;\n  }\n\n  return a;\n}\n","export default function(array, f) {\n  var s = 0,\n      n = array.length,\n      a,\n      i = -1;\n\n  if (f == null) {\n    while (++i < n) if (a = +array[i]) s += a; // Note: zero and null are equivalent.\n  }\n\n  else {\n    while (++i < n) if (a = +f(array[i], i, array)) s += a;\n  }\n\n  return s;\n}\n","import { select } from 'd3-selection';\nimport { format, formatLocale, formatPrefix, formatSpecifier } from 'd3-format';\nimport { dispatch } from 'd3-dispatch';\nimport { scaleLinear } from 'd3-scale';\nimport { max, sum } from 'd3-array';\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) {\n  return typeof obj;\n} : function (obj) {\n  return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n};\n\nvar d3_identity = function d3_identity(d) {\n  return d;\n};\n\nvar d3_reverse = function d3_reverse(arr) {\n  var mirror = [];\n  for (var i = 0, l = arr.length; i < l; i++) {\n    mirror[i] = arr[l - i - 1];\n  }\n  return mirror;\n};\n\n//Text wrapping code adapted from Mike Bostock\nvar d3_textWrapping = function d3_textWrapping(text, width) {\n  text.each(function () {\n    var text = select(this),\n        words = text.text().split(/\\s+/).reverse(),\n        word,\n        line = [],\n        lineNumber = 0,\n        lineHeight = 1.2,\n        //ems\n    y = text.attr(\"y\"),\n        dy = parseFloat(text.attr(\"dy\")) || 0,\n        tspan = text.text(null).append(\"tspan\").attr(\"x\", 0).attr(\"dy\", dy + \"em\");\n\n    while (word = words.pop()) {\n      line.push(word);\n      tspan.text(line.join(\" \"));\n      if (tspan.node().getComputedTextLength() > width && line.length > 1) {\n        line.pop();\n        tspan.text(line.join(\" \"));\n        line = [word];\n        tspan = text.append(\"tspan\").attr(\"x\", 0).attr(\"dy\", lineHeight + dy + \"em\").text(word);\n      }\n    }\n  });\n};\n\nvar d3_mergeLabels = function d3_mergeLabels() {\n  var gen = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n  var labels = arguments[1];\n  var domain = arguments[2];\n  var range = arguments[3];\n  var labelDelimiter = arguments[4];\n\n  if ((typeof labels === \"undefined\" ? \"undefined\" : _typeof(labels)) === \"object\") {\n    if (labels.length === 0) return gen;\n\n    var i = labels.length;\n    for (; i < gen.length; i++) {\n      labels.push(gen[i]);\n    }\n    return labels;\n  } else if (typeof labels === \"function\") {\n    var customLabels = [];\n    var genLength = gen.length;\n    for (var _i = 0; _i < genLength; _i++) {\n      customLabels.push(labels({\n        i: _i,\n        genLength: genLength,\n        generatedLabels: gen,\n        domain: domain,\n        range: range,\n        labelDelimiter: labelDelimiter\n      }));\n    }\n    return customLabels;\n  }\n\n  return gen;\n};\n\nvar d3_linearLegend = function d3_linearLegend(scale, cells, labelFormat) {\n  var data = [];\n\n  if (cells.length > 1) {\n    data = cells;\n  } else {\n    var domain = scale.domain(),\n        increment = (domain[domain.length - 1] - domain[0]) / (cells - 1);\n    var i = 0;\n\n    for (; i < cells; i++) {\n      data.push(domain[0] + i * increment);\n    }\n  }\n\n  var labels = data.map(labelFormat);\n  return {\n    data: data,\n    labels: labels,\n    feature: function feature(d) {\n      return scale(d);\n    }\n  };\n};\n\nvar d3_quantLegend = function d3_quantLegend(scale, labelFormat, labelDelimiter) {\n  var labels = scale.range().map(function (d) {\n    var invert = scale.invertExtent(d);\n    return labelFormat(invert[0]) + \" \" + labelDelimiter + \" \" + labelFormat(invert[1]);\n  });\n\n  return {\n    data: scale.range(),\n    labels: labels,\n    feature: d3_identity\n  };\n};\n\nvar d3_ordinalLegend = function d3_ordinalLegend(scale) {\n  return {\n    data: scale.domain(),\n    labels: scale.domain(),\n    feature: function feature(d) {\n      return scale(d);\n    }\n  };\n};\n\nvar d3_cellOver = function d3_cellOver(cellDispatcher, d, obj) {\n  cellDispatcher.call(\"cellover\", obj, d);\n};\n\nvar d3_cellOut = function d3_cellOut(cellDispatcher, d, obj) {\n  cellDispatcher.call(\"cellout\", obj, d);\n};\n\nvar d3_cellClick = function d3_cellClick(cellDispatcher, d, obj) {\n  cellDispatcher.call(\"cellclick\", obj, d);\n};\n\nvar helper = {\n  d3_drawShapes: function d3_drawShapes(shape, shapes, shapeHeight, shapeWidth, shapeRadius, path) {\n    if (shape === \"rect\") {\n      shapes.attr(\"height\", shapeHeight).attr(\"width\", shapeWidth);\n    } else if (shape === \"circle\") {\n      shapes.attr(\"r\", shapeRadius);\n    } else if (shape === \"line\") {\n      shapes.attr(\"x1\", 0).attr(\"x2\", shapeWidth).attr(\"y1\", 0).attr(\"y2\", 0);\n    } else if (shape === \"path\") {\n      shapes.attr(\"d\", path);\n    }\n  },\n\n  d3_addText: function d3_addText(svg, enter, labels, classPrefix, labelWidth) {\n    return Promise.all(labels).then(function (resolvedLabels) {\n      enter.append(\"text\").attr(\"class\", classPrefix + \"label\");\n      var text = svg.selectAll(\"g.\" + classPrefix + \"cell text.\" + classPrefix + \"label\").data(resolvedLabels).text(d3_identity);\n\n      if (labelWidth) {\n        svg.selectAll(\"g.\" + classPrefix + \"cell text.\" + classPrefix + \"label\").call(d3_textWrapping, labelWidth);\n      }\n      return text;\n    });\n  },\n\n  d3_calcType: function d3_calcType(scale, ascending, cells, labels, labelFormat, labelDelimiter) {\n    var type = scale.invertExtent ? d3_quantLegend(scale, labelFormat, labelDelimiter) : scale.ticks ? d3_linearLegend(scale, cells, labelFormat) : d3_ordinalLegend(scale);\n\n    //for d3.scaleSequential that doesn't have a range function\n    var range = scale.range && scale.range() || scale.domain();\n    type.labels = d3_mergeLabels(type.labels, labels, scale.domain(), range, labelDelimiter);\n\n    if (ascending) {\n      type.labels = d3_reverse(type.labels);\n      type.data = d3_reverse(type.data);\n    }\n\n    return type;\n  },\n\n  d3_filterCells: function d3_filterCells(type, cellFilter) {\n    var filterCells = type.data.map(function (d, i) {\n      return { data: d, label: type.labels[i] };\n    }).filter(cellFilter);\n    var dataValues = filterCells.map(function (d) {\n      return d.data;\n    });\n    var labelValues = filterCells.map(function (d) {\n      return d.label;\n    });\n    type.data = type.data.filter(function (d) {\n      return dataValues.indexOf(d) !== -1;\n    });\n    type.labels = type.labels.filter(function (d) {\n      return labelValues.indexOf(d) !== -1;\n    });\n    return type;\n  },\n\n  d3_placement: function d3_placement(orient, cell, cellTrans, text, textTrans, labelAlign) {\n    cell.attr(\"transform\", cellTrans);\n    text.attr(\"transform\", textTrans);\n    if (orient === \"horizontal\") {\n      text.style(\"text-anchor\", labelAlign);\n    }\n  },\n\n  d3_addEvents: function d3_addEvents(cells, dispatcher) {\n    cells.on(\"mouseover.legend\", function (d) {\n      d3_cellOver(dispatcher, d, this);\n    }).on(\"mouseout.legend\", function (d) {\n      d3_cellOut(dispatcher, d, this);\n    }).on(\"click.legend\", function (d) {\n      d3_cellClick(dispatcher, d, this);\n    });\n  },\n\n  d3_title: function d3_title(svg, title, classPrefix, titleWidth) {\n    if (title !== \"\") {\n      var titleText = svg.selectAll(\"text.\" + classPrefix + \"legendTitle\");\n\n      titleText.data([title]).enter().append(\"text\").attr(\"class\", classPrefix + \"legendTitle\");\n\n      svg.selectAll(\"text.\" + classPrefix + \"legendTitle\").text(title);\n\n      if (titleWidth) {\n        svg.selectAll(\"text.\" + classPrefix + \"legendTitle\").call(d3_textWrapping, titleWidth);\n      }\n\n      var cellsSvg = svg.select(\".\" + classPrefix + \"legendCells\");\n      var yOffset = svg.select(\".\" + classPrefix + \"legendTitle\").nodes().map(function (d) {\n        return d.getBBox().height;\n      })[0],\n          xOffset = -cellsSvg.nodes().map(function (d) {\n        return d.getBBox().x;\n      })[0];\n      cellsSvg.attr(\"transform\", \"translate(\" + xOffset + \",\" + yOffset + \")\");\n    }\n  },\n\n  d3_defaultLocale: {\n    format: format,\n    formatPrefix: formatPrefix\n  },\n\n  d3_defaultFormatSpecifier: \".01f\",\n\n  d3_defaultDelimiter: \"to\"\n};\n\nfunction color() {\n  var scale = scaleLinear(),\n      shape = \"rect\",\n      shapeWidth = 15,\n      shapeHeight = 15,\n      shapeRadius = 10,\n      shapePadding = 2,\n      cells = [5],\n      cellFilter = void 0,\n      labels = [],\n      classPrefix = \"\",\n      useClass = false,\n      title = \"\",\n      locale = helper.d3_defaultLocale,\n      specifier = helper.d3_defaultFormatSpecifier,\n      labelOffset = 10,\n      labelAlign = \"middle\",\n      labelDelimiter = helper.d3_defaultDelimiter,\n      labelWrap = void 0,\n      orient = \"vertical\",\n      ascending = false,\n      path = void 0,\n      titleWidth = void 0,\n      legendDispatcher = dispatch(\"cellover\", \"cellout\", \"cellclick\");\n\n  function legend(svg) {\n    var type = helper.d3_calcType(scale, ascending, cells, labels, locale.format(specifier), labelDelimiter),\n        legendG = svg.selectAll(\"g\").data([scale]);\n\n    legendG.enter().append(\"g\").attr(\"class\", classPrefix + \"legendCells\");\n\n    if (cellFilter) {\n      helper.d3_filterCells(type, cellFilter);\n    }\n\n    var cell = svg.select(\".\" + classPrefix + \"legendCells\").selectAll(\".\" + classPrefix + \"cell\").data(type.data);\n\n    var cellEnter = cell.enter().append(\"g\").attr(\"class\", classPrefix + \"cell\");\n    cellEnter.append(shape).attr(\"class\", classPrefix + \"swatch\");\n\n    var shapes = svg.selectAll(\"g.\" + classPrefix + \"cell \" + shape + \".\" + classPrefix + \"swatch\").data(type.data);\n\n    //add event handlers\n    helper.d3_addEvents(cellEnter, legendDispatcher);\n\n    cell.exit().transition().style(\"opacity\", 0).remove();\n\n    shapes.exit().transition().style(\"opacity\", 0).remove();\n\n    shapes = shapes.merge(shapes);\n    // we need to merge the selection, otherwise changes in the legend (e.g. change of orientation) are applied only to the new cells and not the existing ones.\n    cell = cellEnter.merge(cell);\n\n    helper.d3_drawShapes(shape, shapes, shapeHeight, shapeWidth, shapeRadius, path);\n\n    helper.d3_addText(svg, cellEnter, type.labels, classPrefix, labelWrap).then(function (text) {\n\n      // sets placement\n      var textSize = text.nodes().map(function (d) {\n        return d.getBBox();\n      }),\n          shapeSize = shapes.nodes().map(function (d) {\n        return d.getBBox();\n      });\n      //sets scale\n      //everything is fill except for line which is stroke,\n      if (!useClass) {\n        if (shape == \"line\") {\n          shapes.style(\"stroke\", type.feature);\n        } else {\n          shapes.style(\"fill\", type.feature);\n        }\n      } else {\n        shapes.attr(\"class\", function (d) {\n          return classPrefix + \"swatch \" + type.feature(d);\n        });\n      }\n\n      var cellTrans = void 0,\n          textTrans = void 0,\n          textAlign = labelAlign == \"start\" ? 0 : labelAlign == \"middle\" ? 0.5 : 1;\n\n      //positions cells and text\n      if (orient === \"vertical\") {\n        var cellSize = textSize.map(function (d, i) {\n          return Math.max(d.height, shapeSize[i].height);\n        });\n\n        cellTrans = function cellTrans(d, i) {\n          var height = sum(cellSize.slice(0, i));\n          return \"translate(0, \" + (height + i * shapePadding) + \")\";\n        };\n\n        textTrans = function textTrans(d, i) {\n          return \"translate( \" + (shapeSize[i].width + shapeSize[i].x + labelOffset) + \", \" + (shapeSize[i].y + shapeSize[i].height / 2 + 5) + \")\";\n        };\n      } else if (orient === \"horizontal\") {\n        cellTrans = function cellTrans(d, i) {\n          return \"translate(\" + i * (shapeSize[i].width + shapePadding) + \",0)\";\n        };\n        textTrans = function textTrans(d, i) {\n          return \"translate(\" + (shapeSize[i].width * textAlign + shapeSize[i].x) + \",\\n            \" + (shapeSize[i].height + shapeSize[i].y + labelOffset + 8) + \")\";\n        };\n      }\n\n      helper.d3_placement(orient, cell, cellTrans, text, textTrans, labelAlign);\n      helper.d3_title(svg, title, classPrefix, titleWidth);\n\n      cell.transition().style(\"opacity\", 1);\n    });\n  }\n\n  legend.scale = function (_) {\n    if (!arguments.length) return scale;\n    scale = _;\n    return legend;\n  };\n\n  legend.cells = function (_) {\n    if (!arguments.length) return cells;\n    if (_.length > 1 || _ >= 2) {\n      cells = _;\n    }\n    return legend;\n  };\n\n  legend.cellFilter = function (_) {\n    if (!arguments.length) return cellFilter;\n    cellFilter = _;\n    return legend;\n  };\n\n  legend.shape = function (_, d) {\n    if (!arguments.length) return shape;\n    if (_ == \"rect\" || _ == \"circle\" || _ == \"line\" || _ == \"path\" && typeof d === \"string\") {\n      shape = _;\n      path = d;\n    }\n    return legend;\n  };\n\n  legend.shapeWidth = function (_) {\n    if (!arguments.length) return shapeWidth;\n    shapeWidth = +_;\n    return legend;\n  };\n\n  legend.shapeHeight = function (_) {\n    if (!arguments.length) return shapeHeight;\n    shapeHeight = +_;\n    return legend;\n  };\n\n  legend.shapeRadius = function (_) {\n    if (!arguments.length) return shapeRadius;\n    shapeRadius = +_;\n    return legend;\n  };\n\n  legend.shapePadding = function (_) {\n    if (!arguments.length) return shapePadding;\n    shapePadding = +_;\n    return legend;\n  };\n\n  legend.labels = function (_) {\n    if (!arguments.length) return labels;\n    labels = _;\n    return legend;\n  };\n\n  legend.labelAlign = function (_) {\n    if (!arguments.length) return labelAlign;\n    if (_ == \"start\" || _ == \"end\" || _ == \"middle\") {\n      labelAlign = _;\n    }\n    return legend;\n  };\n\n  legend.locale = function (_) {\n    if (!arguments.length) return locale;\n    locale = formatLocale(_);\n    return legend;\n  };\n\n  legend.labelFormat = function (_) {\n    if (!arguments.length) return legend.locale().format(specifier);\n    specifier = formatSpecifier(_);\n    return legend;\n  };\n\n  legend.labelOffset = function (_) {\n    if (!arguments.length) return labelOffset;\n    labelOffset = +_;\n    return legend;\n  };\n\n  legend.labelDelimiter = function (_) {\n    if (!arguments.length) return labelDelimiter;\n    labelDelimiter = _;\n    return legend;\n  };\n\n  legend.labelWrap = function (_) {\n    if (!arguments.length) return labelWrap;\n    labelWrap = _;\n    return legend;\n  };\n\n  legend.useClass = function (_) {\n    if (!arguments.length) return useClass;\n    if (_ === true || _ === false) {\n      useClass = _;\n    }\n    return legend;\n  };\n\n  legend.orient = function (_) {\n    if (!arguments.length) return orient;\n    _ = _.toLowerCase();\n    if (_ == \"horizontal\" || _ == \"vertical\") {\n      orient = _;\n    }\n    return legend;\n  };\n\n  legend.ascending = function (_) {\n    if (!arguments.length) return ascending;\n    ascending = !!_;\n    return legend;\n  };\n\n  legend.classPrefix = function (_) {\n    if (!arguments.length) return classPrefix;\n    classPrefix = _;\n    return legend;\n  };\n\n  legend.title = function (_) {\n    if (!arguments.length) return title;\n    title = _;\n    return legend;\n  };\n\n  legend.titleWidth = function (_) {\n    if (!arguments.length) return titleWidth;\n    titleWidth = _;\n    return legend;\n  };\n\n  legend.textWrap = function (_) {\n    if (!arguments.length) return textWrap;\n    textWrap = _;\n    return legend;\n  };\n\n  legend.on = function () {\n    var value = legendDispatcher.on.apply(legendDispatcher, arguments);\n    return value === legendDispatcher ? legend : value;\n  };\n\n  return legend;\n}\n\nfunction size() {\n  var scale = scaleLinear(),\n      shape = \"rect\",\n      shapeWidth = 15,\n      shapePadding = 2,\n      cells = [5],\n      cellFilter = void 0,\n      labels = [],\n      classPrefix = \"\",\n      title = \"\",\n      locale = helper.d3_defaultLocale,\n      specifier = helper.d3_defaultFormatSpecifier,\n      labelOffset = 10,\n      labelAlign = \"middle\",\n      labelDelimiter = helper.d3_defaultDelimiter,\n      labelWrap = void 0,\n      orient = \"vertical\",\n      ascending = false,\n      path = void 0,\n      titleWidth = void 0,\n      legendDispatcher = dispatch(\"cellover\", \"cellout\", \"cellclick\");\n\n  function legend(svg) {\n    var type = helper.d3_calcType(scale, ascending, cells, labels, locale.format(specifier), labelDelimiter),\n        legendG = svg.selectAll(\"g\").data([scale]);\n\n    if (cellFilter) {\n      helper.d3_filterCells(type, cellFilter);\n    }\n\n    legendG.enter().append(\"g\").attr(\"class\", classPrefix + \"legendCells\");\n\n    var cell = svg.select(\".\" + classPrefix + \"legendCells\").selectAll(\".\" + classPrefix + \"cell\").data(type.data);\n    var cellEnter = cell.enter().append(\"g\").attr(\"class\", classPrefix + \"cell\");\n    cellEnter.append(shape).attr(\"class\", classPrefix + \"swatch\");\n\n    var shapes = svg.selectAll(\"g.\" + classPrefix + \"cell \" + shape + \".\" + classPrefix + \"swatch\");\n\n    //add event handlers\n    helper.d3_addEvents(cellEnter, legendDispatcher);\n\n    cell.exit().transition().style(\"opacity\", 0).remove();\n\n    shapes.exit().transition().style(\"opacity\", 0).remove();\n\n    shapes = shapes.merge(shapes);\n    // we need to merge the selection, otherwise changes in the legend (e.g. change of orientation) are applied only to the new cells and not the existing ones.\n    cell = cellEnter.merge(cell);\n\n    //creates shape\n    if (shape === \"line\") {\n      helper.d3_drawShapes(shape, shapes, 0, shapeWidth);\n      shapes.attr(\"stroke-width\", type.feature);\n    } else {\n      helper.d3_drawShapes(shape, shapes, type.feature, type.feature, type.feature, path);\n    }\n\n    helper.d3_addText(svg, cellEnter, type.labels, classPrefix, labelWrap).then(function (text) {\n\n      //sets placement\n      var textSize = text.nodes().map(function (d) {\n        return d.getBBox();\n      }),\n          shapeSize = shapes.nodes().map(function (d, i) {\n        var bbox = d.getBBox();\n        var stroke = scale(type.data[i]);\n\n        if (shape === \"line\" && orient === \"horizontal\") {\n          bbox.height = bbox.height + stroke;\n        } else if (shape === \"line\" && orient === \"vertical\") {\n          bbox.width = bbox.width;\n        }\n        return bbox;\n      });\n\n      var maxH = max(shapeSize, function (d) {\n        return d.height + d.y;\n      }),\n          maxW = max(shapeSize, function (d) {\n        return d.width + d.x;\n      });\n\n      var cellTrans = void 0,\n          textTrans = void 0,\n          textAlign = labelAlign == \"start\" ? 0 : labelAlign == \"middle\" ? 0.5 : 1;\n\n      //positions cells and text\n      if (orient === \"vertical\") {\n        var cellSize = textSize.map(function (d, i) {\n          return Math.max(d.height, shapeSize[i].height);\n        });\n        var y = shape == \"circle\" || shape == \"line\" ? shapeSize[0].height / 2 : 0;\n        cellTrans = function cellTrans(d, i) {\n          var height = sum(cellSize.slice(0, i));\n\n          return \"translate(0, \" + (y + height + i * shapePadding) + \")\";\n        };\n\n        textTrans = function textTrans(d, i) {\n          return \"translate( \" + (maxW + labelOffset) + \",\\n            \" + (shapeSize[i].y + shapeSize[i].height / 2 + 5) + \")\";\n        };\n      } else if (orient === \"horizontal\") {\n        cellTrans = function cellTrans(d, i) {\n          var width = sum(shapeSize.slice(0, i), function (d) {\n            return d.width;\n          });\n          var y = shape == \"circle\" || shape == \"line\" ? maxH / 2 : 0;\n          return \"translate(\" + (width + i * shapePadding) + \", \" + y + \")\";\n        };\n\n        var offset = shape == \"line\" ? maxH / 2 : maxH;\n        textTrans = function textTrans(d, i) {\n          return \"translate( \" + (shapeSize[i].width * textAlign + shapeSize[i].x) + \",\\n                \" + (offset + labelOffset) + \")\";\n        };\n      }\n\n      helper.d3_placement(orient, cell, cellTrans, text, textTrans, labelAlign);\n      helper.d3_title(svg, title, classPrefix, titleWidth);\n\n      cell.transition().style(\"opacity\", 1);\n    });\n  }\n\n  legend.scale = function (_) {\n    if (!arguments.length) return scale;\n    scale = _;\n    return legend;\n  };\n\n  legend.cells = function (_) {\n    if (!arguments.length) return cells;\n    if (_.length > 1 || _ >= 2) {\n      cells = _;\n    }\n    return legend;\n  };\n\n  legend.cellFilter = function (_) {\n    if (!arguments.length) return cellFilter;\n    cellFilter = _;\n    return legend;\n  };\n\n  legend.shape = function (_, d) {\n    if (!arguments.length) return shape;\n    if (_ == \"rect\" || _ == \"circle\" || _ == \"line\") {\n      shape = _;\n      path = d;\n    }\n    return legend;\n  };\n\n  legend.shapeWidth = function (_) {\n    if (!arguments.length) return shapeWidth;\n    shapeWidth = +_;\n    return legend;\n  };\n\n  legend.shapePadding = function (_) {\n    if (!arguments.length) return shapePadding;\n    shapePadding = +_;\n    return legend;\n  };\n\n  legend.labels = function (_) {\n    if (!arguments.length) return labels;\n    labels = _;\n    return legend;\n  };\n\n  legend.labelAlign = function (_) {\n    if (!arguments.length) return labelAlign;\n    if (_ == \"start\" || _ == \"end\" || _ == \"middle\") {\n      labelAlign = _;\n    }\n    return legend;\n  };\n\n  legend.locale = function (_) {\n    if (!arguments.length) return locale;\n    locale = formatLocale(_);\n    return legend;\n  };\n\n  legend.labelFormat = function (_) {\n    if (!arguments.length) return legend.locale().format(specifier);\n    specifier = formatSpecifier(_);\n    return legend;\n  };\n\n  legend.labelOffset = function (_) {\n    if (!arguments.length) return labelOffset;\n    labelOffset = +_;\n    return legend;\n  };\n\n  legend.labelDelimiter = function (_) {\n    if (!arguments.length) return labelDelimiter;\n    labelDelimiter = _;\n    return legend;\n  };\n\n  legend.labelWrap = function (_) {\n    if (!arguments.length) return labelWrap;\n    labelWrap = _;\n    return legend;\n  };\n\n  legend.orient = function (_) {\n    if (!arguments.length) return orient;\n    _ = _.toLowerCase();\n    if (_ == \"horizontal\" || _ == \"vertical\") {\n      orient = _;\n    }\n    return legend;\n  };\n\n  legend.ascending = function (_) {\n    if (!arguments.length) return ascending;\n    ascending = !!_;\n    return legend;\n  };\n\n  legend.classPrefix = function (_) {\n    if (!arguments.length) return classPrefix;\n    classPrefix = _;\n    return legend;\n  };\n\n  legend.title = function (_) {\n    if (!arguments.length) return title;\n    title = _;\n    return legend;\n  };\n\n  legend.titleWidth = function (_) {\n    if (!arguments.length) return titleWidth;\n    titleWidth = _;\n    return legend;\n  };\n\n  legend.on = function () {\n    var value = legendDispatcher.on.apply(legendDispatcher, arguments);\n    return value === legendDispatcher ? legend : value;\n  };\n\n  return legend;\n}\n\nfunction symbol() {\n  var scale = scaleLinear(),\n      shape = \"path\",\n      shapeWidth = 15,\n      shapeHeight = 15,\n      shapeRadius = 10,\n      shapePadding = 5,\n      cells = [5],\n      cellFilter = void 0,\n      labels = [],\n      classPrefix = \"\",\n      title = \"\",\n      locale = helper.d3_defaultLocale,\n      specifier = helper.d3_defaultFormatSpecifier,\n      labelAlign = \"middle\",\n      labelOffset = 10,\n      labelDelimiter = helper.d3_defaultDelimiter,\n      labelWrap = void 0,\n      orient = \"vertical\",\n      ascending = false,\n      titleWidth = void 0,\n      legendDispatcher = dispatch(\"cellover\", \"cellout\", \"cellclick\");\n\n  function legend(svg) {\n    var type = helper.d3_calcType(scale, ascending, cells, labels, locale.format(specifier), labelDelimiter),\n        legendG = svg.selectAll(\"g\").data([scale]);\n\n    if (cellFilter) {\n      helper.d3_filterCells(type, cellFilter);\n    }\n\n    legendG.enter().append(\"g\").attr(\"class\", classPrefix + \"legendCells\");\n\n    var cell = svg.select(\".\" + classPrefix + \"legendCells\").selectAll(\".\" + classPrefix + \"cell\").data(type.data);\n    var cellEnter = cell.enter().append(\"g\").attr(\"class\", classPrefix + \"cell\");\n    cellEnter.append(shape).attr(\"class\", classPrefix + \"swatch\");\n\n    var shapes = svg.selectAll(\"g.\" + classPrefix + \"cell \" + shape + \".\" + classPrefix + \"swatch\");\n\n    //add event handlers\n    helper.d3_addEvents(cellEnter, legendDispatcher);\n\n    //remove old shapes\n    cell.exit().transition().style(\"opacity\", 0).remove();\n    shapes.exit().transition().style(\"opacity\", 0).remove();\n\n    shapes = shapes.merge(shapes);\n    // we need to merge the selection, otherwise changes in the legend (e.g. change of orientation) are applied only to the new cells and not the existing ones.\n    cell = cellEnter.merge(cell);\n\n    helper.d3_drawShapes(shape, shapes, shapeHeight, shapeWidth, shapeRadius, type.feature);\n\n    helper.d3_addText(svg, cellEnter, type.labels, classPrefix, labelWrap).then(function (text) {\n\n      // sets placement\n      var textSize = text.nodes().map(function (d) {\n        return d.getBBox();\n      }),\n          shapeSize = shapes.nodes().map(function (d) {\n        return d.getBBox();\n      });\n\n      var maxH = max(shapeSize, function (d) {\n        return d.height;\n      }),\n          maxW = max(shapeSize, function (d) {\n        return d.width;\n      });\n\n      var cellTrans = void 0,\n          textTrans = void 0,\n          textAlign = labelAlign == \"start\" ? 0 : labelAlign == \"middle\" ? 0.5 : 1;\n\n      //positions cells and text\n      if (orient === \"vertical\") {\n        var cellSize = textSize.map(function (d, i) {\n          return Math.max(maxH, d.height);\n        });\n\n        cellTrans = function cellTrans(d, i) {\n          var height = sum(cellSize.slice(0, i));\n          return \"translate(0, \" + (height + i * shapePadding) + \" )\";\n        };\n        textTrans = function textTrans(d, i) {\n          return \"translate( \" + (maxW + labelOffset) + \",\\n                \" + (shapeSize[i].y + shapeSize[i].height / 2 + 5) + \")\";\n        };\n      } else if (orient === \"horizontal\") {\n        cellTrans = function cellTrans(d, i) {\n          return \"translate( \" + i * (maxW + shapePadding) + \",0)\";\n        };\n        textTrans = function textTrans(d, i) {\n          return \"translate( \" + (shapeSize[i].width * textAlign + shapeSize[i].x) + \",\\n                \" + (maxH + labelOffset) + \")\";\n        };\n      }\n\n      helper.d3_placement(orient, cell, cellTrans, text, textTrans, labelAlign);\n      helper.d3_title(svg, title, classPrefix, titleWidth);\n      cell.transition().style(\"opacity\", 1);\n    });\n  }\n\n  legend.scale = function (_) {\n    if (!arguments.length) return scale;\n    scale = _;\n    return legend;\n  };\n\n  legend.cells = function (_) {\n    if (!arguments.length) return cells;\n    if (_.length > 1 || _ >= 2) {\n      cells = _;\n    }\n    return legend;\n  };\n\n  legend.cellFilter = function (_) {\n    if (!arguments.length) return cellFilter;\n    cellFilter = _;\n    return legend;\n  };\n\n  legend.shapePadding = function (_) {\n    if (!arguments.length) return shapePadding;\n    shapePadding = +_;\n    return legend;\n  };\n\n  legend.labels = function (_) {\n    if (!arguments.length) return labels;\n    labels = _;\n    return legend;\n  };\n\n  legend.labelAlign = function (_) {\n    if (!arguments.length) return labelAlign;\n    if (_ == \"start\" || _ == \"end\" || _ == \"middle\") {\n      labelAlign = _;\n    }\n    return legend;\n  };\n\n  legend.locale = function (_) {\n    if (!arguments.length) return locale;\n    locale = formatLocale(_);\n    return legend;\n  };\n\n  legend.labelFormat = function (_) {\n    if (!arguments.length) return legend.locale().format(specifier);\n    specifier = formatSpecifier(_);\n    return legend;\n  };\n\n  legend.labelOffset = function (_) {\n    if (!arguments.length) return labelOffset;\n    labelOffset = +_;\n    return legend;\n  };\n\n  legend.labelDelimiter = function (_) {\n    if (!arguments.length) return labelDelimiter;\n    labelDelimiter = _;\n    return legend;\n  };\n\n  legend.labelWrap = function (_) {\n    if (!arguments.length) return labelWrap;\n    labelWrap = _;\n    return legend;\n  };\n\n  legend.orient = function (_) {\n    if (!arguments.length) return orient;\n    _ = _.toLowerCase();\n    if (_ == \"horizontal\" || _ == \"vertical\") {\n      orient = _;\n    }\n    return legend;\n  };\n\n  legend.ascending = function (_) {\n    if (!arguments.length) return ascending;\n    ascending = !!_;\n    return legend;\n  };\n\n  legend.classPrefix = function (_) {\n    if (!arguments.length) return classPrefix;\n    classPrefix = _;\n    return legend;\n  };\n\n  legend.title = function (_) {\n    if (!arguments.length) return title;\n    title = _;\n    return legend;\n  };\n\n  legend.titleWidth = function (_) {\n    if (!arguments.length) return titleWidth;\n    titleWidth = _;\n    return legend;\n  };\n\n  legend.on = function () {\n    var value = legendDispatcher.on.apply(legendDispatcher, arguments);\n    return value === legendDispatcher ? legend : value;\n  };\n\n  return legend;\n}\n\nvar thresholdLabels = function thresholdLabels(_ref) {\n  var i = _ref.i,\n      genLength = _ref.genLength,\n      generatedLabels = _ref.generatedLabels,\n      labelDelimiter = _ref.labelDelimiter;\n\n  if (i === 0) {\n    var values = generatedLabels[i].split(\" \" + labelDelimiter + \" \");\n    return \"Less than \" + values[1];\n  } else if (i === genLength - 1) {\n    var _values = generatedLabels[i].split(\" \" + labelDelimiter + \" \");\n    return _values[0] + \" or more\";\n  }\n  return generatedLabels[i];\n};\n\nvar legendHelpers = {\n  thresholdLabels: thresholdLabels\n};\n\nvar index = {\n  legendColor: color,\n  legendSize: size,\n  legendSymbol: symbol,\n  legendHelpers: legendHelpers\n};\n\nexport { color as legendColor, size as legendSize, symbol as legendSymbol, legendHelpers };export default index;\n//# sourceMappingURL=indexRollupNext.js.map\n","import {Selection, root} from \"./selection/index\";\n\nexport default function(selector) {\n  return typeof selector === \"string\"\n      ? new Selection([[document.querySelector(selector)]], [document.documentElement])\n      : new Selection([[selector]], root);\n}\n","import { LitElement } from 'lit-element';\nimport { capitalize, shapeProperties } from '../helper/utils.js';\nimport * as legend from 'd3-svg-legend';\n\n// Note(cg): allowed scales\nconst legendNames = ['color', 'size', 'symbol'];\n\nconst props = {};\nlegendNames.forEach(name => {\n  const instance = legend[`legend${capitalize(name)}`]()\n  const keys = Object.keys(instance || {});\n  shapeProperties(keys, props);\n});\n\n/**\n * ## D3Legend\n *\n * a wrapper around  [`d3-svg-legend`](https://d3-legend.susielu.com/)\n *\n * @prop {Function} scale - d3.scale to use for the legend\n */\nclass D3Legend extends LitElement {\n\n  static get properties() {\n\n    return {\n\n      ...props,\n\n      type: { type: String }\n\n    };\n  }\n\n  constructor() {\n    super();\n    this.__init = true;\n  }\n\n  update(props) {\n    super.update(props);\n    if (!this.type && !props.has('type')) {\n      this.type = 'color';\n    }\n\n    if (!this.legend || props.has('type')) {\n      this.legend = legend[`legend${capitalize(this.type)}`]();\n    }\n\n    if (this.legend) {\n      this.updateWrapper(props);\n    }\n  }\n\n  updateWrapper(props) {\n    let shallNotify = this.__init;\n    props.forEach((value, key) => {\n      if ((this[key] !== undefined) && this.legend[key]) {\n        shallNotify = true;\n        this.legend[key](this[key]);\n      }\n    });\n    if (shallNotify) {\n      this.dispatchEvent(new CustomEvent(`legend-changed`, { detail: { value: this.legend }, bubbles: true, composed: true }));\n      delete this.__init;\n    }\n  }\n}\n\nexport default D3Legend;","var noop = {value: function() {}};\n\nfunction dispatch() {\n  for (var i = 0, n = arguments.length, _ = {}, t; i < n; ++i) {\n    if (!(t = arguments[i] + \"\") || (t in _) || /[\\s.]/.test(t)) throw new Error(\"illegal type: \" + t);\n    _[t] = [];\n  }\n  return new Dispatch(_);\n}\n\nfunction Dispatch(_) {\n  this._ = _;\n}\n\nfunction parseTypenames(typenames, types) {\n  return typenames.trim().split(/^|\\s+/).map(function(t) {\n    var name = \"\", i = t.indexOf(\".\");\n    if (i >= 0) name = t.slice(i + 1), t = t.slice(0, i);\n    if (t && !types.hasOwnProperty(t)) throw new Error(\"unknown type: \" + t);\n    return {type: t, name: name};\n  });\n}\n\nDispatch.prototype = dispatch.prototype = {\n  constructor: Dispatch,\n  on: function(typename, callback) {\n    var _ = this._,\n        T = parseTypenames(typename + \"\", _),\n        t,\n        i = -1,\n        n = T.length;\n\n    // If no callback was specified, return the callback of the given type and name.\n    if (arguments.length < 2) {\n      while (++i < n) if ((t = (typename = T[i]).type) && (t = get(_[t], typename.name))) return t;\n      return;\n    }\n\n    // If a type was specified, set the callback for the given type and name.\n    // Otherwise, if a null callback was specified, remove callbacks of the given name.\n    if (callback != null && typeof callback !== \"function\") throw new Error(\"invalid callback: \" + callback);\n    while (++i < n) {\n      if (t = (typename = T[i]).type) _[t] = set(_[t], typename.name, callback);\n      else if (callback == null) for (t in _) _[t] = set(_[t], typename.name, null);\n    }\n\n    return this;\n  },\n  copy: function() {\n    var copy = {}, _ = this._;\n    for (var t in _) copy[t] = _[t].slice();\n    return new Dispatch(copy);\n  },\n  call: function(type, that) {\n    if ((n = arguments.length - 2) > 0) for (var args = new Array(n), i = 0, n, t; i < n; ++i) args[i] = arguments[i + 2];\n    if (!this._.hasOwnProperty(type)) throw new Error(\"unknown type: \" + type);\n    for (t = this._[type], i = 0, n = t.length; i < n; ++i) t[i].value.apply(that, args);\n  },\n  apply: function(type, that, args) {\n    if (!this._.hasOwnProperty(type)) throw new Error(\"unknown type: \" + type);\n    for (var t = this._[type], i = 0, n = t.length; i < n; ++i) t[i].value.apply(that, args);\n  }\n};\n\nfunction get(type, name) {\n  for (var i = 0, n = type.length, c; i < n; ++i) {\n    if ((c = type[i]).name === name) {\n      return c.value;\n    }\n  }\n}\n\nfunction set(type, name, callback) {\n  for (var i = 0, n = type.length; i < n; ++i) {\n    if (type[i].name === name) {\n      type[i] = noop, type = type.slice(0, i).concat(type.slice(i + 1));\n      break;\n    }\n  }\n  if (callback != null) type.push({name: name, value: callback});\n  return type;\n}\n\nexport default dispatch;\n","import {event} from \"d3-selection\";\n\nexport function nopropagation() {\n  event.stopImmediatePropagation();\n}\n\nexport default function() {\n  event.preventDefault();\n  event.stopImmediatePropagation();\n}\n","import {select} from \"d3-selection\";\nimport noevent from \"./noevent.js\";\n\nexport default function(view) {\n  var root = view.document.documentElement,\n      selection = select(view).on(\"dragstart.drag\", noevent, true);\n  if (\"onselectstart\" in root) {\n    selection.on(\"selectstart.drag\", noevent, true);\n  } else {\n    root.__noselect = root.style.MozUserSelect;\n    root.style.MozUserSelect = \"none\";\n  }\n}\n\nexport function yesdrag(view, noclick) {\n  var root = view.document.documentElement,\n      selection = select(view).on(\"dragstart.drag\", null);\n  if (noclick) {\n    selection.on(\"click.drag\", noevent, true);\n    setTimeout(function() { selection.on(\"click.drag\", null); }, 0);\n  }\n  if (\"onselectstart\" in root) {\n    selection.on(\"selectstart.drag\", null);\n  } else {\n    root.style.MozUserSelect = root.__noselect;\n    delete root.__noselect;\n  }\n}\n","var frame = 0, // is an animation frame pending?\n    timeout = 0, // is a timeout pending?\n    interval = 0, // are any timers active?\n    pokeDelay = 1000, // how frequently we check for clock skew\n    taskHead,\n    taskTail,\n    clockLast = 0,\n    clockNow = 0,\n    clockSkew = 0,\n    clock = typeof performance === \"object\" && performance.now ? performance : Date,\n    setFrame = typeof window === \"object\" && window.requestAnimationFrame ? window.requestAnimationFrame.bind(window) : function(f) { setTimeout(f, 17); };\n\nexport function now() {\n  return clockNow || (setFrame(clearNow), clockNow = clock.now() + clockSkew);\n}\n\nfunction clearNow() {\n  clockNow = 0;\n}\n\nexport function Timer() {\n  this._call =\n  this._time =\n  this._next = null;\n}\n\nTimer.prototype = timer.prototype = {\n  constructor: Timer,\n  restart: function(callback, delay, time) {\n    if (typeof callback !== \"function\") throw new TypeError(\"callback is not a function\");\n    time = (time == null ? now() : +time) + (delay == null ? 0 : +delay);\n    if (!this._next && taskTail !== this) {\n      if (taskTail) taskTail._next = this;\n      else taskHead = this;\n      taskTail = this;\n    }\n    this._call = callback;\n    this._time = time;\n    sleep();\n  },\n  stop: function() {\n    if (this._call) {\n      this._call = null;\n      this._time = Infinity;\n      sleep();\n    }\n  }\n};\n\nexport function timer(callback, delay, time) {\n  var t = new Timer;\n  t.restart(callback, delay, time);\n  return t;\n}\n\nexport function timerFlush() {\n  now(); // Get the current time, if not already set.\n  ++frame; // Pretend weve set an alarm, if we havent already.\n  var t = taskHead, e;\n  while (t) {\n    if ((e = clockNow - t._time) >= 0) t._call.call(null, e);\n    t = t._next;\n  }\n  --frame;\n}\n\nfunction wake() {\n  clockNow = (clockLast = clock.now()) + clockSkew;\n  frame = timeout = 0;\n  try {\n    timerFlush();\n  } finally {\n    frame = 0;\n    nap();\n    clockNow = 0;\n  }\n}\n\nfunction poke() {\n  var now = clock.now(), delay = now - clockLast;\n  if (delay > pokeDelay) clockSkew -= delay, clockLast = now;\n}\n\nfunction nap() {\n  var t0, t1 = taskHead, t2, time = Infinity;\n  while (t1) {\n    if (t1._call) {\n      if (time > t1._time) time = t1._time;\n      t0 = t1, t1 = t1._next;\n    } else {\n      t2 = t1._next, t1._next = null;\n      t1 = t0 ? t0._next = t2 : taskHead = t2;\n    }\n  }\n  taskTail = t0;\n  sleep(time);\n}\n\nfunction sleep(time) {\n  if (frame) return; // Soonest alarm already set, or will be.\n  if (timeout) timeout = clearTimeout(timeout);\n  var delay = time - clockNow; // Strictly less than if we recomputed clockNow.\n  if (delay > 24) {\n    if (time < Infinity) timeout = setTimeout(wake, time - clock.now() - clockSkew);\n    if (interval) interval = clearInterval(interval);\n  } else {\n    if (!interval) clockLast = clock.now(), interval = setInterval(poke, pokeDelay);\n    frame = 1, setFrame(wake);\n  }\n}\n","import {Timer} from \"./timer.js\";\n\nexport default function(callback, delay, time) {\n  var t = new Timer;\n  delay = delay == null ? 0 : +delay;\n  t.restart(function(elapsed) {\n    t.stop();\n    callback(elapsed + delay);\n  }, delay, time);\n  return t;\n}\n","import {dispatch} from \"d3-dispatch\";\nimport {timer, timeout} from \"d3-timer\";\n\nvar emptyOn = dispatch(\"start\", \"end\", \"cancel\", \"interrupt\");\nvar emptyTween = [];\n\nexport var CREATED = 0;\nexport var SCHEDULED = 1;\nexport var STARTING = 2;\nexport var STARTED = 3;\nexport var RUNNING = 4;\nexport var ENDING = 5;\nexport var ENDED = 6;\n\nexport default function(node, name, id, index, group, timing) {\n  var schedules = node.__transition;\n  if (!schedules) node.__transition = {};\n  else if (id in schedules) return;\n  create(node, id, {\n    name: name,\n    index: index, // For context during callback.\n    group: group, // For context during callback.\n    on: emptyOn,\n    tween: emptyTween,\n    time: timing.time,\n    delay: timing.delay,\n    duration: timing.duration,\n    ease: timing.ease,\n    timer: null,\n    state: CREATED\n  });\n}\n\nexport function init(node, id) {\n  var schedule = get(node, id);\n  if (schedule.state > CREATED) throw new Error(\"too late; already scheduled\");\n  return schedule;\n}\n\nexport function set(node, id) {\n  var schedule = get(node, id);\n  if (schedule.state > STARTED) throw new Error(\"too late; already running\");\n  return schedule;\n}\n\nexport function get(node, id) {\n  var schedule = node.__transition;\n  if (!schedule || !(schedule = schedule[id])) throw new Error(\"transition not found\");\n  return schedule;\n}\n\nfunction create(node, id, self) {\n  var schedules = node.__transition,\n      tween;\n\n  // Initialize the self timer when the transition is created.\n  // Note the actual delay is not known until the first callback!\n  schedules[id] = self;\n  self.timer = timer(schedule, 0, self.time);\n\n  function schedule(elapsed) {\n    self.state = SCHEDULED;\n    self.timer.restart(start, self.delay, self.time);\n\n    // If the elapsed delay is less than our first sleep, start immediately.\n    if (self.delay <= elapsed) start(elapsed - self.delay);\n  }\n\n  function start(elapsed) {\n    var i, j, n, o;\n\n    // If the state is not SCHEDULED, then we previously errored on start.\n    if (self.state !== SCHEDULED) return stop();\n\n    for (i in schedules) {\n      o = schedules[i];\n      if (o.name !== self.name) continue;\n\n      // While this element already has a starting transition during this frame,\n      // defer starting an interrupting transition until that transition has a\n      // chance to tick (and possibly end); see d3/d3-transition#54!\n      if (o.state === STARTED) return timeout(start);\n\n      // Interrupt the active transition, if any.\n      if (o.state === RUNNING) {\n        o.state = ENDED;\n        o.timer.stop();\n        o.on.call(\"interrupt\", node, node.__data__, o.index, o.group);\n        delete schedules[i];\n      }\n\n      // Cancel any pre-empted transitions.\n      else if (+i < id) {\n        o.state = ENDED;\n        o.timer.stop();\n        o.on.call(\"cancel\", node, node.__data__, o.index, o.group);\n        delete schedules[i];\n      }\n    }\n\n    // Defer the first tick to end of the current frame; see d3/d3#1576.\n    // Note the transition may be canceled after start and before the first tick!\n    // Note this must be scheduled before the start event; see d3/d3-transition#16!\n    // Assuming this is successful, subsequent callbacks go straight to tick.\n    timeout(function() {\n      if (self.state === STARTED) {\n        self.state = RUNNING;\n        self.timer.restart(tick, self.delay, self.time);\n        tick(elapsed);\n      }\n    });\n\n    // Dispatch the start event.\n    // Note this must be done before the tween are initialized.\n    self.state = STARTING;\n    self.on.call(\"start\", node, node.__data__, self.index, self.group);\n    if (self.state !== STARTING) return; // interrupted\n    self.state = STARTED;\n\n    // Initialize the tween, deleting null tween.\n    tween = new Array(n = self.tween.length);\n    for (i = 0, j = -1; i < n; ++i) {\n      if (o = self.tween[i].value.call(node, node.__data__, self.index, self.group)) {\n        tween[++j] = o;\n      }\n    }\n    tween.length = j + 1;\n  }\n\n  function tick(elapsed) {\n    var t = elapsed < self.duration ? self.ease.call(null, elapsed / self.duration) : (self.timer.restart(stop), self.state = ENDING, 1),\n        i = -1,\n        n = tween.length;\n\n    while (++i < n) {\n      tween[i].call(node, t);\n    }\n\n    // Dispatch the end event.\n    if (self.state === ENDING) {\n      self.on.call(\"end\", node, node.__data__, self.index, self.group);\n      stop();\n    }\n  }\n\n  function stop() {\n    self.state = ENDED;\n    self.timer.stop();\n    delete schedules[id];\n    for (var i in schedules) return; // eslint-disable-line no-unused-vars\n    delete node.__transition;\n  }\n}\n","import {STARTING, ENDING, ENDED} from \"./transition/schedule.js\";\n\nexport default function(node, name) {\n  var schedules = node.__transition,\n      schedule,\n      active,\n      empty = true,\n      i;\n\n  if (!schedules) return;\n\n  name = name == null ? null : name + \"\";\n\n  for (i in schedules) {\n    if ((schedule = schedules[i]).name !== name) { empty = false; continue; }\n    active = schedule.state > STARTING && schedule.state < ENDING;\n    schedule.state = ENDED;\n    schedule.timer.stop();\n    schedule.on.call(active ? \"interrupt\" : \"cancel\", node, node.__data__, schedule.index, schedule.group);\n    delete schedules[i];\n  }\n\n  if (empty) delete node.__transition;\n}\n","import {get, set} from \"./schedule.js\";\n\nfunction tweenRemove(id, name) {\n  var tween0, tween1;\n  return function() {\n    var schedule = set(this, id),\n        tween = schedule.tween;\n\n    // If this node shared tween with the previous node,\n    // just assign the updated shared tween and were done!\n    // Otherwise, copy-on-write.\n    if (tween !== tween0) {\n      tween1 = tween0 = tween;\n      for (var i = 0, n = tween1.length; i < n; ++i) {\n        if (tween1[i].name === name) {\n          tween1 = tween1.slice();\n          tween1.splice(i, 1);\n          break;\n        }\n      }\n    }\n\n    schedule.tween = tween1;\n  };\n}\n\nfunction tweenFunction(id, name, value) {\n  var tween0, tween1;\n  if (typeof value !== \"function\") throw new Error;\n  return function() {\n    var schedule = set(this, id),\n        tween = schedule.tween;\n\n    // If this node shared tween with the previous node,\n    // just assign the updated shared tween and were done!\n    // Otherwise, copy-on-write.\n    if (tween !== tween0) {\n      tween1 = (tween0 = tween).slice();\n      for (var t = {name: name, value: value}, i = 0, n = tween1.length; i < n; ++i) {\n        if (tween1[i].name === name) {\n          tween1[i] = t;\n          break;\n        }\n      }\n      if (i === n) tween1.push(t);\n    }\n\n    schedule.tween = tween1;\n  };\n}\n\nexport default function(name, value) {\n  var id = this._id;\n\n  name += \"\";\n\n  if (arguments.length < 2) {\n    var tween = get(this.node(), id).tween;\n    for (var i = 0, n = tween.length, t; i < n; ++i) {\n      if ((t = tween[i]).name === name) {\n        return t.value;\n      }\n    }\n    return null;\n  }\n\n  return this.each((value == null ? tweenRemove : tweenFunction)(id, name, value));\n}\n\nexport function tweenValue(transition, name, value) {\n  var id = transition._id;\n\n  transition.each(function() {\n    var schedule = set(this, id);\n    (schedule.value || (schedule.value = {}))[name] = value.apply(this, arguments);\n  });\n\n  return function(node) {\n    return get(node, id).value[name];\n  };\n}\n","import {color} from \"d3-color\";\nimport {interpolateNumber, interpolateRgb, interpolateString} from \"d3-interpolate\";\n\nexport default function(a, b) {\n  var c;\n  return (typeof b === \"number\" ? interpolateNumber\n      : b instanceof color ? interpolateRgb\n      : (c = color(b)) ? (b = c, interpolateRgb)\n      : interpolateString)(a, b);\n}\n","import {interpolateTransformSvg as interpolateTransform} from \"d3-interpolate\";\nimport {namespace} from \"d3-selection\";\nimport {tweenValue} from \"./tween.js\";\nimport interpolate from \"./interpolate.js\";\n\nfunction attrRemove(name) {\n  return function() {\n    this.removeAttribute(name);\n  };\n}\n\nfunction attrRemoveNS(fullname) {\n  return function() {\n    this.removeAttributeNS(fullname.space, fullname.local);\n  };\n}\n\nfunction attrConstant(name, interpolate, value1) {\n  var string00,\n      string1 = value1 + \"\",\n      interpolate0;\n  return function() {\n    var string0 = this.getAttribute(name);\n    return string0 === string1 ? null\n        : string0 === string00 ? interpolate0\n        : interpolate0 = interpolate(string00 = string0, value1);\n  };\n}\n\nfunction attrConstantNS(fullname, interpolate, value1) {\n  var string00,\n      string1 = value1 + \"\",\n      interpolate0;\n  return function() {\n    var string0 = this.getAttributeNS(fullname.space, fullname.local);\n    return string0 === string1 ? null\n        : string0 === string00 ? interpolate0\n        : interpolate0 = interpolate(string00 = string0, value1);\n  };\n}\n\nfunction attrFunction(name, interpolate, value) {\n  var string00,\n      string10,\n      interpolate0;\n  return function() {\n    var string0, value1 = value(this), string1;\n    if (value1 == null) return void this.removeAttribute(name);\n    string0 = this.getAttribute(name);\n    string1 = value1 + \"\";\n    return string0 === string1 ? null\n        : string0 === string00 && string1 === string10 ? interpolate0\n        : (string10 = string1, interpolate0 = interpolate(string00 = string0, value1));\n  };\n}\n\nfunction attrFunctionNS(fullname, interpolate, value) {\n  var string00,\n      string10,\n      interpolate0;\n  return function() {\n    var string0, value1 = value(this), string1;\n    if (value1 == null) return void this.removeAttributeNS(fullname.space, fullname.local);\n    string0 = this.getAttributeNS(fullname.space, fullname.local);\n    string1 = value1 + \"\";\n    return string0 === string1 ? null\n        : string0 === string00 && string1 === string10 ? interpolate0\n        : (string10 = string1, interpolate0 = interpolate(string00 = string0, value1));\n  };\n}\n\nexport default function(name, value) {\n  var fullname = namespace(name), i = fullname === \"transform\" ? interpolateTransform : interpolate;\n  return this.attrTween(name, typeof value === \"function\"\n      ? (fullname.local ? attrFunctionNS : attrFunction)(fullname, i, tweenValue(this, \"attr.\" + name, value))\n      : value == null ? (fullname.local ? attrRemoveNS : attrRemove)(fullname)\n      : (fullname.local ? attrConstantNS : attrConstant)(fullname, i, value));\n}\n","import {namespace} from \"d3-selection\";\n\nfunction attrInterpolate(name, i) {\n  return function(t) {\n    this.setAttribute(name, i.call(this, t));\n  };\n}\n\nfunction attrInterpolateNS(fullname, i) {\n  return function(t) {\n    this.setAttributeNS(fullname.space, fullname.local, i.call(this, t));\n  };\n}\n\nfunction attrTweenNS(fullname, value) {\n  var t0, i0;\n  function tween() {\n    var i = value.apply(this, arguments);\n    if (i !== i0) t0 = (i0 = i) && attrInterpolateNS(fullname, i);\n    return t0;\n  }\n  tween._value = value;\n  return tween;\n}\n\nfunction attrTween(name, value) {\n  var t0, i0;\n  function tween() {\n    var i = value.apply(this, arguments);\n    if (i !== i0) t0 = (i0 = i) && attrInterpolate(name, i);\n    return t0;\n  }\n  tween._value = value;\n  return tween;\n}\n\nexport default function(name, value) {\n  var key = \"attr.\" + name;\n  if (arguments.length < 2) return (key = this.tween(key)) && key._value;\n  if (value == null) return this.tween(key, null);\n  if (typeof value !== \"function\") throw new Error;\n  var fullname = namespace(name);\n  return this.tween(key, (fullname.local ? attrTweenNS : attrTween)(fullname, value));\n}\n","import {get, init} from \"./schedule.js\";\n\nfunction delayFunction(id, value) {\n  return function() {\n    init(this, id).delay = +value.apply(this, arguments);\n  };\n}\n\nfunction delayConstant(id, value) {\n  return value = +value, function() {\n    init(this, id).delay = value;\n  };\n}\n\nexport default function(value) {\n  var id = this._id;\n\n  return arguments.length\n      ? this.each((typeof value === \"function\"\n          ? delayFunction\n          : delayConstant)(id, value))\n      : get(this.node(), id).delay;\n}\n","import {get, set} from \"./schedule.js\";\n\nfunction durationFunction(id, value) {\n  return function() {\n    set(this, id).duration = +value.apply(this, arguments);\n  };\n}\n\nfunction durationConstant(id, value) {\n  return value = +value, function() {\n    set(this, id).duration = value;\n  };\n}\n\nexport default function(value) {\n  var id = this._id;\n\n  return arguments.length\n      ? this.each((typeof value === \"function\"\n          ? durationFunction\n          : durationConstant)(id, value))\n      : get(this.node(), id).duration;\n}\n","import {get, set} from \"./schedule.js\";\n\nfunction easeConstant(id, value) {\n  if (typeof value !== \"function\") throw new Error;\n  return function() {\n    set(this, id).ease = value;\n  };\n}\n\nexport default function(value) {\n  var id = this._id;\n\n  return arguments.length\n      ? this.each(easeConstant(id, value))\n      : get(this.node(), id).ease;\n}\n","import {get, set, init} from \"./schedule.js\";\n\nfunction start(name) {\n  return (name + \"\").trim().split(/^|\\s+/).every(function(t) {\n    var i = t.indexOf(\".\");\n    if (i >= 0) t = t.slice(0, i);\n    return !t || t === \"start\";\n  });\n}\n\nfunction onFunction(id, name, listener) {\n  var on0, on1, sit = start(name) ? init : set;\n  return function() {\n    var schedule = sit(this, id),\n        on = schedule.on;\n\n    // If this node shared a dispatch with the previous node,\n    // just assign the updated shared dispatch and were done!\n    // Otherwise, copy-on-write.\n    if (on !== on0) (on1 = (on0 = on).copy()).on(name, listener);\n\n    schedule.on = on1;\n  };\n}\n\nexport default function(name, listener) {\n  var id = this._id;\n\n  return arguments.length < 2\n      ? get(this.node(), id).on.on(name)\n      : this.each(onFunction(id, name, listener));\n}\n","import {selection} from \"d3-selection\";\n\nvar Selection = selection.prototype.constructor;\n\nexport default function() {\n  return new Selection(this._groups, this._parents);\n}\n","import {interpolateTransformCss as interpolateTransform} from \"d3-interpolate\";\nimport {style} from \"d3-selection\";\nimport {set} from \"./schedule.js\";\nimport {tweenValue} from \"./tween.js\";\nimport interpolate from \"./interpolate.js\";\n\nfunction styleNull(name, interpolate) {\n  var string00,\n      string10,\n      interpolate0;\n  return function() {\n    var string0 = style(this, name),\n        string1 = (this.style.removeProperty(name), style(this, name));\n    return string0 === string1 ? null\n        : string0 === string00 && string1 === string10 ? interpolate0\n        : interpolate0 = interpolate(string00 = string0, string10 = string1);\n  };\n}\n\nfunction styleRemove(name) {\n  return function() {\n    this.style.removeProperty(name);\n  };\n}\n\nfunction styleConstant(name, interpolate, value1) {\n  var string00,\n      string1 = value1 + \"\",\n      interpolate0;\n  return function() {\n    var string0 = style(this, name);\n    return string0 === string1 ? null\n        : string0 === string00 ? interpolate0\n        : interpolate0 = interpolate(string00 = string0, value1);\n  };\n}\n\nfunction styleFunction(name, interpolate, value) {\n  var string00,\n      string10,\n      interpolate0;\n  return function() {\n    var string0 = style(this, name),\n        value1 = value(this),\n        string1 = value1 + \"\";\n    if (value1 == null) string1 = value1 = (this.style.removeProperty(name), style(this, name));\n    return string0 === string1 ? null\n        : string0 === string00 && string1 === string10 ? interpolate0\n        : (string10 = string1, interpolate0 = interpolate(string00 = string0, value1));\n  };\n}\n\nfunction styleMaybeRemove(id, name) {\n  var on0, on1, listener0, key = \"style.\" + name, event = \"end.\" + key, remove;\n  return function() {\n    var schedule = set(this, id),\n        on = schedule.on,\n        listener = schedule.value[key] == null ? remove || (remove = styleRemove(name)) : undefined;\n\n    // If this node shared a dispatch with the previous node,\n    // just assign the updated shared dispatch and were done!\n    // Otherwise, copy-on-write.\n    if (on !== on0 || listener0 !== listener) (on1 = (on0 = on).copy()).on(event, listener0 = listener);\n\n    schedule.on = on1;\n  };\n}\n\nexport default function(name, value, priority) {\n  var i = (name += \"\") === \"transform\" ? interpolateTransform : interpolate;\n  return value == null ? this\n      .styleTween(name, styleNull(name, i))\n      .on(\"end.style.\" + name, styleRemove(name))\n    : typeof value === \"function\" ? this\n      .styleTween(name, styleFunction(name, i, tweenValue(this, \"style.\" + name, value)))\n      .each(styleMaybeRemove(this._id, name))\n    : this\n      .styleTween(name, styleConstant(name, i, value), priority)\n      .on(\"end.style.\" + name, null);\n}\n","function styleInterpolate(name, i, priority) {\n  return function(t) {\n    this.style.setProperty(name, i.call(this, t), priority);\n  };\n}\n\nfunction styleTween(name, value, priority) {\n  var t, i0;\n  function tween() {\n    var i = value.apply(this, arguments);\n    if (i !== i0) t = (i0 = i) && styleInterpolate(name, i, priority);\n    return t;\n  }\n  tween._value = value;\n  return tween;\n}\n\nexport default function(name, value, priority) {\n  var key = \"style.\" + (name += \"\");\n  if (arguments.length < 2) return (key = this.tween(key)) && key._value;\n  if (value == null) return this.tween(key, null);\n  if (typeof value !== \"function\") throw new Error;\n  return this.tween(key, styleTween(name, value, priority == null ? \"\" : priority));\n}\n","function textInterpolate(i) {\n  return function(t) {\n    this.textContent = i.call(this, t);\n  };\n}\n\nfunction textTween(value) {\n  var t0, i0;\n  function tween() {\n    var i = value.apply(this, arguments);\n    if (i !== i0) t0 = (i0 = i) && textInterpolate(i);\n    return t0;\n  }\n  tween._value = value;\n  return tween;\n}\n\nexport default function(value) {\n  var key = \"text\";\n  if (arguments.length < 1) return (key = this.tween(key)) && key._value;\n  if (value == null) return this.tween(key, null);\n  if (typeof value !== \"function\") throw new Error;\n  return this.tween(key, textTween(value));\n}\n","import {selection} from \"d3-selection\";\nimport transition_attr from \"./attr.js\";\nimport transition_attrTween from \"./attrTween.js\";\nimport transition_delay from \"./delay.js\";\nimport transition_duration from \"./duration.js\";\nimport transition_ease from \"./ease.js\";\nimport transition_filter from \"./filter.js\";\nimport transition_merge from \"./merge.js\";\nimport transition_on from \"./on.js\";\nimport transition_remove from \"./remove.js\";\nimport transition_select from \"./select.js\";\nimport transition_selectAll from \"./selectAll.js\";\nimport transition_selection from \"./selection.js\";\nimport transition_style from \"./style.js\";\nimport transition_styleTween from \"./styleTween.js\";\nimport transition_text from \"./text.js\";\nimport transition_textTween from \"./textTween.js\";\nimport transition_transition from \"./transition.js\";\nimport transition_tween from \"./tween.js\";\nimport transition_end from \"./end.js\";\n\nvar id = 0;\n\nexport function Transition(groups, parents, name, id) {\n  this._groups = groups;\n  this._parents = parents;\n  this._name = name;\n  this._id = id;\n}\n\nexport default function transition(name) {\n  return selection().transition(name);\n}\n\nexport function newId() {\n  return ++id;\n}\n\nvar selection_prototype = selection.prototype;\n\nTransition.prototype = transition.prototype = {\n  constructor: Transition,\n  select: transition_select,\n  selectAll: transition_selectAll,\n  filter: transition_filter,\n  merge: transition_merge,\n  selection: transition_selection,\n  transition: transition_transition,\n  call: selection_prototype.call,\n  nodes: selection_prototype.nodes,\n  node: selection_prototype.node,\n  size: selection_prototype.size,\n  empty: selection_prototype.empty,\n  each: selection_prototype.each,\n  on: transition_on,\n  attr: transition_attr,\n  attrTween: transition_attrTween,\n  style: transition_style,\n  styleTween: transition_styleTween,\n  text: transition_text,\n  textTween: transition_textTween,\n  remove: transition_remove,\n  tween: transition_tween,\n  delay: transition_delay,\n  duration: transition_duration,\n  ease: transition_ease,\n  end: transition_end\n};\n","import {selector} from \"d3-selection\";\nimport {Transition} from \"./index.js\";\nimport schedule, {get} from \"./schedule.js\";\n\nexport default function(select) {\n  var name = this._name,\n      id = this._id;\n\n  if (typeof select !== \"function\") select = selector(select);\n\n  for (var groups = this._groups, m = groups.length, subgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, subgroup = subgroups[j] = new Array(n), node, subnode, i = 0; i < n; ++i) {\n      if ((node = group[i]) && (subnode = select.call(node, node.__data__, i, group))) {\n        if (\"__data__\" in node) subnode.__data__ = node.__data__;\n        subgroup[i] = subnode;\n        schedule(subgroup[i], name, id, i, subgroup, get(node, id));\n      }\n    }\n  }\n\n  return new Transition(subgroups, this._parents, name, id);\n}\n","import {selectorAll} from \"d3-selection\";\nimport {Transition} from \"./index.js\";\nimport schedule, {get} from \"./schedule.js\";\n\nexport default function(select) {\n  var name = this._name,\n      id = this._id;\n\n  if (typeof select !== \"function\") select = selectorAll(select);\n\n  for (var groups = this._groups, m = groups.length, subgroups = [], parents = [], j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, node, i = 0; i < n; ++i) {\n      if (node = group[i]) {\n        for (var children = select.call(node, node.__data__, i, group), child, inherit = get(node, id), k = 0, l = children.length; k < l; ++k) {\n          if (child = children[k]) {\n            schedule(child, name, id, k, children, inherit);\n          }\n        }\n        subgroups.push(children);\n        parents.push(node);\n      }\n    }\n  }\n\n  return new Transition(subgroups, parents, name, id);\n}\n","import {matcher} from \"d3-selection\";\nimport {Transition} from \"./index.js\";\n\nexport default function(match) {\n  if (typeof match !== \"function\") match = matcher(match);\n\n  for (var groups = this._groups, m = groups.length, subgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, subgroup = subgroups[j] = [], node, i = 0; i < n; ++i) {\n      if ((node = group[i]) && match.call(node, node.__data__, i, group)) {\n        subgroup.push(node);\n      }\n    }\n  }\n\n  return new Transition(subgroups, this._parents, this._name, this._id);\n}\n","import {Transition} from \"./index.js\";\n\nexport default function(transition) {\n  if (transition._id !== this._id) throw new Error;\n\n  for (var groups0 = this._groups, groups1 = transition._groups, m0 = groups0.length, m1 = groups1.length, m = Math.min(m0, m1), merges = new Array(m0), j = 0; j < m; ++j) {\n    for (var group0 = groups0[j], group1 = groups1[j], n = group0.length, merge = merges[j] = new Array(n), node, i = 0; i < n; ++i) {\n      if (node = group0[i] || group1[i]) {\n        merge[i] = node;\n      }\n    }\n  }\n\n  for (; j < m0; ++j) {\n    merges[j] = groups0[j];\n  }\n\n  return new Transition(merges, this._parents, this._name, this._id);\n}\n","import {Transition, newId} from \"./index.js\";\nimport schedule, {get} from \"./schedule.js\";\n\nexport default function() {\n  var name = this._name,\n      id0 = this._id,\n      id1 = newId();\n\n  for (var groups = this._groups, m = groups.length, j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, node, i = 0; i < n; ++i) {\n      if (node = group[i]) {\n        var inherit = get(node, id0);\n        schedule(node, name, id1, i, group, {\n          time: inherit.time + inherit.delay + inherit.duration,\n          delay: 0,\n          duration: inherit.duration,\n          ease: inherit.ease\n        });\n      }\n    }\n  }\n\n  return new Transition(groups, this._parents, name, id1);\n}\n","import {tweenValue} from \"./tween.js\";\n\nfunction textConstant(value) {\n  return function() {\n    this.textContent = value;\n  };\n}\n\nfunction textFunction(value) {\n  return function() {\n    var value1 = value(this);\n    this.textContent = value1 == null ? \"\" : value1;\n  };\n}\n\nexport default function(value) {\n  return this.tween(\"text\", typeof value === \"function\"\n      ? textFunction(tweenValue(this, \"text\", value))\n      : textConstant(value == null ? \"\" : value + \"\"));\n}\n","function removeFunction(id) {\n  return function() {\n    var parent = this.parentNode;\n    for (var i in this.__transition) if (+i !== id) return;\n    if (parent) parent.removeChild(this);\n  };\n}\n\nexport default function() {\n  return this.on(\"end.remove\", removeFunction(this._id));\n}\n","import {set} from \"./schedule.js\";\n\nexport default function() {\n  var on0, on1, that = this, id = that._id, size = that.size();\n  return new Promise(function(resolve, reject) {\n    var cancel = {value: reject},\n        end = {value: function() { if (--size === 0) resolve(); }};\n\n    that.each(function() {\n      var schedule = set(this, id),\n          on = schedule.on;\n\n      // If this node shared a dispatch with the previous node,\n      // just assign the updated shared dispatch and were done!\n      // Otherwise, copy-on-write.\n      if (on !== on0) {\n        on1 = (on0 = on).copy();\n        on1._.cancel.push(cancel);\n        on1._.interrupt.push(cancel);\n        on1._.end.push(end);\n      }\n\n      schedule.on = on1;\n    });\n  });\n}\n","import {Transition, newId} from \"../transition/index.js\";\nimport schedule from \"../transition/schedule.js\";\nimport {easeCubicInOut} from \"d3-ease\";\nimport {now} from \"d3-timer\";\n\nvar defaultTiming = {\n  time: null, // Set on use.\n  delay: 0,\n  duration: 250,\n  ease: easeCubicInOut\n};\n\nfunction inherit(node, id) {\n  var timing;\n  while (!(timing = node.__transition) || !(timing = timing[id])) {\n    if (!(node = node.parentNode)) {\n      return defaultTiming.time = now(), defaultTiming;\n    }\n  }\n  return timing;\n}\n\nexport default function(name) {\n  var id,\n      timing;\n\n  if (name instanceof Transition) {\n    id = name._id, name = name._name;\n  } else {\n    id = newId(), (timing = defaultTiming).time = now(), name = name == null ? null : name + \"\";\n  }\n\n  for (var groups = this._groups, m = groups.length, j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, node, i = 0; i < n; ++i) {\n      if (node = group[i]) {\n        schedule(node, name, id, i, group, timing || inherit(node, id));\n      }\n    }\n  }\n\n  return new Transition(groups, this._parents, name, id);\n}\n","export function cubicIn(t) {\n  return t * t * t;\n}\n\nexport function cubicOut(t) {\n  return --t * t * t + 1;\n}\n\nexport function cubicInOut(t) {\n  return ((t *= 2) <= 1 ? t * t * t : (t -= 2) * t * t + 2) / 2;\n}\n","export default function(x) {\n  return function() {\n    return x;\n  };\n}\n","export default function(target, type, selection) {\n  this.target = target;\n  this.type = type;\n  this.selection = selection;\n}\n","import {event} from \"d3-selection\";\n\nexport function nopropagation() {\n  event.stopImmediatePropagation();\n}\n\nexport default function() {\n  event.preventDefault();\n  event.stopImmediatePropagation();\n}\n","import {selection} from \"d3-selection\";\nimport selection_interrupt from \"./interrupt.js\";\nimport selection_transition from \"./transition.js\";\n\nselection.prototype.interrupt = selection_interrupt;\nselection.prototype.transition = selection_transition;\n","import interrupt from \"../interrupt.js\";\n\nexport default function(name) {\n  return this.each(function() {\n    interrupt(this, name);\n  });\n}\n","import {dispatch} from \"d3-dispatch\";\nimport {dragDisable, dragEnable} from \"d3-drag\";\nimport {interpolate} from \"d3-interpolate\";\nimport {customEvent, event, touch, mouse, select} from \"d3-selection\";\nimport {interrupt} from \"d3-transition\";\nimport constant from \"./constant.js\";\nimport BrushEvent from \"./event.js\";\nimport noevent, {nopropagation} from \"./noevent.js\";\n\nvar MODE_DRAG = {name: \"drag\"},\n    MODE_SPACE = {name: \"space\"},\n    MODE_HANDLE = {name: \"handle\"},\n    MODE_CENTER = {name: \"center\"};\n\nfunction number1(e) {\n  return [+e[0], +e[1]];\n}\n\nfunction number2(e) {\n  return [number1(e[0]), number1(e[1])];\n}\n\nfunction toucher(identifier) {\n  return function(target) {\n    return touch(target, event.touches, identifier);\n  };\n}\n\nvar X = {\n  name: \"x\",\n  handles: [\"w\", \"e\"].map(type),\n  input: function(x, e) { return x == null ? null : [[+x[0], e[0][1]], [+x[1], e[1][1]]]; },\n  output: function(xy) { return xy && [xy[0][0], xy[1][0]]; }\n};\n\nvar Y = {\n  name: \"y\",\n  handles: [\"n\", \"s\"].map(type),\n  input: function(y, e) { return y == null ? null : [[e[0][0], +y[0]], [e[1][0], +y[1]]]; },\n  output: function(xy) { return xy && [xy[0][1], xy[1][1]]; }\n};\n\nvar XY = {\n  name: \"xy\",\n  handles: [\"n\", \"w\", \"e\", \"s\", \"nw\", \"ne\", \"sw\", \"se\"].map(type),\n  input: function(xy) { return xy == null ? null : number2(xy); },\n  output: function(xy) { return xy; }\n};\n\nvar cursors = {\n  overlay: \"crosshair\",\n  selection: \"move\",\n  n: \"ns-resize\",\n  e: \"ew-resize\",\n  s: \"ns-resize\",\n  w: \"ew-resize\",\n  nw: \"nwse-resize\",\n  ne: \"nesw-resize\",\n  se: \"nwse-resize\",\n  sw: \"nesw-resize\"\n};\n\nvar flipX = {\n  e: \"w\",\n  w: \"e\",\n  nw: \"ne\",\n  ne: \"nw\",\n  se: \"sw\",\n  sw: \"se\"\n};\n\nvar flipY = {\n  n: \"s\",\n  s: \"n\",\n  nw: \"sw\",\n  ne: \"se\",\n  se: \"ne\",\n  sw: \"nw\"\n};\n\nvar signsX = {\n  overlay: +1,\n  selection: +1,\n  n: null,\n  e: +1,\n  s: null,\n  w: -1,\n  nw: -1,\n  ne: +1,\n  se: +1,\n  sw: -1\n};\n\nvar signsY = {\n  overlay: +1,\n  selection: +1,\n  n: -1,\n  e: null,\n  s: +1,\n  w: null,\n  nw: -1,\n  ne: -1,\n  se: +1,\n  sw: +1\n};\n\nfunction type(t) {\n  return {type: t};\n}\n\n// Ignore right-click, since that should open the context menu.\nfunction defaultFilter() {\n  return !event.ctrlKey && !event.button;\n}\n\nfunction defaultExtent() {\n  var svg = this.ownerSVGElement || this;\n  if (svg.hasAttribute(\"viewBox\")) {\n    svg = svg.viewBox.baseVal;\n    return [[svg.x, svg.y], [svg.x + svg.width, svg.y + svg.height]];\n  }\n  return [[0, 0], [svg.width.baseVal.value, svg.height.baseVal.value]];\n}\n\nfunction defaultTouchable() {\n  return navigator.maxTouchPoints || (\"ontouchstart\" in this);\n}\n\n// Like d3.local, but with the name __brush rather than auto-generated.\nfunction local(node) {\n  while (!node.__brush) if (!(node = node.parentNode)) return;\n  return node.__brush;\n}\n\nfunction empty(extent) {\n  return extent[0][0] === extent[1][0]\n      || extent[0][1] === extent[1][1];\n}\n\nexport function brushSelection(node) {\n  var state = node.__brush;\n  return state ? state.dim.output(state.selection) : null;\n}\n\nexport function brushX() {\n  return brush(X);\n}\n\nexport function brushY() {\n  return brush(Y);\n}\n\nexport default function() {\n  return brush(XY);\n}\n\nfunction brush(dim) {\n  var extent = defaultExtent,\n      filter = defaultFilter,\n      touchable = defaultTouchable,\n      keys = true,\n      listeners = dispatch(\"start\", \"brush\", \"end\"),\n      handleSize = 6,\n      touchending;\n\n  function brush(group) {\n    var overlay = group\n        .property(\"__brush\", initialize)\n      .selectAll(\".overlay\")\n      .data([type(\"overlay\")]);\n\n    overlay.enter().append(\"rect\")\n        .attr(\"class\", \"overlay\")\n        .attr(\"pointer-events\", \"all\")\n        .attr(\"cursor\", cursors.overlay)\n      .merge(overlay)\n        .each(function() {\n          var extent = local(this).extent;\n          select(this)\n              .attr(\"x\", extent[0][0])\n              .attr(\"y\", extent[0][1])\n              .attr(\"width\", extent[1][0] - extent[0][0])\n              .attr(\"height\", extent[1][1] - extent[0][1]);\n        });\n\n    group.selectAll(\".selection\")\n      .data([type(\"selection\")])\n      .enter().append(\"rect\")\n        .attr(\"class\", \"selection\")\n        .attr(\"cursor\", cursors.selection)\n        .attr(\"fill\", \"#777\")\n        .attr(\"fill-opacity\", 0.3)\n        .attr(\"stroke\", \"#fff\")\n        .attr(\"shape-rendering\", \"crispEdges\");\n\n    var handle = group.selectAll(\".handle\")\n      .data(dim.handles, function(d) { return d.type; });\n\n    handle.exit().remove();\n\n    handle.enter().append(\"rect\")\n        .attr(\"class\", function(d) { return \"handle handle--\" + d.type; })\n        .attr(\"cursor\", function(d) { return cursors[d.type]; });\n\n    group\n        .each(redraw)\n        .attr(\"fill\", \"none\")\n        .attr(\"pointer-events\", \"all\")\n        .on(\"mousedown.brush\", started)\n      .filter(touchable)\n        .on(\"touchstart.brush\", started)\n        .on(\"touchmove.brush\", touchmoved)\n        .on(\"touchend.brush touchcancel.brush\", touchended)\n        .style(\"touch-action\", \"none\")\n        .style(\"-webkit-tap-highlight-color\", \"rgba(0,0,0,0)\");\n  }\n\n  brush.move = function(group, selection) {\n    if (group.selection) {\n      group\n          .on(\"start.brush\", function() { emitter(this, arguments).beforestart().start(); })\n          .on(\"interrupt.brush end.brush\", function() { emitter(this, arguments).end(); })\n          .tween(\"brush\", function() {\n            var that = this,\n                state = that.__brush,\n                emit = emitter(that, arguments),\n                selection0 = state.selection,\n                selection1 = dim.input(typeof selection === \"function\" ? selection.apply(this, arguments) : selection, state.extent),\n                i = interpolate(selection0, selection1);\n\n            function tween(t) {\n              state.selection = t === 1 && selection1 === null ? null : i(t);\n              redraw.call(that);\n              emit.brush();\n            }\n\n            return selection0 !== null && selection1 !== null ? tween : tween(1);\n          });\n    } else {\n      group\n          .each(function() {\n            var that = this,\n                args = arguments,\n                state = that.__brush,\n                selection1 = dim.input(typeof selection === \"function\" ? selection.apply(that, args) : selection, state.extent),\n                emit = emitter(that, args).beforestart();\n\n            interrupt(that);\n            state.selection = selection1 === null ? null : selection1;\n            redraw.call(that);\n            emit.start().brush().end();\n          });\n    }\n  };\n\n  brush.clear = function(group) {\n    brush.move(group, null);\n  };\n\n  function redraw() {\n    var group = select(this),\n        selection = local(this).selection;\n\n    if (selection) {\n      group.selectAll(\".selection\")\n          .style(\"display\", null)\n          .attr(\"x\", selection[0][0])\n          .attr(\"y\", selection[0][1])\n          .attr(\"width\", selection[1][0] - selection[0][0])\n          .attr(\"height\", selection[1][1] - selection[0][1]);\n\n      group.selectAll(\".handle\")\n          .style(\"display\", null)\n          .attr(\"x\", function(d) { return d.type[d.type.length - 1] === \"e\" ? selection[1][0] - handleSize / 2 : selection[0][0] - handleSize / 2; })\n          .attr(\"y\", function(d) { return d.type[0] === \"s\" ? selection[1][1] - handleSize / 2 : selection[0][1] - handleSize / 2; })\n          .attr(\"width\", function(d) { return d.type === \"n\" || d.type === \"s\" ? selection[1][0] - selection[0][0] + handleSize : handleSize; })\n          .attr(\"height\", function(d) { return d.type === \"e\" || d.type === \"w\" ? selection[1][1] - selection[0][1] + handleSize : handleSize; });\n    }\n\n    else {\n      group.selectAll(\".selection,.handle\")\n          .style(\"display\", \"none\")\n          .attr(\"x\", null)\n          .attr(\"y\", null)\n          .attr(\"width\", null)\n          .attr(\"height\", null);\n    }\n  }\n\n  function emitter(that, args, clean) {\n    return (!clean && that.__brush.emitter) || new Emitter(that, args);\n  }\n\n  function Emitter(that, args) {\n    this.that = that;\n    this.args = args;\n    this.state = that.__brush;\n    this.active = 0;\n  }\n\n  Emitter.prototype = {\n    beforestart: function() {\n      if (++this.active === 1) this.state.emitter = this, this.starting = true;\n      return this;\n    },\n    start: function() {\n      if (this.starting) this.starting = false, this.emit(\"start\");\n      else this.emit(\"brush\");\n      return this;\n    },\n    brush: function() {\n      this.emit(\"brush\");\n      return this;\n    },\n    end: function() {\n      if (--this.active === 0) delete this.state.emitter, this.emit(\"end\");\n      return this;\n    },\n    emit: function(type) {\n      customEvent(new BrushEvent(brush, type, dim.output(this.state.selection)), listeners.apply, listeners, [type, this.that, this.args]);\n    }\n  };\n\n  function started() {\n    if (touchending && !event.touches) return;\n    if (!filter.apply(this, arguments)) return;\n\n    var that = this,\n        type = event.target.__data__.type,\n        mode = (keys && event.metaKey ? type = \"overlay\" : type) === \"selection\" ? MODE_DRAG : (keys && event.altKey ? MODE_CENTER : MODE_HANDLE),\n        signX = dim === Y ? null : signsX[type],\n        signY = dim === X ? null : signsY[type],\n        state = local(that),\n        extent = state.extent,\n        selection = state.selection,\n        W = extent[0][0], w0, w1,\n        N = extent[0][1], n0, n1,\n        E = extent[1][0], e0, e1,\n        S = extent[1][1], s0, s1,\n        dx = 0,\n        dy = 0,\n        moving,\n        shifting = signX && signY && keys && event.shiftKey,\n        lockX,\n        lockY,\n        pointer = event.touches ? toucher(event.changedTouches[0].identifier) : mouse,\n        point0 = pointer(that),\n        point = point0,\n        emit = emitter(that, arguments, true).beforestart();\n\n    if (type === \"overlay\") {\n      if (selection) moving = true;\n      state.selection = selection = [\n        [w0 = dim === Y ? W : point0[0], n0 = dim === X ? N : point0[1]],\n        [e0 = dim === Y ? E : w0, s0 = dim === X ? S : n0]\n      ];\n    } else {\n      w0 = selection[0][0];\n      n0 = selection[0][1];\n      e0 = selection[1][0];\n      s0 = selection[1][1];\n    }\n\n    w1 = w0;\n    n1 = n0;\n    e1 = e0;\n    s1 = s0;\n\n    var group = select(that)\n        .attr(\"pointer-events\", \"none\");\n\n    var overlay = group.selectAll(\".overlay\")\n        .attr(\"cursor\", cursors[type]);\n\n    if (event.touches) {\n      emit.moved = moved;\n      emit.ended = ended;\n    } else {\n      var view = select(event.view)\n          .on(\"mousemove.brush\", moved, true)\n          .on(\"mouseup.brush\", ended, true);\n      if (keys) view\n          .on(\"keydown.brush\", keydowned, true)\n          .on(\"keyup.brush\", keyupped, true)\n\n      dragDisable(event.view);\n    }\n\n    nopropagation();\n    interrupt(that);\n    redraw.call(that);\n    emit.start();\n\n    function moved() {\n      var point1 = pointer(that);\n      if (shifting && !lockX && !lockY) {\n        if (Math.abs(point1[0] - point[0]) > Math.abs(point1[1] - point[1])) lockY = true;\n        else lockX = true;\n      }\n      point = point1;\n      moving = true;\n      noevent();\n      move();\n    }\n\n    function move() {\n      var t;\n\n      dx = point[0] - point0[0];\n      dy = point[1] - point0[1];\n\n      switch (mode) {\n        case MODE_SPACE:\n        case MODE_DRAG: {\n          if (signX) dx = Math.max(W - w0, Math.min(E - e0, dx)), w1 = w0 + dx, e1 = e0 + dx;\n          if (signY) dy = Math.max(N - n0, Math.min(S - s0, dy)), n1 = n0 + dy, s1 = s0 + dy;\n          break;\n        }\n        case MODE_HANDLE: {\n          if (signX < 0) dx = Math.max(W - w0, Math.min(E - w0, dx)), w1 = w0 + dx, e1 = e0;\n          else if (signX > 0) dx = Math.max(W - e0, Math.min(E - e0, dx)), w1 = w0, e1 = e0 + dx;\n          if (signY < 0) dy = Math.max(N - n0, Math.min(S - n0, dy)), n1 = n0 + dy, s1 = s0;\n          else if (signY > 0) dy = Math.max(N - s0, Math.min(S - s0, dy)), n1 = n0, s1 = s0 + dy;\n          break;\n        }\n        case MODE_CENTER: {\n          if (signX) w1 = Math.max(W, Math.min(E, w0 - dx * signX)), e1 = Math.max(W, Math.min(E, e0 + dx * signX));\n          if (signY) n1 = Math.max(N, Math.min(S, n0 - dy * signY)), s1 = Math.max(N, Math.min(S, s0 + dy * signY));\n          break;\n        }\n      }\n\n      if (e1 < w1) {\n        signX *= -1;\n        t = w0, w0 = e0, e0 = t;\n        t = w1, w1 = e1, e1 = t;\n        if (type in flipX) overlay.attr(\"cursor\", cursors[type = flipX[type]]);\n      }\n\n      if (s1 < n1) {\n        signY *= -1;\n        t = n0, n0 = s0, s0 = t;\n        t = n1, n1 = s1, s1 = t;\n        if (type in flipY) overlay.attr(\"cursor\", cursors[type = flipY[type]]);\n      }\n\n      if (state.selection) selection = state.selection; // May be set by brush.move!\n      if (lockX) w1 = selection[0][0], e1 = selection[1][0];\n      if (lockY) n1 = selection[0][1], s1 = selection[1][1];\n\n      if (selection[0][0] !== w1\n          || selection[0][1] !== n1\n          || selection[1][0] !== e1\n          || selection[1][1] !== s1) {\n        state.selection = [[w1, n1], [e1, s1]];\n        redraw.call(that);\n        emit.brush();\n      }\n    }\n\n    function ended() {\n      nopropagation();\n      if (event.touches) {\n        if (event.touches.length) return;\n        if (touchending) clearTimeout(touchending);\n        touchending = setTimeout(function() { touchending = null; }, 500); // Ghost clicks are delayed!\n      } else {\n        dragEnable(event.view, moving);\n        view.on(\"keydown.brush keyup.brush mousemove.brush mouseup.brush\", null);\n      }\n      group.attr(\"pointer-events\", \"all\");\n      overlay.attr(\"cursor\", cursors.overlay);\n      if (state.selection) selection = state.selection; // May be set by brush.move (on start)!\n      if (empty(selection)) state.selection = null, redraw.call(that);\n      emit.end();\n    }\n\n    function keydowned() {\n      switch (event.keyCode) {\n        case 16: { // SHIFT\n          shifting = signX && signY;\n          break;\n        }\n        case 18: { // ALT\n          if (mode === MODE_HANDLE) {\n            if (signX) e0 = e1 - dx * signX, w0 = w1 + dx * signX;\n            if (signY) s0 = s1 - dy * signY, n0 = n1 + dy * signY;\n            mode = MODE_CENTER;\n            move();\n          }\n          break;\n        }\n        case 32: { // SPACE; takes priority over ALT\n          if (mode === MODE_HANDLE || mode === MODE_CENTER) {\n            if (signX < 0) e0 = e1 - dx; else if (signX > 0) w0 = w1 - dx;\n            if (signY < 0) s0 = s1 - dy; else if (signY > 0) n0 = n1 - dy;\n            mode = MODE_SPACE;\n            overlay.attr(\"cursor\", cursors.selection);\n            move();\n          }\n          break;\n        }\n        default: return;\n      }\n      noevent();\n    }\n\n    function keyupped() {\n      switch (event.keyCode) {\n        case 16: { // SHIFT\n          if (shifting) {\n            lockX = lockY = shifting = false;\n            move();\n          }\n          break;\n        }\n        case 18: { // ALT\n          if (mode === MODE_CENTER) {\n            if (signX < 0) e0 = e1; else if (signX > 0) w0 = w1;\n            if (signY < 0) s0 = s1; else if (signY > 0) n0 = n1;\n            mode = MODE_HANDLE;\n            move();\n          }\n          break;\n        }\n        case 32: { // SPACE\n          if (mode === MODE_SPACE) {\n            if (event.altKey) {\n              if (signX) e0 = e1 - dx * signX, w0 = w1 + dx * signX;\n              if (signY) s0 = s1 - dy * signY, n0 = n1 + dy * signY;\n              mode = MODE_CENTER;\n            } else {\n              if (signX < 0) e0 = e1; else if (signX > 0) w0 = w1;\n              if (signY < 0) s0 = s1; else if (signY > 0) n0 = n1;\n              mode = MODE_HANDLE;\n            }\n            overlay.attr(\"cursor\", cursors[type]);\n            move();\n          }\n          break;\n        }\n        default: return;\n      }\n      noevent();\n    }\n  }\n\n  function touchmoved() {\n    emitter(this, arguments).moved();\n  }\n\n  function touchended() {\n    emitter(this, arguments).ended();\n  }\n\n  function initialize() {\n    var state = this.__brush || {selection: null};\n    state.extent = number2(extent.apply(this, arguments));\n    state.dim = dim;\n    return state;\n  }\n\n  brush.extent = function(_) {\n    return arguments.length ? (extent = typeof _ === \"function\" ? _ : constant(number2(_)), brush) : extent;\n  };\n\n  brush.filter = function(_) {\n    return arguments.length ? (filter = typeof _ === \"function\" ? _ : constant(!!_), brush) : filter;\n  };\n\n  brush.touchable = function(_) {\n    return arguments.length ? (touchable = typeof _ === \"function\" ? _ : constant(!!_), brush) : touchable;\n  };\n\n  brush.handleSize = function(_) {\n    return arguments.length ? (handleSize = +_, brush) : handleSize;\n  };\n\n  brush.keyModifiers = function(_) {\n    return arguments.length ? (keys = !!_, brush) : keys;\n  };\n\n  brush.on = function() {\n    var value = listeners.on.apply(listeners, arguments);\n    return value === listeners ? brush : value;\n  };\n\n  return brush;\n}\n","import { LitElement } from 'lit-element';\n\nimport { shapeProperties  } from '../helper/utils.js';\nimport * as brush from 'd3-brush';\n\nconst instance = brush.brush();\nconst keys = Object.keys(instance || {});\nconst props = shapeProperties(keys)\n\nclass D3Brush extends LitElement {\n\n  static get properties() {\n\n    return {\n\n      ...props,\n\n      type: {\n        type: String\n      },\n\n      \n    };\n  }\n  \n  constructor() {\n    super();\n    this.__init = true;\n  }\n\n  update(props) {\n    super.update(props);\n    this.log && console.info(`d3-brush${this.type} update`, props)\n    if (!this.type && !props.has('type')) {\n      this.type = 'brushX';\n    }\n\n    if (!this.brush || props.has('type')) {\n      this.brush = brush[this.type]();\n    }\n\n    if (this.brush) {\n      this.updateWrapper(props);\n    }\n  }\n\n  updateWrapper(props) {\n    let shallNotify = this.__init;\n    props.forEach((value, key) => {\n      if ((this[key] !== undefined) && key !== 'brush' && this.brush[key]) {\n        shallNotify = true;\n        this.brush[key](this[key]);\n      }\n    });\n    if(shallNotify) {\n      this.dispatchEvent(new CustomEvent(`brush-changed`, { detail: { value: this.brush, type: this.type }, bubbles: true, composed: true }));\n       delete this.__init;\n    }\n  }\n}\n\nexport default D3Brush;\n","import { select } from 'd3-selection';\nimport { transition } from 'd3-transition';\n\nexport const selectShadow = (selector, el) => {\n  return select(el.renderRoot.querySelector(selector));\n}\nexport const queryShadow = (selector, el) => {\n  return el.renderRoot.querySelector(selector);\n}\n\nexport default selectShadow;\n","/**\n * a mixin for avoiding that undefined attributes or properties values set by parent \n * are applied to the element\n * @param  {LiElement Class} baseElement \n * @return {LitElement Class}             \n */\n\n/**\n * Change function that returns true if `value` is different from `oldValue`.\n * This method is used as the default for a property's `hasChanged` function.\n */\nexport const notEqual = (value, old) => {\n  // This ensures (old==NaN, value==NaN) always returns false\n  return old !== value && (old === old || value === value);\n};\n\nconst defaultConverter = {\n  toAttribute(value, type) {\n    switch (type) {\n      case Boolean:\n        return value ? '' : null;\n      case Object:\n      case Array:\n        // if the value is `null` or `undefined` pass this through\n        // to allow removing/no change behavior.\n        return value == null ? value : JSON.stringify(value);\n    }\n    return value;\n  },\n  fromAttribute(value, type) {\n    switch (type) {\n      case Boolean:\n        return value !== null;\n      case Number:\n        return value === null ? null : Number(value);\n      case Object:\n      case Array:\n        return JSON.parse(value);\n    }\n    return value;\n  }\n};\n\nconst defaultPropertyDeclaration = {\n  attribute: true,\n  type: String,\n  converter: defaultConverter,\n  reflect: false,\n  hasChanged: notEqual\n};\n\nexport const doNotSetUndefinedValue = (baseElement) => class extends baseElement {\n\n  /**\n   * Override the LitElement `createProperty` method to avoid undefined values to be set\n   *\n   * Creates a property accessor on the element prototype if one does not exist.\n   * The property setter calls the property's `hasChanged` property option\n   * or uses a strict identity check to determine whether or not to request\n   * an update.\n   * @nocollapse\n   */\n  static createProperty(name, options = defaultPropertyDeclaration) {\n    // Note, since this can be called by the `@property` decorator which\n    // is called before `finalize`, we ensure storage exists for property\n    // metadata.\n    this._ensureClassProperties();\n    this._classProperties.set(name, options);\n    // Do not generate an accessor if the prototype already has one, since\n    // it would be lost otherwise and that would never be the user's intention;\n    // Instead, we expect users to call `requestUpdate` themselves from\n    // user-defined accessors. Note that if the super has an accessor we will\n    // still overwrite it\n    if (options.noAccessor || this.prototype.hasOwnProperty(name)) {\n      return;\n    }\n    const key = typeof name === 'symbol' ? Symbol() : `__${name}`;\n    Object.defineProperty(this.prototype, name, {\n      // tslint:disable-next-line:no-any no symbol in index\n      get() {\n        return this[key];\n      },\n      set(value) {\n        // Note(cg): prevent undefined value to be set.\n        if (value === undefined) {\n          return;\n        }\n        const oldValue = this[name];\n        this[key] = value;\n        this._requestUpdate(name, oldValue);\n      },\n      configurable: true,\n      enumerable: true\n    });\n  }\n}\n\nexport default doNotSetUndefinedValue;\n","import { selectShadow, queryShadow } from './selectShadow.js';\n\nexport const selectMixin = (superclass) => class extends superclass {\n  \n  selectShadow(selector) {\n    return selectShadow(selector, this);\n  }\n  \n  queryShadow(selector) {\n    return queryShadow(selector, this);\n  }\n}\n\nexport default selectMixin;\n","/**\n * Enables the default option for properties to be applied as initial property values\n *\n * @param {LitElement} baseElement - the LitElement to extend\n */\nexport const defaultValue = (baseElement) => class extends baseElement {\n  \n  constructor() {\n    super();\n    if (this.constructor.properties) {\n      const { properties } = this.constructor;\n      const propertyNames = Object.keys(properties);\n      propertyNames.forEach((propertyName) => {\n        if (!this.hasOwnProperty(propertyName) && properties[propertyName].hasOwnProperty('value')) {\n          this[propertyName] = properties[propertyName].value instanceof Function ? properties[propertyName].value() : properties[propertyName].value;\n        }\n      });\n    }\n  }\n  \n}\n\nexport default defaultValue;\n","// import { dedupingMixin } from '@polymer/polymer/lib/utils/mixin.js';\n\n/**\n * RelayTo mixin, used to automatically relay properties to child components\n */\n\nconst RelayTo = superClass => {\n\n  return class extends superClass {\n    \n    shallRelayTo() {\n      this.log && console.warn(`shallPassTo method has to be overriden`);\n      return false;\n      \n    }\n\n    relayTo(props, name) {\n      if (!this[`__${name}`]) {\n        this[`__${name}`] = this.queryShadow(`#${name}`);\n        if (!this[`__${name}`]) {\n          throw new Error(`Failed to get ${name} from shadowDom!`)\n        }\n      }\n      props.forEach((value, key) => {\n        if (this.shallRelayTo(key, name)) {\n          this.log && console.log('Change', key);\n          this[`__${name}`][key] = this[key];\n        }\n      })\n    }\n  }\n\n};\n\n/*\n * @mixinFunction\n */\nexport default RelayTo;","/**\n * Cache template nodes with an id so that we can call this.$.id\n */\n\nconst CacheId = superClass => {\n\n  return class extends superClass {\n\n    constructor() {\n      super();\n      this.$ = {};\n    }\n\n    // Note(cg): stores all ids under this.$\n    firstUpdated(props) {\n      super.firstUpdated(props);\n      [...this.renderRoot.querySelectorAll('[id]')].forEach(node => {\n        this.$[node.id] = node;\n      })\n    }\n  }\n};\n\n/*\n * @mixinFunction\n */\nexport default CacheId;\n","/**\n@license\nCopyright (c) 2017 The Polymer Project Authors. All rights reserved.\nThis code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt\nThe complete set of authors may be found at http://polymer.github.io/AUTHORS.txt\nThe complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt\nCode distributed by Google as part of the polymer project is also\nsubject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt\n*/\n\n/**\n * @fileoverview\n *\n * This module provides a number of strategies for enqueuing asynchronous\n * tasks. Each sub-module provides a standard `run(fn)` interface that returns a\n * handle, and a `cancel(handle)` interface for canceling async tasks before\n * they run.\n *\n * @summary Module that provides a number of strategies for enqueuing\n * asynchronous tasks.\n */\n\nimport './boot.js';\n\n// Microtask implemented using Mutation Observer\nlet microtaskCurrHandle = 0;\nlet microtaskLastHandle = 0;\nlet microtaskCallbacks = [];\nlet microtaskNodeContent = 0;\nlet microtaskNode = document.createTextNode('');\nnew window.MutationObserver(microtaskFlush).observe(microtaskNode, {characterData: true});\n\nfunction microtaskFlush() {\n  const len = microtaskCallbacks.length;\n  for (let i = 0; i < len; i++) {\n    let cb = microtaskCallbacks[i];\n    if (cb) {\n      try {\n        cb();\n      } catch (e) {\n        setTimeout(() => { throw e; });\n      }\n    }\n  }\n  microtaskCallbacks.splice(0, len);\n  microtaskLastHandle += len;\n}\n\n/**\n * Async interface wrapper around `setTimeout`.\n *\n * @namespace\n * @summary Async interface wrapper around `setTimeout`.\n */\nconst timeOut = {\n  /**\n   * Returns a sub-module with the async interface providing the provided\n   * delay.\n   *\n   * @memberof timeOut\n   * @param {number=} delay Time to wait before calling callbacks in ms\n   * @return {!AsyncInterface} An async timeout interface\n   */\n  after(delay) {\n    return {\n      run(fn) { return window.setTimeout(fn, delay); },\n      cancel(handle) {\n        window.clearTimeout(handle);\n      }\n    };\n  },\n  /**\n   * Enqueues a function called in the next task.\n   *\n   * @memberof timeOut\n   * @param {!Function} fn Callback to run\n   * @param {number=} delay Delay in milliseconds\n   * @return {number} Handle used for canceling task\n   */\n  run(fn, delay) {\n    return window.setTimeout(fn, delay);\n  },\n  /**\n   * Cancels a previously enqueued `timeOut` callback.\n   *\n   * @memberof timeOut\n   * @param {number} handle Handle returned from `run` of callback to cancel\n   * @return {void}\n   */\n  cancel(handle) {\n    window.clearTimeout(handle);\n  }\n};\nexport {timeOut};\n\n/**\n * Async interface wrapper around `requestAnimationFrame`.\n *\n * @namespace\n * @summary Async interface wrapper around `requestAnimationFrame`.\n */\nconst animationFrame = {\n  /**\n   * Enqueues a function called at `requestAnimationFrame` timing.\n   *\n   * @memberof animationFrame\n   * @param {function(number):void} fn Callback to run\n   * @return {number} Handle used for canceling task\n   */\n  run(fn) {\n    return window.requestAnimationFrame(fn);\n  },\n  /**\n   * Cancels a previously enqueued `animationFrame` callback.\n   *\n   * @memberof animationFrame\n   * @param {number} handle Handle returned from `run` of callback to cancel\n   * @return {void}\n   */\n  cancel(handle) {\n    window.cancelAnimationFrame(handle);\n  }\n};\nexport {animationFrame};\n\n/**\n * Async interface wrapper around `requestIdleCallback`.  Falls back to\n * `setTimeout` on browsers that do not support `requestIdleCallback`.\n *\n * @namespace\n * @summary Async interface wrapper around `requestIdleCallback`.\n */\nconst idlePeriod = {\n  /**\n   * Enqueues a function called at `requestIdleCallback` timing.\n   *\n   * @memberof idlePeriod\n   * @param {function(!IdleDeadline):void} fn Callback to run\n   * @return {number} Handle used for canceling task\n   */\n  run(fn) {\n    return window.requestIdleCallback ?\n      window.requestIdleCallback(fn) :\n      window.setTimeout(fn, 16);\n  },\n  /**\n   * Cancels a previously enqueued `idlePeriod` callback.\n   *\n   * @memberof idlePeriod\n   * @param {number} handle Handle returned from `run` of callback to cancel\n   * @return {void}\n   */\n  cancel(handle) {\n    window.cancelIdleCallback ?\n      window.cancelIdleCallback(handle) :\n      window.clearTimeout(handle);\n  }\n};\nexport {idlePeriod};\n\n/**\n * Async interface for enqueuing callbacks that run at microtask timing.\n *\n * Note that microtask timing is achieved via a single `MutationObserver`,\n * and thus callbacks enqueued with this API will all run in a single\n * batch, and not interleaved with other microtasks such as promises.\n * Promises are avoided as an implementation choice for the time being\n * due to Safari bugs that cause Promises to lack microtask guarantees.\n *\n * @namespace\n * @summary Async interface for enqueuing callbacks that run at microtask\n *   timing.\n */\nconst microTask = {\n\n  /**\n   * Enqueues a function called at microtask timing.\n   *\n   * @memberof microTask\n   * @param {!Function=} callback Callback to run\n   * @return {number} Handle used for canceling task\n   */\n  run(callback) {\n    microtaskNode.textContent = microtaskNodeContent++;\n    microtaskCallbacks.push(callback);\n    return microtaskCurrHandle++;\n  },\n\n  /**\n   * Cancels a previously enqueued `microTask` callback.\n   *\n   * @memberof microTask\n   * @param {number} handle Handle returned from `run` of callback to cancel\n   * @return {void}\n   */\n  cancel(handle) {\n    const idx = handle - microtaskLastHandle;\n    if (idx >= 0) {\n      if (!microtaskCallbacks[idx]) {\n        throw new Error('invalid async handle: ' + handle);\n      }\n      microtaskCallbacks[idx] = null;\n    }\n  }\n\n};\nexport {microTask};\n","/**\n@license\nCopyright (c) 2017 The Polymer Project Authors. All rights reserved.\nThis code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt\nThe complete set of authors may be found at http://polymer.github.io/AUTHORS.txt\nThe complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt\nCode distributed by Google as part of the polymer project is also\nsubject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt\n*/\nimport './boot.js';\n\nimport './mixin.js';\nimport './async.js';\n\n/**\n * @summary Collapse multiple callbacks into one invocation after a timer.\n */\nexport class Debouncer {\n  constructor() {\n    this._asyncModule = null;\n    this._callback = null;\n    this._timer = null;\n  }\n  /**\n   * Sets the scheduler; that is, a module with the Async interface,\n   * a callback and optional arguments to be passed to the run function\n   * from the async module.\n   *\n   * @param {!AsyncInterface} asyncModule Object with Async interface.\n   * @param {function()} callback Callback to run.\n   * @return {void}\n   */\n  setConfig(asyncModule, callback) {\n    this._asyncModule = asyncModule;\n    this._callback = callback;\n    this._timer = this._asyncModule.run(() => {\n      this._timer = null;\n      debouncerQueue.delete(this);\n      this._callback();\n    });\n  }\n  /**\n   * Cancels an active debouncer and returns a reference to itself.\n   *\n   * @return {void}\n   */\n  cancel() {\n    if (this.isActive()) {\n      this._cancelAsync();\n      // Canceling a debouncer removes its spot from the flush queue,\n      // so if a debouncer is manually canceled and re-debounced, it\n      // will reset its flush order (this is a very minor difference from 1.x)\n      // Re-debouncing via the `debounce` API retains the 1.x FIFO flush order\n      debouncerQueue.delete(this);\n    }\n  }\n  /**\n   * Cancels a debouncer's async callback.\n   *\n   * @return {void}\n   */\n  _cancelAsync() {\n    if (this.isActive()) {\n      this._asyncModule.cancel(/** @type {number} */(this._timer));\n      this._timer = null;\n    }\n  }\n  /**\n   * Flushes an active debouncer and returns a reference to itself.\n   *\n   * @return {void}\n   */\n  flush() {\n    if (this.isActive()) {\n      this.cancel();\n      this._callback();\n    }\n  }\n  /**\n   * Returns true if the debouncer is active.\n   *\n   * @return {boolean} True if active.\n   */\n  isActive() {\n    return this._timer != null;\n  }\n  /**\n   * Creates a debouncer if no debouncer is passed as a parameter\n   * or it cancels an active debouncer otherwise. The following\n   * example shows how a debouncer can be called multiple times within a\n   * microtask and \"debounced\" such that the provided callback function is\n   * called once. Add this method to a custom element:\n   *\n   * ```js\n   * import {microTask} from '@polymer/polymer/lib/utils/async.js';\n   * import {Debouncer} from '@polymer/polymer/lib/utils/debounce.js';\n   * // ...\n   *\n   * _debounceWork() {\n   *   this._debounceJob = Debouncer.debounce(this._debounceJob,\n   *       microTask, () => this._doWork());\n   * }\n   * ```\n   *\n   * If the `_debounceWork` method is called multiple times within the same\n   * microtask, the `_doWork` function will be called only once at the next\n   * microtask checkpoint.\n   *\n   * Note: In testing it is often convenient to avoid asynchrony. To accomplish\n   * this with a debouncer, you can use `enqueueDebouncer` and\n   * `flush`. For example, extend the above example by adding\n   * `enqueueDebouncer(this._debounceJob)` at the end of the\n   * `_debounceWork` method. Then in a test, call `flush` to ensure\n   * the debouncer has completed.\n   *\n   * @param {Debouncer?} debouncer Debouncer object.\n   * @param {!AsyncInterface} asyncModule Object with Async interface\n   * @param {function()} callback Callback to run.\n   * @return {!Debouncer} Returns a debouncer object.\n   */\n  static debounce(debouncer, asyncModule, callback) {\n    if (debouncer instanceof Debouncer) {\n      // Cancel the async callback, but leave in debouncerQueue if it was\n      // enqueued, to maintain 1.x flush order\n      debouncer._cancelAsync();\n    } else {\n      debouncer = new Debouncer();\n    }\n    debouncer.setConfig(asyncModule, callback);\n    return debouncer;\n  }\n}\n\nlet debouncerQueue = new Set();\n\n/**\n * Adds a `Debouncer` to a list of globally flushable tasks.\n *\n * @param {!Debouncer} debouncer Debouncer to enqueue\n * @return {void}\n */\nexport const enqueueDebouncer = function(debouncer) {\n  debouncerQueue.add(debouncer);\n};\n\n/**\n * Flushes any enqueued debouncers\n *\n * @return {boolean} Returns whether any debouncers were flushed\n */\nexport const flushDebouncers = function() {\n  const didFlush = Boolean(debouncerQueue.size);\n  // If new debouncers are added while flushing, Set.forEach will ensure\n  // newly added ones are also flushed\n  debouncerQueue.forEach(debouncer => {\n    try {\n      debouncer.flush();\n    } catch(e) {\n      setTimeout(() => {\n        throw e;\n      });\n    }\n  });\n  return didFlush;\n};","\nimport { timeOut } from '@polymer/polymer/lib/utils/async.js';\nimport { Debouncer } from '@polymer/polymer/lib/utils/debounce.js';\nimport {transition} from 'd3-transition'\n\n/**\n * ##  Draw\n * \n * handles drawable drawing mechanism\n *\n * @memberof MultiChart.mixin   \n * @polymer\n * @mixinFunction\n */\nconst Draw = superClass => {\n\n  return class extends superClass {\n\n    static get properties() {\n      \n      return {\n\n        ...super.properties,\n\n        /* \n         * `data`  to draw the chart from\n         */\n        data: {\n          type: Array\n        },\n\n        /* \n         * `transition` a transition composer function\n         */\n        transition: {\n          type: Function,\n          value: function() {\n              return function(transition) {\n                return transition.duration(200);\n              }\n          }\n        },\n\n        /* \n         * `filter` a way to filter data passed to draw method\n         * \n         */\n         filter : {\n           type:  Function\n           }\n\n      };\n    }\n\n    /* \n     * `getDrawable` allows to specify which data to use for generating the chart. \n     * This is usefull for multi-geo where chart is generated by topojson feature and not by raw data.\n     */\n    get drawableData() {\n      return this._shaped;\n    }\n\n    setData(data) {\n       if (data) {\n        // Note(cg): filter allows to dispay only a subset of the data. \n        // This is usefull for instance when we want to display multiple groups. \n        if(this.filter) {\n          this.data = data.filter(this.filter);\n        }\n        else {this.data = data ;}\n      }\n    }\n\n    // get propertiesToDraw() {\n    //   return ['data'];\n    // }\n\n    // shallDraw(changedProperties) {\n    //   return this.propertiesToDraw.some(k=> changedProperties.has(k))\n    // }\n\n    update(props) {\n      this.log && console.info('update props', props, this)\n      super.update(props);\n      if(props.has('data')) {\n        this._shaped = this.shape(this.data);\n      }\n    }\n\n    updated(props) {\n      this.log && console.info('updated props', props, this)\n      super.updated(props);\n      this.debounceDraw();\n    }\n\n    /* \n     * `shape` some charts are easier to draw is data is reshaped (for instance, stack chart)\n     */\n    shape(data) {\n      return data;\n    }\n\n    debounceDraw() {\n      this.log && console.info('debounce',  this)\n      this._debounceDraw = Debouncer.debounce(\n        this._debounceDraw, // initially undefined\n        timeOut.after(10),\n        () => {\n          this.log && console.info('debounced',  this)\n          const isDrawn = this.draw();\n          this._isDrawn = !!isDrawn;\n          this.dispatchEvent(new CustomEvent('multi-drawn', {detail: {}, bubbles: true, composed: true})); \n        });\n    }\n\n    /* \n     * `draw` this is where do the work !\n     */\n    draw() {\n      this.log && console.error(`draw method shall be overriden in subClasses.`)\n    }\n    \n    /* \n     * `shallTransition` called within the draw function to know if transition shall be applied \n     */\n    get shallTransition() {\n      // Note(cg): by default, we skip the transition for first draw.\n      return this.transition && this._isDrawn === true;\n    }\n\n    dataChanged(data, transition) {\n      this.log && console.info('dataChanged', this.data === data)\n      this.data = data; \n      if(transition) {\n        this.transition = transition;\n      }\n      // this._shaped = null;\n      // this.render(data, transition);\n    }\n    /* \n     * `applyTransition`  applies a transition to chart\n     */\n    applyTransition(chart, transition) {\n      return chart.transition().call(transition)\n        .on('end', this.onEndTransition);\n    }\n\n    onEndTransition() {}\n\n\n  };\n};\n\nexport default Draw ;\n","/**\n * Returns the event name for the given property.\n */\nexport function eventNameForProperty(name, options = {}) {\n    if (options.notify && typeof options.notify === 'string') {\n        return options.notify;\n    }\n\n    if (options.attribute && typeof options.attribute === 'string') {\n        return `${options.attribute}-changed`;\n    }\n\n    return `${name.toLowerCase()}-changed`;\n}\n\n/**\n * Enables the nofity option for properties to fire change notification events\n *\n * @param {LitElement} baseElement - the LitElement to extend\n */\nexport const LitNotify = (baseElement) => class extends baseElement {\n    /**\n     * Extend the LitElement `createProperty` method to map properties to events\n     */\n    static createProperty(name, options) {\n        super.createProperty(name, options);\n\n        if (!this.hasOwnProperty('_propertyEventMap')) {\n            this._propertyEventMap = new Map();\n        }\n\n        if (options.notify) {\n            this._propertyEventMap.set(name, eventNameForProperty(name, options));\n        }\n    }\n\n    /**\n     * check for changed properties with notify option and fire the events\n     */\n    update(changedProps) {\n        super.update(changedProps);\n\n        if (!this.constructor._propertyEventMap) {\n            return;\n        }\n\n        for (const [eventProp, eventName] of this.constructor._propertyEventMap.entries()) {\n            if (changedProps.has(eventProp)) {\n                this.dispatchEvent(new CustomEvent(eventName, {\n                    detail: {\n                        value: this[eventProp],\n                    },\n                    bubbles: false,\n                    composed: true,\n                }));\n            }\n        }\n    }\n};\n\nexport default LitNotify;\n","/**\n * ## MultiChartBase\n *\n * `<multi-chart-base>` base class for multi-chart other elements\n *\n * @memberof MultiChart\n * @customElement\n * @polymer\n * @appliesMixin MultiChart.mixin.Logger\n * @appliesMixin MultiChart.mixin.PolymerExtends\n * @demo\n **/\n\n\n// import { Logger } from './helper/logger-mixin.js';\nimport { LitElement } from 'lit-element';\nimport { SelectMixin, DefaultValueMixin, DoNotSetUndefinedValue } from '@preignition/preignition-mixin';\nimport { LitNotify, LitSync } from '@morbidick/lit-element-notify';\n\nconst deep = (action, obj, keys, id, key) => {\n  keys = keys.split(\".\");\n  id = keys.splice(-1, 1);\n  for (key in keys) obj = obj[keys[key]] = obj[keys[key]] || {};\n  return action(obj, id);\n}\n\nconst get = (obj, prop) => obj[prop];\nconst set = n => (obj, prop) => (obj[prop] = n);\n\nexport class Base extends\nDefaultValueMixin(\n  SelectMixin(\n    DoNotSetUndefinedValue(\n      LitElement))) {\n\n  dispatch(name) {\n    this.dispatchEvent(new CustomEvent(`${name}-changed`, {\n      detail: {\n        value: this[name]\n      },\n      bubbles: true,\n      composed: true\n    }));\n  }\n\n  get(path) {\n    return deep(get, this, path);\n  }\n\n  set(path, value) {\n    return deep(set(value), this, path);\n  }\n\n  static get properties() {\n    return {\n      ...super.properties,\n\n      /*\n       * `log`  true to show log\n       */\n      log: {\n        type: Boolean,\n      },\n    }\n  }\n\n}\n\nexport class MultiNotify extends LitNotify(Base) {}\nexport class MultiSync extends LitSync(Base) {}\nexport class MultiNotifySync extends LitSync(LitNotify(Base)) {}\nexport class MultiChartBase extends MultiNotify {}","import colors from \"../colors.js\";\n\nexport default colors(\"1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf\");\n","export default function(specifier) {\n  var n = specifier.length / 6 | 0, colors = new Array(n), i = 0;\n  while (i < n) colors[i] = \"#\" + specifier.slice(i * 6, ++i * 6);\n  return colors;\n}\n","// import { SVGHelper } from '../helper/svg-helper-mixin.js';\nimport { CacheId } from '@preignition/preignition-mixin';\nimport { default as Registerable } from '../helper/multi-registerable-mixin.js';\nimport { default as DispatchSVG } from '../helper/dispatch-svg-mixin.js';\nimport { default as Draw } from './mixin/draw-mixin.js';\nimport { MultiChartBase } from '../base-class.js';\nimport {scaleOrdinal} from 'd3-scale';\nimport {schemeCategory10 } from 'd3-scale-chromatic';\nimport { css, html } from 'lit-element';\n\n\n/**\n * ## MultiDrawable\n *\n * `<multi-drawable>` it a base Class for chart element that can be drawn (e.g. line, circle ...)\n *\n * @memberof MultiChart\n * @customElement\n * @polymer\n * @appliesMixin MultiChart.mixin.SVGHelper\n * @appliesMixin MultiChart.mixin.MultiRegisterable\n * @appliesMixin MultiChart.mixin.DispatchSVG\n * @appliesMixin MultiChart.mixin.Resizable\n * @appliesMixin MultiChart.mixin.Draw\n * @appliesMixin MultiChart.mixin.Accessor\n **/\nclass MultiDrawable extends(\n    DispatchSVG(\n        Draw(\n          Registerable(\n            CacheId(\n              MultiChartBase))))) {\n\n  static get styles() {\n    return css`\n     :host {\n        display: none;\n      }`\n    }\n    \n    // Note(cg): Hack allowing extend multi-container\n    // in other libraries \n    get html() {\n      return html\n    }\n\n  // Note(cg): Hack allowing extend multi-drawable\n  // in other libraries \n  // get css() {\n  //   return css;\n  // } \n\n\n  static get properties() {\n\n    return {\n\n      ...super.properties,\n\n      /* \n       * `key`  some drawable need to have a key (for example lines in a line chart, to as to apply a colorScale)\n       */\n      key: {\n        type: String\n      },\n\n      /* \n       * `colorScale` colorScale to use for the chart (example d3.scaleOrdinal().range(d3.schemeCategory10);)\n       */\n      colorScale: {\n        type: Function, \n        attribute: 'color-scale',\n        value: function() {\n          return scaleOrdinal().range(schemeCategory10);\n        }\n      },\n      \n      width: {\n        type: Number,\n      }, \n\n\n      height: {\n        type: Number,\n      }\n\n\n    };\n  }\n\n  /*\n   * `dataProcessType` the type of data processing. Stacked data (e.g. for bar chart) will be stacked\n   */\n  get dataProcessType() {\n    return '';\n  }\n\n  /**\n   * `targetElement` getter override lifecycle Behavior and called during attached\n   */\n  get targetElement() {\n    return this.$.drawable;\n  }\n\n  get minSize() {\n    if (this.width && this.height) {\n      return Math.min(this.width, this.height);\n    }\n    return null;\n\n  }\n\n  resize(width, height) {\n    this.width = width;\n    this.height = height;\n  }\n\n}\n\nexport default MultiDrawable ;","export default {\n  /**\n   * `text` text for the axis \n   */\n  text: { type: String },\n\n  /**\n   * `textAngle` rotation angle to be applied to text axis\n   */\n  textAngle: { type: Number, attribute: 'text-angle' },\n  \n  dx: { type: String },\n  dy: { type: String },\n  x: { type: String },\n  y: { type: String },\n  xText: { type: String, attribute: 'x-text' },\n  yText: { type: String, attribute: 'y-text' },\n};","import { html, css } from 'lit-element';\nimport { default as MultiDrawable } from './multi-drawable.js';\nimport { RelayTo, CacheId } from '@preignition/preignition-mixin';\nimport { default as axisProperty } from './properties/axis.js';\nimport { default as Axis } from '../d3-wrapper/d3-axis.js';\nimport { select } from 'd3-selection';\n\nclass MultiAxis extends \n  CacheId(\n    RelayTo(\n      MultiDrawable)) {\n\n  // Note(cg): style to add to svghost while dispatching SVG.\n  static get hostStyles() {\n    return css`\n\n      #axis.axis line,\n      #axis.axis path {\n        stroke: var(--multi-axis-color, var(--secondary-text-color));\n      }\n\n      #axis.axis text {\n        fill: var(--multi-axis-color, var(--secondary-text-color));\n      }`;\n  } \n\n  /**\n   * Implement `render` to define a template for your element.\n   */\n  render() {\n    return html `\n      <d3-axis \n        id=\"d3-axis\"\n        .type=\"${this.type}\" \n        @axis-changed=\"${e => this.axis = e.detail.value}\"></d3-axis>\n      <svg>\n        <g id=\"axis\" part=\"axis-${this.type}\" slot-svg=\"slot-axis\" type=\"${this.type}\" class=\"axis ${this.type}\" transform=\"translate(${this._x}, ${this._y})\">\n          <text class=\"axis-text\" \n            transform=\"rotate(${this.textAngle || 0})\" \n            x=\"${this._xText}\" \n            y=\"${this._yText}\" \n            dx=\"${this.dx || 0}\" \n            dy=\"${this.dy || 0}\" \n            text-anchor=\"end\">${this.text}</text>\n        </g>\n      </svg>\n    `;\n  }\n\n  get _x() {\n    return this.x || (this.width && this.type && this.type === 'right' ? this.width : 0);\n  }\n\n  get _y() {\n    return this.y || (this.height && this.type && this.type === 'bottom' ? this.height : 0);\n  }\n\n  get _xText() {\n    return this.xText || (this.width && this.type && (this.type === 'right' || this.type === 'bottom') ? this.width : 0);\n  }\n\n  get _yText() {\n    // return this.yText || (this.height && this.type && this.type === 'bottom' ? this.height : 0);\n    return this.yText || 0;\n  }\n\n  static get properties() {\n\n    return {\n\n      ...super.properties,\n\n      ...Axis.properties,\n\n      ...axisProperty,\n\n      /**\n       * `axis` the [d3 axis](https://github.com/d3/d3-axis) function \n       */\n      axis: {\n        type: Function,\n      },\n\n\n      /* \n       * `scale`  the [d3-scale](https://github.com/d3/d3-axis) to use for this axis\n       */\n      scale: {\n        type: Function,\n      },\n\n      /**\n       * `type` axis type 'left'. 'right', 'top' or 'bottom'\n       */\n      type: {\n        type: String,\n        reflect: true\n      }\n    };\n\n  }\n\n/**\n   * From RelayTo mixin, used to automatically relay properties to child components\n   */\n   shallRelayTo(key, name) {\n    if (name === 'd3-axis') {\n      return Axis.properties[key];\n    }\n  }\n\n  update(props) {\n    super.update(props);\n    this.relayTo(props, 'd3-axis');\n  }\n\n  draw(data) {\n    const sel = select(this.$.axis);\n    if (sel && this.scale && this.axis) {\n\n      // Note(cg): we skip transition first time we draw.\n      if (this.shallTransition) {\n        sel.transition().call(this.transition).call(this.axis.scale(this.scale));\n      } else {\n        sel.call(this.axis.scale(this.scale));\n      }\n    }\n  }\n\n}\n\nexport default MultiAxis;\n// Register the new element with the browser.\n// customElements.define('multi-axis', MultiAxis);","import {select} from \"d3-selection\";\n\nfunction attrsFunction(selection, map) {\n  return selection.each(function() {\n    var x = map.apply(this, arguments), s = select(this);\n    for (var name in x) s.attr(name, x[name]);\n  });\n}\n\nfunction attrsObject(selection, map) {\n  for (var name in map) selection.attr(name, map[name]);\n  return selection;\n}\n\nexport default function(map) {\n  return (typeof map === \"function\" ? attrsFunction : attrsObject)(this, map);\n}\n","import {select} from \"d3-selection\";\n\nfunction stylesFunction(selection, map, priority) {\n  return selection.each(function() {\n    var x = map.apply(this, arguments), s = select(this);\n    for (var name in x) s.style(name, x[name], priority);\n  });\n}\n\nfunction stylesObject(selection, map, priority) {\n  for (var name in map) selection.style(name, map[name], priority);\n  return selection;\n}\n\nexport default function(map, priority) {\n  return (typeof map === \"function\" ? stylesFunction : stylesObject)(this, map, priority == null ? \"\" : priority);\n}\n","import {select} from \"d3-selection\";\n\nfunction propertiesFunction(selection, map) {\n  return selection.each(function() {\n    var x = map.apply(this, arguments), s = select(this);\n    for (var name in x) s.property(name, x[name]);\n  });\n}\n\nfunction propertiesObject(selection, map) {\n  for (var name in map) selection.property(name, map[name]);\n  return selection;\n}\n\nexport default function(map) {\n  return (typeof map === \"function\" ? propertiesFunction : propertiesObject)(this, map);\n}\n","import {select} from \"d3-selection\";\n\nfunction attrsFunction(transition, map) {\n  return transition.each(function() {\n    var x = map.apply(this, arguments), t = select(this).transition(transition);\n    for (var name in x) t.attr(name, x[name]);\n  });\n}\n\nfunction attrsObject(transition, map) {\n  for (var name in map) transition.attr(name, map[name]);\n  return transition;\n}\n\nexport default function(map) {\n  return (typeof map === \"function\" ? attrsFunction : attrsObject)(this, map);\n}\n","import {select} from \"d3-selection\";\n\nfunction stylesFunction(transition, map, priority) {\n  return transition.each(function() {\n    var x = map.apply(this, arguments), t = select(this).transition(transition);\n    for (var name in x) t.style(name, x[name], priority);\n  });\n}\n\nfunction stylesObject(transition, map, priority) {\n  for (var name in map) transition.style(name, map[name], priority);\n  return transition;\n}\n\nexport default function(map, priority) {\n  return (typeof map === \"function\" ? stylesFunction : stylesObject)(this, map, priority == null ? \"\" : priority);\n}\n","import {selection} from \"d3-selection\";\nimport {transition} from \"d3-transition\";\nimport selection_attrs from \"./src/selection/attrs\";\nimport selection_styles from \"./src/selection/styles\";\nimport selection_properties from \"./src/selection/properties\";\nimport transition_attrs from \"./src/transition/attrs\";\nimport transition_styles from \"./src/transition/styles\";\n\nselection.prototype.attrs = selection_attrs;\nselection.prototype.styles = selection_styles;\nselection.prototype.properties = selection_properties;\ntransition.prototype.attrs = transition_attrs;\ntransition.prototype.styles = transition_styles;\n","import { html, css } from 'lit-element';\nimport { default as MultiDrawable } from './multi-drawable.js';\nimport { RelayTo, CacheId, DoNotSetUndefinedValue } from '@preignition/preignition-mixin';\nimport { default as axisProperty } from './properties/axis.js';\nimport { default as Axis } from '../d3-wrapper/d3-axis.js';\nimport { wrap } from '../helper/utils.js';\nimport { select } from 'd3-selection';\nimport * as multi from 'd3-selection-multi';\nimport { range } from 'd3-array';\nimport { scaleLinear } from 'd3-scale';\nimport { format } from 'd3-format';\n\nclass MultiRadarAxes extends\nCacheId(\n  RelayTo(\n    MultiDrawable)) {\n\n  // Note(cg): style to add to svghost while dispatching SVG.\n  static get hostStyles() {\n    return css `\n\n      #axes.axis line,\n      #axes.axis path {\n        stroke: var(--multi-axis-color, var(--secondary-text-color));\n      }\n\n      #axes.axis text {\n        fill: var(--multi-axis-color, var(--secondary-text-color));\n      }`;\n  }\n\n  /**\n   * Implement `render` to define a template for your element.\n   */\n  render() {\n    return html `\n     \n      <svg>\n        <g id=\"axes\" part=\"axes-group\" slot-svg=\"slot-background\" transform=\"translate(${this.width / 2 || 0}, ${this.height / 2 || 0})\">\n          <g id=\"axisWrapper\"></g>\n        </g>\n      </svg>\n    `;\n  }\n\n  static get properties() {\n\n    return {\n\n      ...super.properties,\n\n      /**\n       * `axes` array of axis for radat chart\n       *  {label: 'label', key: 'key', max: max, class: 'class', xOffset, offset, yOffset: offset}\n       */\n      axes: {\n        type: Array,\n      },\n\n      /*\n       * `labelAccessor` accessor to get text labels\n       */\n      labelAccessor: {\n        type: Function,\n        value: () => {\n          return (d) => d.label || d;\n        }\n      },\n\n      /*\n       * `radius` - radius of the chart. Set by multi-chart-radar when scale is calculated (onDataGroupRescaled)\n       */\n      // radius: {\n      //   type: Number,\n      // },\n\n      /*\n       * `levels` How many levels or inner circles should there be drawn\n       */\n      levels: {\n        type: Number,\n        value: 3\n      },\n\n      hideAxis: {\n        type: Boolean,\n        value: false\n      },\n\n      hideCircles: {\n        type: Boolean,\n        value: false\n      },\n\n      /*\n       * `circleConfig` config applied to circles\n       */\n      circleConfig: {\n        type: Object,\n        value: {\n          'fill': '#cdcdcd',\n          'stroke': '#fff',\n          'stroke-width': 2,\n          'stroke-dasharray': 10,\n          'fill-opacity': 0.15\n        }\n      },\n\n      /*\n       * `axisTextConfig` config to be applied to axis text\n       */\n      axisTextConfig: {\n        type: Object,\n        value: {\n          'dy': '0.4em',\n          'font-size': '10',\n          'fill': '#737373'\n        }\n      },\n\n      /*\n       * `axisLineConfig` config to be applied to axis line\n       */\n      axisLineConfig: {\n        type: Object,\n        value: {\n          'stroke': '#fff',\n          'stroke-width': '3'\n        }\n      },\n\n      /*\n       * `axisLabelConfig` config to be applied to axis label\n       */\n      axisLabelConfig: {\n        type: Object,\n        value: {\n          'font-size': '11',\n          'text-anchor': 'middle',\n          'dy': '0.35em'\n        }\n      },\n\n      /*\n       * `wrapWidth`\n       */\n      wrapWidth: {\n        type: Number,\n        value: 50\n      },\n\n      /*\n       * `labelFactor` How much farther than the radius of the outer circle should the labels be placed\n       */\n      labelFactor: {\n        type: Number,\n        value: 1.1\n      },\n\n      /*\n       * `scaleFactor` factor by which we reduce the size of the chart so that labels\n       * do not overflow\n       */\n      scaleFactor: {\n        type: Number,\n        value: 0.8\n      },\n\n      /*\n       * `format` d3.format to use for grid circles labels\n       */\n      format: {\n        type: String,\n        // value: '.0%'\n        value: '.2s'\n      },\n\n      radialDomain: {\n        type: Array,\n      },\n\n      radialScale: {\n        type: Function,\n      }\n\n    };\n\n  }\n\n  draw(data) {\n    const axisWrapper = select(this.$.axisWrapper);\n    if (!this.width || !this.height) {\n      return;\n    }\n    if (!this.axes || !this.axes.length || !this.radialScale) {\n      return;\n    }\n\n    // Wrapper for the grid & axes\n    // const axisGrid = sel.append('g').attr('class', 'axisWrapper');\n    // const radius = this.minSize / 2 * this.scaleFactor;\n    const scale = this.radialScale;\n    const radius = scale.range()[1];\n    const maxValue = scale.domain()[1];\n    const Format = format(this.format);\n    const angleSlice = Math.PI * 2 / this.axes.length;\n\n\n    // Draw the background circles\n    if (!this.hideCircles) {\n      let levels = axisWrapper.selectAll('.gridCircle')\n        .data(range(1, (this.levels + 1)).reverse());\n\n      levels.exit().remove();\n\n      levels = levels\n        .enter()\n        .append('circle')\n        .merge(levels)\n        .attr('class', 'gridCircle')\n        .attr('r', (d, i) => { return radius / this.levels * d; })\n        .attrs(this.circleConfig);\n    }\n\n    if (!this.hideAxis) {\n      // Text indicating at what % each level is\n      let grids = axisWrapper.selectAll('.axisLabel')\n        .data(range(1, (this.levels + 1)).reverse());\n\n      grids.exit().remove();\n\n      grids = grids\n        .enter()\n        .append('text')\n        .merge(grids)\n        .attr('class', 'axisLabel')\n        .attr('x', 4)\n        .attr('y', (d) => { return -d * radius / this.levels; })\n        .attrs(this.axisTextConfig)\n        .text((d, i) => { return Format(maxValue * d / this.levels); });\n\n      // Create the straight lines radiating outward from the center\n      let axis = axisWrapper.selectAll('.axis')\n        .data(this.axes);\n\n      axis.exit().remove();\n\n      axis = axis\n        .enter()\n        .append('g')\n        .merge(axis)\n        .attr('class', 'axis');\n\n      axis.selectAll('*').remove();\n\n      axis.append('line')\n        .attr('x1', 0)\n        .attr('y1', 0)\n        .attr('x2', (d, i) => { return scale(maxValue * 1.1) * Math.cos(angleSlice * i - Math.PI / 2); })\n        .attr('y2', (d, i) => { return scale(maxValue * 1.1) * Math.sin(angleSlice * i - Math.PI / 2); })\n        .attrs(this.axisLineConfig)\n        .attr('class', 'line');\n\n      // Append the labels at each axis\n      axis.append('text')\n        .attr('class', 'legend')\n        .attrs(this.axisTextConfig)\n        .attr('x', (d, i) => { return scale(maxValue * this.labelFactor) * Math.cos(angleSlice * i - Math.PI / 2); })\n        .attr('y', (d, i) => { return scale(maxValue * this.labelFactor) * Math.sin(angleSlice * i - Math.PI / 2); })\n        .attr('text-anchor', function(d, i) {\n          return this.getAttribute('x') * 1 < 0 ? 'end' : '';\n        })\n        .text(this.labelAccessor)\n        .call(wrap, this.wrapWidth);\n    }\n  }\n}\n\nexport default MultiRadarAxes;\n","import { dedupingMixin } from '@polymer/polymer/lib/utils/mixin.js';\nimport { select} from 'd3-selection';\nimport { transition as Transition} from 'd3-transition';\n\nconst MultiDrawableSerie = dedupingMixin( superClass => {\n\n  return class extends superClass {\n\n    static get properties() {\n      return {\n\n        ...super.properties,\n\n        /*\n         * `selectSerie` if true, will set the `selectable` attribute at serie level. Default (falsy) will\n         * add `selectable` attribute to each individual shape (rect in car chart, circle in bubble chart)\n         */\n        selectSerie: {\n          type: Boolean,\n          attribute: 'select-serie'\n        }\n      };\n    }\n\n    get shapeClass() {\n      this.log && console.warn('shapeClass need to be overriden in subClass.');\n      return 'serie';\n    }\n\n    get shapeName() {\n      return 'path';\n    }\n\n    drawSerieElement(chart, data) {\n      this.log && console.warn('drawing serie element shall be implemented in subclass');\n      return chart;\n    }\n\n    /*\n     * `drawSerieGroup` builds one level of data  binding -> remove superfluous -> append new -> merge -> return chart\n     * We can hence call this function for first grouping all keys and then build individual shapes (see multi-drawable-bubble)\n     */\n    drawSerieGroup(data, shapeName, shapeClass, chart, transition) {\n      const isTransition = chart && chart instanceof Transition;\n      const cls = chart ? 'shape' : 'shape-group';\n      chart = chart ?\n        isTransition ?\n        chart.selection().selectAll(`${shapeName}.${shapeClass}`).data(d => d.data || d) :\n        chart.selectAll(`${shapeName}.${shapeClass}`).data(d => d.data || d) :\n        select(this.targetElement).selectAll(`${shapeName}.${shapeClass}`).data(data);\n\n      chart.exit().remove();\n\n      chart = chart.enter().append(shapeName)\n        .attr('class', `${shapeClass} ${cls}`)\n        .merge(chart);\n\n      if (this.shallTransition && transition) {\n        chart = this.applyTransition(chart, transition);\n      }\n      return chart;\n\n    }\n\n    /*\n     * `draw` serie data, which are in the form of [{key, label, data: [dataValues]}]\n     */\n    draw() {\n      const data = this.drawableData;\n      if (!this.width || !this.height || !data) {\n        return;\n      }\n\n      const chart = this.drawSerieGroup(data, this.shapeName, this.shapeClass, null, this.transition);\n\n      // Note(cg): individual serie members (e.g. draw individual line or bar) are handled by subclasses .\n      return this.drawSerieElement(chart, data);\n\n    }\n  };\n});\n\n\n/* \n * @mixinFunction\n */\nexport default MultiDrawableSerie;\n","/**\n * ##  MultiDrawableSerie\n * \n * a Mixin to implement generic draw function for seriest\n * \n * @memberof MultiChart.mixin\n * @polymer\n * @mixinFunction\n */\nimport { dedupingMixin } from '@polymer/polymer/lib/utils/mixin.js';\nconst Shaper = dedupingMixin( superClass => {\n\n  return class extends superClass {\n\n    static get properties() {\n      return {\n\n        ...super.properties,\n\n        /* \n         * `shaper`  shaper function for generating path ([for instance, pie](https://github.com/d3/d3-shape#lines)\n         */\n        shaper: {\n          type: Function\n        }\n\n\n      };\n    }\n\n    onSetShaper(e) {\n\n      // Note(cg): allow the event to further propagate and assign proper group.\n      e.detail.group = this.group;\n      this.shaper = e.detail.value;\n    }\n\n  };\n});\n\n\n/* \n * @mixinFunction\n */\nexport default Shaper;\n","var pi = Math.PI,\n    tau = 2 * pi,\n    epsilon = 1e-6,\n    tauEpsilon = tau - epsilon;\n\nfunction Path() {\n  this._x0 = this._y0 = // start of current subpath\n  this._x1 = this._y1 = null; // end of current subpath\n  this._ = \"\";\n}\n\nfunction path() {\n  return new Path;\n}\n\nPath.prototype = path.prototype = {\n  constructor: Path,\n  moveTo: function(x, y) {\n    this._ += \"M\" + (this._x0 = this._x1 = +x) + \",\" + (this._y0 = this._y1 = +y);\n  },\n  closePath: function() {\n    if (this._x1 !== null) {\n      this._x1 = this._x0, this._y1 = this._y0;\n      this._ += \"Z\";\n    }\n  },\n  lineTo: function(x, y) {\n    this._ += \"L\" + (this._x1 = +x) + \",\" + (this._y1 = +y);\n  },\n  quadraticCurveTo: function(x1, y1, x, y) {\n    this._ += \"Q\" + (+x1) + \",\" + (+y1) + \",\" + (this._x1 = +x) + \",\" + (this._y1 = +y);\n  },\n  bezierCurveTo: function(x1, y1, x2, y2, x, y) {\n    this._ += \"C\" + (+x1) + \",\" + (+y1) + \",\" + (+x2) + \",\" + (+y2) + \",\" + (this._x1 = +x) + \",\" + (this._y1 = +y);\n  },\n  arcTo: function(x1, y1, x2, y2, r) {\n    x1 = +x1, y1 = +y1, x2 = +x2, y2 = +y2, r = +r;\n    var x0 = this._x1,\n        y0 = this._y1,\n        x21 = x2 - x1,\n        y21 = y2 - y1,\n        x01 = x0 - x1,\n        y01 = y0 - y1,\n        l01_2 = x01 * x01 + y01 * y01;\n\n    // Is the radius negative? Error.\n    if (r < 0) throw new Error(\"negative radius: \" + r);\n\n    // Is this path empty? Move to (x1,y1).\n    if (this._x1 === null) {\n      this._ += \"M\" + (this._x1 = x1) + \",\" + (this._y1 = y1);\n    }\n\n    // Or, is (x1,y1) coincident with (x0,y0)? Do nothing.\n    else if (!(l01_2 > epsilon));\n\n    // Or, are (x0,y0), (x1,y1) and (x2,y2) collinear?\n    // Equivalently, is (x1,y1) coincident with (x2,y2)?\n    // Or, is the radius zero? Line to (x1,y1).\n    else if (!(Math.abs(y01 * x21 - y21 * x01) > epsilon) || !r) {\n      this._ += \"L\" + (this._x1 = x1) + \",\" + (this._y1 = y1);\n    }\n\n    // Otherwise, draw an arc!\n    else {\n      var x20 = x2 - x0,\n          y20 = y2 - y0,\n          l21_2 = x21 * x21 + y21 * y21,\n          l20_2 = x20 * x20 + y20 * y20,\n          l21 = Math.sqrt(l21_2),\n          l01 = Math.sqrt(l01_2),\n          l = r * Math.tan((pi - Math.acos((l21_2 + l01_2 - l20_2) / (2 * l21 * l01))) / 2),\n          t01 = l / l01,\n          t21 = l / l21;\n\n      // If the start tangent is not coincident with (x0,y0), line to.\n      if (Math.abs(t01 - 1) > epsilon) {\n        this._ += \"L\" + (x1 + t01 * x01) + \",\" + (y1 + t01 * y01);\n      }\n\n      this._ += \"A\" + r + \",\" + r + \",0,0,\" + (+(y01 * x20 > x01 * y20)) + \",\" + (this._x1 = x1 + t21 * x21) + \",\" + (this._y1 = y1 + t21 * y21);\n    }\n  },\n  arc: function(x, y, r, a0, a1, ccw) {\n    x = +x, y = +y, r = +r, ccw = !!ccw;\n    var dx = r * Math.cos(a0),\n        dy = r * Math.sin(a0),\n        x0 = x + dx,\n        y0 = y + dy,\n        cw = 1 ^ ccw,\n        da = ccw ? a0 - a1 : a1 - a0;\n\n    // Is the radius negative? Error.\n    if (r < 0) throw new Error(\"negative radius: \" + r);\n\n    // Is this path empty? Move to (x0,y0).\n    if (this._x1 === null) {\n      this._ += \"M\" + x0 + \",\" + y0;\n    }\n\n    // Or, is (x0,y0) not coincident with the previous point? Line to (x0,y0).\n    else if (Math.abs(this._x1 - x0) > epsilon || Math.abs(this._y1 - y0) > epsilon) {\n      this._ += \"L\" + x0 + \",\" + y0;\n    }\n\n    // Is this arc empty? Were done.\n    if (!r) return;\n\n    // Does the angle go the wrong way? Flip the direction.\n    if (da < 0) da = da % tau + tau;\n\n    // Is this a complete circle? Draw two arcs to complete the circle.\n    if (da > tauEpsilon) {\n      this._ += \"A\" + r + \",\" + r + \",0,1,\" + cw + \",\" + (x - dx) + \",\" + (y - dy) + \"A\" + r + \",\" + r + \",0,1,\" + cw + \",\" + (this._x1 = x0) + \",\" + (this._y1 = y0);\n    }\n\n    // Is this arc non-empty? Draw an arc!\n    else if (da > epsilon) {\n      this._ += \"A\" + r + \",\" + r + \",0,\" + (+(da >= pi)) + \",\" + cw + \",\" + (this._x1 = x + r * Math.cos(a1)) + \",\" + (this._y1 = y + r * Math.sin(a1));\n    }\n  },\n  rect: function(x, y, w, h) {\n    this._ += \"M\" + (this._x0 = this._x1 = +x) + \",\" + (this._y0 = this._y1 = +y) + \"h\" + (+w) + \"v\" + (+h) + \"h\" + (-w) + \"Z\";\n  },\n  toString: function() {\n    return this._;\n  }\n};\n\nexport default path;\n","export default function(x) {\n  return function constant() {\n    return x;\n  };\n}\n","export var abs = Math.abs;\nexport var atan2 = Math.atan2;\nexport var cos = Math.cos;\nexport var max = Math.max;\nexport var min = Math.min;\nexport var sin = Math.sin;\nexport var sqrt = Math.sqrt;\n\nexport var epsilon = 1e-12;\nexport var pi = Math.PI;\nexport var halfPi = pi / 2;\nexport var tau = 2 * pi;\n\nexport function acos(x) {\n  return x > 1 ? 0 : x < -1 ? pi : Math.acos(x);\n}\n\nexport function asin(x) {\n  return x >= 1 ? halfPi : x <= -1 ? -halfPi : Math.asin(x);\n}\n","import {path} from \"d3-path\";\nimport constant from \"./constant.js\";\nimport {abs, acos, asin, atan2, cos, epsilon, halfPi, max, min, pi, sin, sqrt, tau} from \"./math.js\";\n\nfunction arcInnerRadius(d) {\n  return d.innerRadius;\n}\n\nfunction arcOuterRadius(d) {\n  return d.outerRadius;\n}\n\nfunction arcStartAngle(d) {\n  return d.startAngle;\n}\n\nfunction arcEndAngle(d) {\n  return d.endAngle;\n}\n\nfunction arcPadAngle(d) {\n  return d && d.padAngle; // Note: optional!\n}\n\nfunction intersect(x0, y0, x1, y1, x2, y2, x3, y3) {\n  var x10 = x1 - x0, y10 = y1 - y0,\n      x32 = x3 - x2, y32 = y3 - y2,\n      t = y32 * x10 - x32 * y10;\n  if (t * t < epsilon) return;\n  t = (x32 * (y0 - y2) - y32 * (x0 - x2)) / t;\n  return [x0 + t * x10, y0 + t * y10];\n}\n\n// Compute perpendicular offset line of length rc.\n// http://mathworld.wolfram.com/Circle-LineIntersection.html\nfunction cornerTangents(x0, y0, x1, y1, r1, rc, cw) {\n  var x01 = x0 - x1,\n      y01 = y0 - y1,\n      lo = (cw ? rc : -rc) / sqrt(x01 * x01 + y01 * y01),\n      ox = lo * y01,\n      oy = -lo * x01,\n      x11 = x0 + ox,\n      y11 = y0 + oy,\n      x10 = x1 + ox,\n      y10 = y1 + oy,\n      x00 = (x11 + x10) / 2,\n      y00 = (y11 + y10) / 2,\n      dx = x10 - x11,\n      dy = y10 - y11,\n      d2 = dx * dx + dy * dy,\n      r = r1 - rc,\n      D = x11 * y10 - x10 * y11,\n      d = (dy < 0 ? -1 : 1) * sqrt(max(0, r * r * d2 - D * D)),\n      cx0 = (D * dy - dx * d) / d2,\n      cy0 = (-D * dx - dy * d) / d2,\n      cx1 = (D * dy + dx * d) / d2,\n      cy1 = (-D * dx + dy * d) / d2,\n      dx0 = cx0 - x00,\n      dy0 = cy0 - y00,\n      dx1 = cx1 - x00,\n      dy1 = cy1 - y00;\n\n  // Pick the closer of the two intersection points.\n  // TODO Is there a faster way to determine which intersection to use?\n  if (dx0 * dx0 + dy0 * dy0 > dx1 * dx1 + dy1 * dy1) cx0 = cx1, cy0 = cy1;\n\n  return {\n    cx: cx0,\n    cy: cy0,\n    x01: -ox,\n    y01: -oy,\n    x11: cx0 * (r1 / r - 1),\n    y11: cy0 * (r1 / r - 1)\n  };\n}\n\nexport default function() {\n  var innerRadius = arcInnerRadius,\n      outerRadius = arcOuterRadius,\n      cornerRadius = constant(0),\n      padRadius = null,\n      startAngle = arcStartAngle,\n      endAngle = arcEndAngle,\n      padAngle = arcPadAngle,\n      context = null;\n\n  function arc() {\n    var buffer,\n        r,\n        r0 = +innerRadius.apply(this, arguments),\n        r1 = +outerRadius.apply(this, arguments),\n        a0 = startAngle.apply(this, arguments) - halfPi,\n        a1 = endAngle.apply(this, arguments) - halfPi,\n        da = abs(a1 - a0),\n        cw = a1 > a0;\n\n    if (!context) context = buffer = path();\n\n    // Ensure that the outer radius is always larger than the inner radius.\n    if (r1 < r0) r = r1, r1 = r0, r0 = r;\n\n    // Is it a point?\n    if (!(r1 > epsilon)) context.moveTo(0, 0);\n\n    // Or is it a circle or annulus?\n    else if (da > tau - epsilon) {\n      context.moveTo(r1 * cos(a0), r1 * sin(a0));\n      context.arc(0, 0, r1, a0, a1, !cw);\n      if (r0 > epsilon) {\n        context.moveTo(r0 * cos(a1), r0 * sin(a1));\n        context.arc(0, 0, r0, a1, a0, cw);\n      }\n    }\n\n    // Or is it a circular or annular sector?\n    else {\n      var a01 = a0,\n          a11 = a1,\n          a00 = a0,\n          a10 = a1,\n          da0 = da,\n          da1 = da,\n          ap = padAngle.apply(this, arguments) / 2,\n          rp = (ap > epsilon) && (padRadius ? +padRadius.apply(this, arguments) : sqrt(r0 * r0 + r1 * r1)),\n          rc = min(abs(r1 - r0) / 2, +cornerRadius.apply(this, arguments)),\n          rc0 = rc,\n          rc1 = rc,\n          t0,\n          t1;\n\n      // Apply padding? Note that since r1  r0, da1  da0.\n      if (rp > epsilon) {\n        var p0 = asin(rp / r0 * sin(ap)),\n            p1 = asin(rp / r1 * sin(ap));\n        if ((da0 -= p0 * 2) > epsilon) p0 *= (cw ? 1 : -1), a00 += p0, a10 -= p0;\n        else da0 = 0, a00 = a10 = (a0 + a1) / 2;\n        if ((da1 -= p1 * 2) > epsilon) p1 *= (cw ? 1 : -1), a01 += p1, a11 -= p1;\n        else da1 = 0, a01 = a11 = (a0 + a1) / 2;\n      }\n\n      var x01 = r1 * cos(a01),\n          y01 = r1 * sin(a01),\n          x10 = r0 * cos(a10),\n          y10 = r0 * sin(a10);\n\n      // Apply rounded corners?\n      if (rc > epsilon) {\n        var x11 = r1 * cos(a11),\n            y11 = r1 * sin(a11),\n            x00 = r0 * cos(a00),\n            y00 = r0 * sin(a00),\n            oc;\n\n        // Restrict the corner radius according to the sector angle.\n        if (da < pi && (oc = intersect(x01, y01, x00, y00, x11, y11, x10, y10))) {\n          var ax = x01 - oc[0],\n              ay = y01 - oc[1],\n              bx = x11 - oc[0],\n              by = y11 - oc[1],\n              kc = 1 / sin(acos((ax * bx + ay * by) / (sqrt(ax * ax + ay * ay) * sqrt(bx * bx + by * by))) / 2),\n              lc = sqrt(oc[0] * oc[0] + oc[1] * oc[1]);\n          rc0 = min(rc, (r0 - lc) / (kc - 1));\n          rc1 = min(rc, (r1 - lc) / (kc + 1));\n        }\n      }\n\n      // Is the sector collapsed to a line?\n      if (!(da1 > epsilon)) context.moveTo(x01, y01);\n\n      // Does the sectors outer ring have rounded corners?\n      else if (rc1 > epsilon) {\n        t0 = cornerTangents(x00, y00, x01, y01, r1, rc1, cw);\n        t1 = cornerTangents(x11, y11, x10, y10, r1, rc1, cw);\n\n        context.moveTo(t0.cx + t0.x01, t0.cy + t0.y01);\n\n        // Have the corners merged?\n        if (rc1 < rc) context.arc(t0.cx, t0.cy, rc1, atan2(t0.y01, t0.x01), atan2(t1.y01, t1.x01), !cw);\n\n        // Otherwise, draw the two corners and the ring.\n        else {\n          context.arc(t0.cx, t0.cy, rc1, atan2(t0.y01, t0.x01), atan2(t0.y11, t0.x11), !cw);\n          context.arc(0, 0, r1, atan2(t0.cy + t0.y11, t0.cx + t0.x11), atan2(t1.cy + t1.y11, t1.cx + t1.x11), !cw);\n          context.arc(t1.cx, t1.cy, rc1, atan2(t1.y11, t1.x11), atan2(t1.y01, t1.x01), !cw);\n        }\n      }\n\n      // Or is the outer ring just a circular arc?\n      else context.moveTo(x01, y01), context.arc(0, 0, r1, a01, a11, !cw);\n\n      // Is there no inner ring, and its a circular sector?\n      // Or perhaps its an annular sector collapsed due to padding?\n      if (!(r0 > epsilon) || !(da0 > epsilon)) context.lineTo(x10, y10);\n\n      // Does the sectors inner ring (or point) have rounded corners?\n      else if (rc0 > epsilon) {\n        t0 = cornerTangents(x10, y10, x11, y11, r0, -rc0, cw);\n        t1 = cornerTangents(x01, y01, x00, y00, r0, -rc0, cw);\n\n        context.lineTo(t0.cx + t0.x01, t0.cy + t0.y01);\n\n        // Have the corners merged?\n        if (rc0 < rc) context.arc(t0.cx, t0.cy, rc0, atan2(t0.y01, t0.x01), atan2(t1.y01, t1.x01), !cw);\n\n        // Otherwise, draw the two corners and the ring.\n        else {\n          context.arc(t0.cx, t0.cy, rc0, atan2(t0.y01, t0.x01), atan2(t0.y11, t0.x11), !cw);\n          context.arc(0, 0, r0, atan2(t0.cy + t0.y11, t0.cx + t0.x11), atan2(t1.cy + t1.y11, t1.cx + t1.x11), cw);\n          context.arc(t1.cx, t1.cy, rc0, atan2(t1.y11, t1.x11), atan2(t1.y01, t1.x01), !cw);\n        }\n      }\n\n      // Or is the inner ring just a circular arc?\n      else context.arc(0, 0, r0, a10, a00, cw);\n    }\n\n    context.closePath();\n\n    if (buffer) return context = null, buffer + \"\" || null;\n  }\n\n  arc.centroid = function() {\n    var r = (+innerRadius.apply(this, arguments) + +outerRadius.apply(this, arguments)) / 2,\n        a = (+startAngle.apply(this, arguments) + +endAngle.apply(this, arguments)) / 2 - pi / 2;\n    return [cos(a) * r, sin(a) * r];\n  };\n\n  arc.innerRadius = function(_) {\n    return arguments.length ? (innerRadius = typeof _ === \"function\" ? _ : constant(+_), arc) : innerRadius;\n  };\n\n  arc.outerRadius = function(_) {\n    return arguments.length ? (outerRadius = typeof _ === \"function\" ? _ : constant(+_), arc) : outerRadius;\n  };\n\n  arc.cornerRadius = function(_) {\n    return arguments.length ? (cornerRadius = typeof _ === \"function\" ? _ : constant(+_), arc) : cornerRadius;\n  };\n\n  arc.padRadius = function(_) {\n    return arguments.length ? (padRadius = _ == null ? null : typeof _ === \"function\" ? _ : constant(+_), arc) : padRadius;\n  };\n\n  arc.startAngle = function(_) {\n    return arguments.length ? (startAngle = typeof _ === \"function\" ? _ : constant(+_), arc) : startAngle;\n  };\n\n  arc.endAngle = function(_) {\n    return arguments.length ? (endAngle = typeof _ === \"function\" ? _ : constant(+_), arc) : endAngle;\n  };\n\n  arc.padAngle = function(_) {\n    return arguments.length ? (padAngle = typeof _ === \"function\" ? _ : constant(+_), arc) : padAngle;\n  };\n\n  arc.context = function(_) {\n    return arguments.length ? ((context = _ == null ? null : _), arc) : context;\n  };\n\n  return arc;\n}\n","function Linear(context) {\n  this._context = context;\n}\n\nLinear.prototype = {\n  areaStart: function() {\n    this._line = 0;\n  },\n  areaEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._point = 0;\n  },\n  lineEnd: function() {\n    if (this._line || (this._line !== 0 && this._point === 1)) this._context.closePath();\n    this._line = 1 - this._line;\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n    switch (this._point) {\n      case 0: this._point = 1; this._line ? this._context.lineTo(x, y) : this._context.moveTo(x, y); break;\n      case 1: this._point = 2; // proceed\n      default: this._context.lineTo(x, y); break;\n    }\n  }\n};\n\nexport default function(context) {\n  return new Linear(context);\n}\n","export function x(p) {\n  return p[0];\n}\n\nexport function y(p) {\n  return p[1];\n}\n","import {path} from \"d3-path\";\nimport constant from \"./constant.js\";\nimport curveLinear from \"./curve/linear.js\";\nimport {x as pointX, y as pointY} from \"./point.js\";\n\nexport default function() {\n  var x = pointX,\n      y = pointY,\n      defined = constant(true),\n      context = null,\n      curve = curveLinear,\n      output = null;\n\n  function line(data) {\n    var i,\n        n = data.length,\n        d,\n        defined0 = false,\n        buffer;\n\n    if (context == null) output = curve(buffer = path());\n\n    for (i = 0; i <= n; ++i) {\n      if (!(i < n && defined(d = data[i], i, data)) === defined0) {\n        if (defined0 = !defined0) output.lineStart();\n        else output.lineEnd();\n      }\n      if (defined0) output.point(+x(d, i, data), +y(d, i, data));\n    }\n\n    if (buffer) return output = null, buffer + \"\" || null;\n  }\n\n  line.x = function(_) {\n    return arguments.length ? (x = typeof _ === \"function\" ? _ : constant(+_), line) : x;\n  };\n\n  line.y = function(_) {\n    return arguments.length ? (y = typeof _ === \"function\" ? _ : constant(+_), line) : y;\n  };\n\n  line.defined = function(_) {\n    return arguments.length ? (defined = typeof _ === \"function\" ? _ : constant(!!_), line) : defined;\n  };\n\n  line.curve = function(_) {\n    return arguments.length ? (curve = _, context != null && (output = curve(context)), line) : curve;\n  };\n\n  line.context = function(_) {\n    return arguments.length ? (_ == null ? context = output = null : output = curve(context = _), line) : context;\n  };\n\n  return line;\n}\n","import {path} from \"d3-path\";\nimport constant from \"./constant.js\";\nimport curveLinear from \"./curve/linear.js\";\nimport line from \"./line.js\";\nimport {x as pointX, y as pointY} from \"./point.js\";\n\nexport default function() {\n  var x0 = pointX,\n      x1 = null,\n      y0 = constant(0),\n      y1 = pointY,\n      defined = constant(true),\n      context = null,\n      curve = curveLinear,\n      output = null;\n\n  function area(data) {\n    var i,\n        j,\n        k,\n        n = data.length,\n        d,\n        defined0 = false,\n        buffer,\n        x0z = new Array(n),\n        y0z = new Array(n);\n\n    if (context == null) output = curve(buffer = path());\n\n    for (i = 0; i <= n; ++i) {\n      if (!(i < n && defined(d = data[i], i, data)) === defined0) {\n        if (defined0 = !defined0) {\n          j = i;\n          output.areaStart();\n          output.lineStart();\n        } else {\n          output.lineEnd();\n          output.lineStart();\n          for (k = i - 1; k >= j; --k) {\n            output.point(x0z[k], y0z[k]);\n          }\n          output.lineEnd();\n          output.areaEnd();\n        }\n      }\n      if (defined0) {\n        x0z[i] = +x0(d, i, data), y0z[i] = +y0(d, i, data);\n        output.point(x1 ? +x1(d, i, data) : x0z[i], y1 ? +y1(d, i, data) : y0z[i]);\n      }\n    }\n\n    if (buffer) return output = null, buffer + \"\" || null;\n  }\n\n  function arealine() {\n    return line().defined(defined).curve(curve).context(context);\n  }\n\n  area.x = function(_) {\n    return arguments.length ? (x0 = typeof _ === \"function\" ? _ : constant(+_), x1 = null, area) : x0;\n  };\n\n  area.x0 = function(_) {\n    return arguments.length ? (x0 = typeof _ === \"function\" ? _ : constant(+_), area) : x0;\n  };\n\n  area.x1 = function(_) {\n    return arguments.length ? (x1 = _ == null ? null : typeof _ === \"function\" ? _ : constant(+_), area) : x1;\n  };\n\n  area.y = function(_) {\n    return arguments.length ? (y0 = typeof _ === \"function\" ? _ : constant(+_), y1 = null, area) : y0;\n  };\n\n  area.y0 = function(_) {\n    return arguments.length ? (y0 = typeof _ === \"function\" ? _ : constant(+_), area) : y0;\n  };\n\n  area.y1 = function(_) {\n    return arguments.length ? (y1 = _ == null ? null : typeof _ === \"function\" ? _ : constant(+_), area) : y1;\n  };\n\n  area.lineX0 =\n  area.lineY0 = function() {\n    return arealine().x(x0).y(y0);\n  };\n\n  area.lineY1 = function() {\n    return arealine().x(x0).y(y1);\n  };\n\n  area.lineX1 = function() {\n    return arealine().x(x1).y(y0);\n  };\n\n  area.defined = function(_) {\n    return arguments.length ? (defined = typeof _ === \"function\" ? _ : constant(!!_), area) : defined;\n  };\n\n  area.curve = function(_) {\n    return arguments.length ? (curve = _, context != null && (output = curve(context)), area) : curve;\n  };\n\n  area.context = function(_) {\n    return arguments.length ? (_ == null ? context = output = null : output = curve(context = _), area) : context;\n  };\n\n  return area;\n}\n","export default function(a, b) {\n  return b < a ? -1 : b > a ? 1 : b >= a ? 0 : NaN;\n}\n","export default function(d) {\n  return d;\n}\n","import curveLinear from \"./linear.js\";\n\nexport var curveRadialLinear = curveRadial(curveLinear);\n\nfunction Radial(curve) {\n  this._curve = curve;\n}\n\nRadial.prototype = {\n  areaStart: function() {\n    this._curve.areaStart();\n  },\n  areaEnd: function() {\n    this._curve.areaEnd();\n  },\n  lineStart: function() {\n    this._curve.lineStart();\n  },\n  lineEnd: function() {\n    this._curve.lineEnd();\n  },\n  point: function(a, r) {\n    this._curve.point(r * Math.sin(a), r * -Math.cos(a));\n  }\n};\n\nexport default function curveRadial(curve) {\n\n  function radial(context) {\n    return new Radial(curve(context));\n  }\n\n  radial._curve = curve;\n\n  return radial;\n}\n","import curveRadial, {curveRadialLinear} from \"./curve/radial.js\";\nimport line from \"./line.js\";\n\nexport function lineRadial(l) {\n  var c = l.curve;\n\n  l.angle = l.x, delete l.x;\n  l.radius = l.y, delete l.y;\n\n  l.curve = function(_) {\n    return arguments.length ? c(curveRadial(_)) : c()._curve;\n  };\n\n  return l;\n}\n\nexport default function() {\n  return lineRadial(line().curve(curveRadialLinear));\n}\n","import curveRadial, {curveRadialLinear} from \"./curve/radial.js\";\nimport area from \"./area.js\";\nimport {lineRadial} from \"./lineRadial.js\";\n\nexport default function() {\n  var a = area().curve(curveRadialLinear),\n      c = a.curve,\n      x0 = a.lineX0,\n      x1 = a.lineX1,\n      y0 = a.lineY0,\n      y1 = a.lineY1;\n\n  a.angle = a.x, delete a.x;\n  a.startAngle = a.x0, delete a.x0;\n  a.endAngle = a.x1, delete a.x1;\n  a.radius = a.y, delete a.y;\n  a.innerRadius = a.y0, delete a.y0;\n  a.outerRadius = a.y1, delete a.y1;\n  a.lineStartAngle = function() { return lineRadial(x0()); }, delete a.lineX0;\n  a.lineEndAngle = function() { return lineRadial(x1()); }, delete a.lineX1;\n  a.lineInnerRadius = function() { return lineRadial(y0()); }, delete a.lineY0;\n  a.lineOuterRadius = function() { return lineRadial(y1()); }, delete a.lineY1;\n\n  a.curve = function(_) {\n    return arguments.length ? c(curveRadial(_)) : c()._curve;\n  };\n\n  return a;\n}\n","export default function(x, y) {\n  return [(y = +y) * Math.cos(x -= Math.PI / 2), y * Math.sin(x)];\n}\n","export var slice = Array.prototype.slice;\n","import {path} from \"d3-path\";\nimport {slice} from \"../array.js\";\nimport constant from \"../constant.js\";\nimport {x as pointX, y as pointY} from \"../point.js\";\nimport pointRadial from \"../pointRadial.js\";\n\nfunction linkSource(d) {\n  return d.source;\n}\n\nfunction linkTarget(d) {\n  return d.target;\n}\n\nfunction link(curve) {\n  var source = linkSource,\n      target = linkTarget,\n      x = pointX,\n      y = pointY,\n      context = null;\n\n  function link() {\n    var buffer, argv = slice.call(arguments), s = source.apply(this, argv), t = target.apply(this, argv);\n    if (!context) context = buffer = path();\n    curve(context, +x.apply(this, (argv[0] = s, argv)), +y.apply(this, argv), +x.apply(this, (argv[0] = t, argv)), +y.apply(this, argv));\n    if (buffer) return context = null, buffer + \"\" || null;\n  }\n\n  link.source = function(_) {\n    return arguments.length ? (source = _, link) : source;\n  };\n\n  link.target = function(_) {\n    return arguments.length ? (target = _, link) : target;\n  };\n\n  link.x = function(_) {\n    return arguments.length ? (x = typeof _ === \"function\" ? _ : constant(+_), link) : x;\n  };\n\n  link.y = function(_) {\n    return arguments.length ? (y = typeof _ === \"function\" ? _ : constant(+_), link) : y;\n  };\n\n  link.context = function(_) {\n    return arguments.length ? ((context = _ == null ? null : _), link) : context;\n  };\n\n  return link;\n}\n\nfunction curveHorizontal(context, x0, y0, x1, y1) {\n  context.moveTo(x0, y0);\n  context.bezierCurveTo(x0 = (x0 + x1) / 2, y0, x0, y1, x1, y1);\n}\n\nfunction curveVertical(context, x0, y0, x1, y1) {\n  context.moveTo(x0, y0);\n  context.bezierCurveTo(x0, y0 = (y0 + y1) / 2, x1, y0, x1, y1);\n}\n\nfunction curveRadial(context, x0, y0, x1, y1) {\n  var p0 = pointRadial(x0, y0),\n      p1 = pointRadial(x0, y0 = (y0 + y1) / 2),\n      p2 = pointRadial(x1, y0),\n      p3 = pointRadial(x1, y1);\n  context.moveTo(p0[0], p0[1]);\n  context.bezierCurveTo(p1[0], p1[1], p2[0], p2[1], p3[0], p3[1]);\n}\n\nexport function linkHorizontal() {\n  return link(curveHorizontal);\n}\n\nexport function linkVertical() {\n  return link(curveVertical);\n}\n\nexport function linkRadial() {\n  var l = link(curveRadial);\n  l.angle = l.x, delete l.x;\n  l.radius = l.y, delete l.y;\n  return l;\n}\n","import {pi, tau} from \"../math.js\";\n\nexport default {\n  draw: function(context, size) {\n    var r = Math.sqrt(size / pi);\n    context.moveTo(r, 0);\n    context.arc(0, 0, r, 0, tau);\n  }\n};\n","export default {\n  draw: function(context, size) {\n    var r = Math.sqrt(size / 5) / 2;\n    context.moveTo(-3 * r, -r);\n    context.lineTo(-r, -r);\n    context.lineTo(-r, -3 * r);\n    context.lineTo(r, -3 * r);\n    context.lineTo(r, -r);\n    context.lineTo(3 * r, -r);\n    context.lineTo(3 * r, r);\n    context.lineTo(r, r);\n    context.lineTo(r, 3 * r);\n    context.lineTo(-r, 3 * r);\n    context.lineTo(-r, r);\n    context.lineTo(-3 * r, r);\n    context.closePath();\n  }\n};\n","var tan30 = Math.sqrt(1 / 3),\n    tan30_2 = tan30 * 2;\n\nexport default {\n  draw: function(context, size) {\n    var y = Math.sqrt(size / tan30_2),\n        x = y * tan30;\n    context.moveTo(0, -y);\n    context.lineTo(x, 0);\n    context.lineTo(0, y);\n    context.lineTo(-x, 0);\n    context.closePath();\n  }\n};\n","import {pi, tau} from \"../math.js\";\n\nvar ka = 0.89081309152928522810,\n    kr = Math.sin(pi / 10) / Math.sin(7 * pi / 10),\n    kx = Math.sin(tau / 10) * kr,\n    ky = -Math.cos(tau / 10) * kr;\n\nexport default {\n  draw: function(context, size) {\n    var r = Math.sqrt(size * ka),\n        x = kx * r,\n        y = ky * r;\n    context.moveTo(0, -r);\n    context.lineTo(x, y);\n    for (var i = 1; i < 5; ++i) {\n      var a = tau * i / 5,\n          c = Math.cos(a),\n          s = Math.sin(a);\n      context.lineTo(s * r, -c * r);\n      context.lineTo(c * x - s * y, s * x + c * y);\n    }\n    context.closePath();\n  }\n};\n","export default {\n  draw: function(context, size) {\n    var w = Math.sqrt(size),\n        x = -w / 2;\n    context.rect(x, x, w, w);\n  }\n};\n","var sqrt3 = Math.sqrt(3);\n\nexport default {\n  draw: function(context, size) {\n    var y = -Math.sqrt(size / (sqrt3 * 3));\n    context.moveTo(0, y * 2);\n    context.lineTo(-sqrt3 * y, -y);\n    context.lineTo(sqrt3 * y, -y);\n    context.closePath();\n  }\n};\n","var c = -0.5,\n    s = Math.sqrt(3) / 2,\n    k = 1 / Math.sqrt(12),\n    a = (k / 2 + 1) * 3;\n\nexport default {\n  draw: function(context, size) {\n    var r = Math.sqrt(size / a),\n        x0 = r / 2,\n        y0 = r * k,\n        x1 = x0,\n        y1 = r * k + r,\n        x2 = -x1,\n        y2 = y1;\n    context.moveTo(x0, y0);\n    context.lineTo(x1, y1);\n    context.lineTo(x2, y2);\n    context.lineTo(c * x0 - s * y0, s * x0 + c * y0);\n    context.lineTo(c * x1 - s * y1, s * x1 + c * y1);\n    context.lineTo(c * x2 - s * y2, s * x2 + c * y2);\n    context.lineTo(c * x0 + s * y0, c * y0 - s * x0);\n    context.lineTo(c * x1 + s * y1, c * y1 - s * x1);\n    context.lineTo(c * x2 + s * y2, c * y2 - s * x2);\n    context.closePath();\n  }\n};\n","import {path} from \"d3-path\";\nimport circle from \"./symbol/circle.js\";\nimport cross from \"./symbol/cross.js\";\nimport diamond from \"./symbol/diamond.js\";\nimport star from \"./symbol/star.js\";\nimport square from \"./symbol/square.js\";\nimport triangle from \"./symbol/triangle.js\";\nimport wye from \"./symbol/wye.js\";\nimport constant from \"./constant.js\";\n\nexport var symbols = [\n  circle,\n  cross,\n  diamond,\n  square,\n  star,\n  triangle,\n  wye\n];\n\nexport default function() {\n  var type = constant(circle),\n      size = constant(64),\n      context = null;\n\n  function symbol() {\n    var buffer;\n    if (!context) context = buffer = path();\n    type.apply(this, arguments).draw(context, +size.apply(this, arguments));\n    if (buffer) return context = null, buffer + \"\" || null;\n  }\n\n  symbol.type = function(_) {\n    return arguments.length ? (type = typeof _ === \"function\" ? _ : constant(_), symbol) : type;\n  };\n\n  symbol.size = function(_) {\n    return arguments.length ? (size = typeof _ === \"function\" ? _ : constant(+_), symbol) : size;\n  };\n\n  symbol.context = function(_) {\n    return arguments.length ? (context = _ == null ? null : _, symbol) : context;\n  };\n\n  return symbol;\n}\n","export default function() {}\n","export function point(that, x, y) {\n  that._context.bezierCurveTo(\n    (2 * that._x0 + that._x1) / 3,\n    (2 * that._y0 + that._y1) / 3,\n    (that._x0 + 2 * that._x1) / 3,\n    (that._y0 + 2 * that._y1) / 3,\n    (that._x0 + 4 * that._x1 + x) / 6,\n    (that._y0 + 4 * that._y1 + y) / 6\n  );\n}\n\nexport function Basis(context) {\n  this._context = context;\n}\n\nBasis.prototype = {\n  areaStart: function() {\n    this._line = 0;\n  },\n  areaEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._x0 = this._x1 =\n    this._y0 = this._y1 = NaN;\n    this._point = 0;\n  },\n  lineEnd: function() {\n    switch (this._point) {\n      case 3: point(this, this._x1, this._y1); // proceed\n      case 2: this._context.lineTo(this._x1, this._y1); break;\n    }\n    if (this._line || (this._line !== 0 && this._point === 1)) this._context.closePath();\n    this._line = 1 - this._line;\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n    switch (this._point) {\n      case 0: this._point = 1; this._line ? this._context.lineTo(x, y) : this._context.moveTo(x, y); break;\n      case 1: this._point = 2; break;\n      case 2: this._point = 3; this._context.lineTo((5 * this._x0 + this._x1) / 6, (5 * this._y0 + this._y1) / 6); // proceed\n      default: point(this, x, y); break;\n    }\n    this._x0 = this._x1, this._x1 = x;\n    this._y0 = this._y1, this._y1 = y;\n  }\n};\n\nexport default function(context) {\n  return new Basis(context);\n}\n","import noop from \"../noop.js\";\nimport {point} from \"./basis.js\";\n\nfunction BasisClosed(context) {\n  this._context = context;\n}\n\nBasisClosed.prototype = {\n  areaStart: noop,\n  areaEnd: noop,\n  lineStart: function() {\n    this._x0 = this._x1 = this._x2 = this._x3 = this._x4 =\n    this._y0 = this._y1 = this._y2 = this._y3 = this._y4 = NaN;\n    this._point = 0;\n  },\n  lineEnd: function() {\n    switch (this._point) {\n      case 1: {\n        this._context.moveTo(this._x2, this._y2);\n        this._context.closePath();\n        break;\n      }\n      case 2: {\n        this._context.moveTo((this._x2 + 2 * this._x3) / 3, (this._y2 + 2 * this._y3) / 3);\n        this._context.lineTo((this._x3 + 2 * this._x2) / 3, (this._y3 + 2 * this._y2) / 3);\n        this._context.closePath();\n        break;\n      }\n      case 3: {\n        this.point(this._x2, this._y2);\n        this.point(this._x3, this._y3);\n        this.point(this._x4, this._y4);\n        break;\n      }\n    }\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n    switch (this._point) {\n      case 0: this._point = 1; this._x2 = x, this._y2 = y; break;\n      case 1: this._point = 2; this._x3 = x, this._y3 = y; break;\n      case 2: this._point = 3; this._x4 = x, this._y4 = y; this._context.moveTo((this._x0 + 4 * this._x1 + x) / 6, (this._y0 + 4 * this._y1 + y) / 6); break;\n      default: point(this, x, y); break;\n    }\n    this._x0 = this._x1, this._x1 = x;\n    this._y0 = this._y1, this._y1 = y;\n  }\n};\n\nexport default function(context) {\n  return new BasisClosed(context);\n}\n","import {point} from \"./basis.js\";\n\nfunction BasisOpen(context) {\n  this._context = context;\n}\n\nBasisOpen.prototype = {\n  areaStart: function() {\n    this._line = 0;\n  },\n  areaEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._x0 = this._x1 =\n    this._y0 = this._y1 = NaN;\n    this._point = 0;\n  },\n  lineEnd: function() {\n    if (this._line || (this._line !== 0 && this._point === 3)) this._context.closePath();\n    this._line = 1 - this._line;\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n    switch (this._point) {\n      case 0: this._point = 1; break;\n      case 1: this._point = 2; break;\n      case 2: this._point = 3; var x0 = (this._x0 + 4 * this._x1 + x) / 6, y0 = (this._y0 + 4 * this._y1 + y) / 6; this._line ? this._context.lineTo(x0, y0) : this._context.moveTo(x0, y0); break;\n      case 3: this._point = 4; // proceed\n      default: point(this, x, y); break;\n    }\n    this._x0 = this._x1, this._x1 = x;\n    this._y0 = this._y1, this._y1 = y;\n  }\n};\n\nexport default function(context) {\n  return new BasisOpen(context);\n}\n","import {Basis} from \"./basis.js\";\n\nfunction Bundle(context, beta) {\n  this._basis = new Basis(context);\n  this._beta = beta;\n}\n\nBundle.prototype = {\n  lineStart: function() {\n    this._x = [];\n    this._y = [];\n    this._basis.lineStart();\n  },\n  lineEnd: function() {\n    var x = this._x,\n        y = this._y,\n        j = x.length - 1;\n\n    if (j > 0) {\n      var x0 = x[0],\n          y0 = y[0],\n          dx = x[j] - x0,\n          dy = y[j] - y0,\n          i = -1,\n          t;\n\n      while (++i <= j) {\n        t = i / j;\n        this._basis.point(\n          this._beta * x[i] + (1 - this._beta) * (x0 + t * dx),\n          this._beta * y[i] + (1 - this._beta) * (y0 + t * dy)\n        );\n      }\n    }\n\n    this._x = this._y = null;\n    this._basis.lineEnd();\n  },\n  point: function(x, y) {\n    this._x.push(+x);\n    this._y.push(+y);\n  }\n};\n\nexport default (function custom(beta) {\n\n  function bundle(context) {\n    return beta === 1 ? new Basis(context) : new Bundle(context, beta);\n  }\n\n  bundle.beta = function(beta) {\n    return custom(+beta);\n  };\n\n  return bundle;\n})(0.85);\n","export function point(that, x, y) {\n  that._context.bezierCurveTo(\n    that._x1 + that._k * (that._x2 - that._x0),\n    that._y1 + that._k * (that._y2 - that._y0),\n    that._x2 + that._k * (that._x1 - x),\n    that._y2 + that._k * (that._y1 - y),\n    that._x2,\n    that._y2\n  );\n}\n\nexport function Cardinal(context, tension) {\n  this._context = context;\n  this._k = (1 - tension) / 6;\n}\n\nCardinal.prototype = {\n  areaStart: function() {\n    this._line = 0;\n  },\n  areaEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._x0 = this._x1 = this._x2 =\n    this._y0 = this._y1 = this._y2 = NaN;\n    this._point = 0;\n  },\n  lineEnd: function() {\n    switch (this._point) {\n      case 2: this._context.lineTo(this._x2, this._y2); break;\n      case 3: point(this, this._x1, this._y1); break;\n    }\n    if (this._line || (this._line !== 0 && this._point === 1)) this._context.closePath();\n    this._line = 1 - this._line;\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n    switch (this._point) {\n      case 0: this._point = 1; this._line ? this._context.lineTo(x, y) : this._context.moveTo(x, y); break;\n      case 1: this._point = 2; this._x1 = x, this._y1 = y; break;\n      case 2: this._point = 3; // proceed\n      default: point(this, x, y); break;\n    }\n    this._x0 = this._x1, this._x1 = this._x2, this._x2 = x;\n    this._y0 = this._y1, this._y1 = this._y2, this._y2 = y;\n  }\n};\n\nexport default (function custom(tension) {\n\n  function cardinal(context) {\n    return new Cardinal(context, tension);\n  }\n\n  cardinal.tension = function(tension) {\n    return custom(+tension);\n  };\n\n  return cardinal;\n})(0);\n","import noop from \"../noop.js\";\nimport {point} from \"./cardinal.js\";\n\nexport function CardinalClosed(context, tension) {\n  this._context = context;\n  this._k = (1 - tension) / 6;\n}\n\nCardinalClosed.prototype = {\n  areaStart: noop,\n  areaEnd: noop,\n  lineStart: function() {\n    this._x0 = this._x1 = this._x2 = this._x3 = this._x4 = this._x5 =\n    this._y0 = this._y1 = this._y2 = this._y3 = this._y4 = this._y5 = NaN;\n    this._point = 0;\n  },\n  lineEnd: function() {\n    switch (this._point) {\n      case 1: {\n        this._context.moveTo(this._x3, this._y3);\n        this._context.closePath();\n        break;\n      }\n      case 2: {\n        this._context.lineTo(this._x3, this._y3);\n        this._context.closePath();\n        break;\n      }\n      case 3: {\n        this.point(this._x3, this._y3);\n        this.point(this._x4, this._y4);\n        this.point(this._x5, this._y5);\n        break;\n      }\n    }\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n    switch (this._point) {\n      case 0: this._point = 1; this._x3 = x, this._y3 = y; break;\n      case 1: this._point = 2; this._context.moveTo(this._x4 = x, this._y4 = y); break;\n      case 2: this._point = 3; this._x5 = x, this._y5 = y; break;\n      default: point(this, x, y); break;\n    }\n    this._x0 = this._x1, this._x1 = this._x2, this._x2 = x;\n    this._y0 = this._y1, this._y1 = this._y2, this._y2 = y;\n  }\n};\n\nexport default (function custom(tension) {\n\n  function cardinal(context) {\n    return new CardinalClosed(context, tension);\n  }\n\n  cardinal.tension = function(tension) {\n    return custom(+tension);\n  };\n\n  return cardinal;\n})(0);\n","import {point} from \"./cardinal.js\";\n\nexport function CardinalOpen(context, tension) {\n  this._context = context;\n  this._k = (1 - tension) / 6;\n}\n\nCardinalOpen.prototype = {\n  areaStart: function() {\n    this._line = 0;\n  },\n  areaEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._x0 = this._x1 = this._x2 =\n    this._y0 = this._y1 = this._y2 = NaN;\n    this._point = 0;\n  },\n  lineEnd: function() {\n    if (this._line || (this._line !== 0 && this._point === 3)) this._context.closePath();\n    this._line = 1 - this._line;\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n    switch (this._point) {\n      case 0: this._point = 1; break;\n      case 1: this._point = 2; break;\n      case 2: this._point = 3; this._line ? this._context.lineTo(this._x2, this._y2) : this._context.moveTo(this._x2, this._y2); break;\n      case 3: this._point = 4; // proceed\n      default: point(this, x, y); break;\n    }\n    this._x0 = this._x1, this._x1 = this._x2, this._x2 = x;\n    this._y0 = this._y1, this._y1 = this._y2, this._y2 = y;\n  }\n};\n\nexport default (function custom(tension) {\n\n  function cardinal(context) {\n    return new CardinalOpen(context, tension);\n  }\n\n  cardinal.tension = function(tension) {\n    return custom(+tension);\n  };\n\n  return cardinal;\n})(0);\n","import {epsilon} from \"../math.js\";\nimport {Cardinal} from \"./cardinal.js\";\n\nexport function point(that, x, y) {\n  var x1 = that._x1,\n      y1 = that._y1,\n      x2 = that._x2,\n      y2 = that._y2;\n\n  if (that._l01_a > epsilon) {\n    var a = 2 * that._l01_2a + 3 * that._l01_a * that._l12_a + that._l12_2a,\n        n = 3 * that._l01_a * (that._l01_a + that._l12_a);\n    x1 = (x1 * a - that._x0 * that._l12_2a + that._x2 * that._l01_2a) / n;\n    y1 = (y1 * a - that._y0 * that._l12_2a + that._y2 * that._l01_2a) / n;\n  }\n\n  if (that._l23_a > epsilon) {\n    var b = 2 * that._l23_2a + 3 * that._l23_a * that._l12_a + that._l12_2a,\n        m = 3 * that._l23_a * (that._l23_a + that._l12_a);\n    x2 = (x2 * b + that._x1 * that._l23_2a - x * that._l12_2a) / m;\n    y2 = (y2 * b + that._y1 * that._l23_2a - y * that._l12_2a) / m;\n  }\n\n  that._context.bezierCurveTo(x1, y1, x2, y2, that._x2, that._y2);\n}\n\nfunction CatmullRom(context, alpha) {\n  this._context = context;\n  this._alpha = alpha;\n}\n\nCatmullRom.prototype = {\n  areaStart: function() {\n    this._line = 0;\n  },\n  areaEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._x0 = this._x1 = this._x2 =\n    this._y0 = this._y1 = this._y2 = NaN;\n    this._l01_a = this._l12_a = this._l23_a =\n    this._l01_2a = this._l12_2a = this._l23_2a =\n    this._point = 0;\n  },\n  lineEnd: function() {\n    switch (this._point) {\n      case 2: this._context.lineTo(this._x2, this._y2); break;\n      case 3: this.point(this._x2, this._y2); break;\n    }\n    if (this._line || (this._line !== 0 && this._point === 1)) this._context.closePath();\n    this._line = 1 - this._line;\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n\n    if (this._point) {\n      var x23 = this._x2 - x,\n          y23 = this._y2 - y;\n      this._l23_a = Math.sqrt(this._l23_2a = Math.pow(x23 * x23 + y23 * y23, this._alpha));\n    }\n\n    switch (this._point) {\n      case 0: this._point = 1; this._line ? this._context.lineTo(x, y) : this._context.moveTo(x, y); break;\n      case 1: this._point = 2; break;\n      case 2: this._point = 3; // proceed\n      default: point(this, x, y); break;\n    }\n\n    this._l01_a = this._l12_a, this._l12_a = this._l23_a;\n    this._l01_2a = this._l12_2a, this._l12_2a = this._l23_2a;\n    this._x0 = this._x1, this._x1 = this._x2, this._x2 = x;\n    this._y0 = this._y1, this._y1 = this._y2, this._y2 = y;\n  }\n};\n\nexport default (function custom(alpha) {\n\n  function catmullRom(context) {\n    return alpha ? new CatmullRom(context, alpha) : new Cardinal(context, 0);\n  }\n\n  catmullRom.alpha = function(alpha) {\n    return custom(+alpha);\n  };\n\n  return catmullRom;\n})(0.5);\n","import {CardinalClosed} from \"./cardinalClosed.js\";\nimport noop from \"../noop.js\";\nimport {point} from \"./catmullRom.js\";\n\nfunction CatmullRomClosed(context, alpha) {\n  this._context = context;\n  this._alpha = alpha;\n}\n\nCatmullRomClosed.prototype = {\n  areaStart: noop,\n  areaEnd: noop,\n  lineStart: function() {\n    this._x0 = this._x1 = this._x2 = this._x3 = this._x4 = this._x5 =\n    this._y0 = this._y1 = this._y2 = this._y3 = this._y4 = this._y5 = NaN;\n    this._l01_a = this._l12_a = this._l23_a =\n    this._l01_2a = this._l12_2a = this._l23_2a =\n    this._point = 0;\n  },\n  lineEnd: function() {\n    switch (this._point) {\n      case 1: {\n        this._context.moveTo(this._x3, this._y3);\n        this._context.closePath();\n        break;\n      }\n      case 2: {\n        this._context.lineTo(this._x3, this._y3);\n        this._context.closePath();\n        break;\n      }\n      case 3: {\n        this.point(this._x3, this._y3);\n        this.point(this._x4, this._y4);\n        this.point(this._x5, this._y5);\n        break;\n      }\n    }\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n\n    if (this._point) {\n      var x23 = this._x2 - x,\n          y23 = this._y2 - y;\n      this._l23_a = Math.sqrt(this._l23_2a = Math.pow(x23 * x23 + y23 * y23, this._alpha));\n    }\n\n    switch (this._point) {\n      case 0: this._point = 1; this._x3 = x, this._y3 = y; break;\n      case 1: this._point = 2; this._context.moveTo(this._x4 = x, this._y4 = y); break;\n      case 2: this._point = 3; this._x5 = x, this._y5 = y; break;\n      default: point(this, x, y); break;\n    }\n\n    this._l01_a = this._l12_a, this._l12_a = this._l23_a;\n    this._l01_2a = this._l12_2a, this._l12_2a = this._l23_2a;\n    this._x0 = this._x1, this._x1 = this._x2, this._x2 = x;\n    this._y0 = this._y1, this._y1 = this._y2, this._y2 = y;\n  }\n};\n\nexport default (function custom(alpha) {\n\n  function catmullRom(context) {\n    return alpha ? new CatmullRomClosed(context, alpha) : new CardinalClosed(context, 0);\n  }\n\n  catmullRom.alpha = function(alpha) {\n    return custom(+alpha);\n  };\n\n  return catmullRom;\n})(0.5);\n","import {CardinalOpen} from \"./cardinalOpen.js\";\nimport {point} from \"./catmullRom.js\";\n\nfunction CatmullRomOpen(context, alpha) {\n  this._context = context;\n  this._alpha = alpha;\n}\n\nCatmullRomOpen.prototype = {\n  areaStart: function() {\n    this._line = 0;\n  },\n  areaEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._x0 = this._x1 = this._x2 =\n    this._y0 = this._y1 = this._y2 = NaN;\n    this._l01_a = this._l12_a = this._l23_a =\n    this._l01_2a = this._l12_2a = this._l23_2a =\n    this._point = 0;\n  },\n  lineEnd: function() {\n    if (this._line || (this._line !== 0 && this._point === 3)) this._context.closePath();\n    this._line = 1 - this._line;\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n\n    if (this._point) {\n      var x23 = this._x2 - x,\n          y23 = this._y2 - y;\n      this._l23_a = Math.sqrt(this._l23_2a = Math.pow(x23 * x23 + y23 * y23, this._alpha));\n    }\n\n    switch (this._point) {\n      case 0: this._point = 1; break;\n      case 1: this._point = 2; break;\n      case 2: this._point = 3; this._line ? this._context.lineTo(this._x2, this._y2) : this._context.moveTo(this._x2, this._y2); break;\n      case 3: this._point = 4; // proceed\n      default: point(this, x, y); break;\n    }\n\n    this._l01_a = this._l12_a, this._l12_a = this._l23_a;\n    this._l01_2a = this._l12_2a, this._l12_2a = this._l23_2a;\n    this._x0 = this._x1, this._x1 = this._x2, this._x2 = x;\n    this._y0 = this._y1, this._y1 = this._y2, this._y2 = y;\n  }\n};\n\nexport default (function custom(alpha) {\n\n  function catmullRom(context) {\n    return alpha ? new CatmullRomOpen(context, alpha) : new CardinalOpen(context, 0);\n  }\n\n  catmullRom.alpha = function(alpha) {\n    return custom(+alpha);\n  };\n\n  return catmullRom;\n})(0.5);\n","import noop from \"../noop.js\";\n\nfunction LinearClosed(context) {\n  this._context = context;\n}\n\nLinearClosed.prototype = {\n  areaStart: noop,\n  areaEnd: noop,\n  lineStart: function() {\n    this._point = 0;\n  },\n  lineEnd: function() {\n    if (this._point) this._context.closePath();\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n    if (this._point) this._context.lineTo(x, y);\n    else this._point = 1, this._context.moveTo(x, y);\n  }\n};\n\nexport default function(context) {\n  return new LinearClosed(context);\n}\n","function sign(x) {\n  return x < 0 ? -1 : 1;\n}\n\n// Calculate the slopes of the tangents (Hermite-type interpolation) based on\n// the following paper: Steffen, M. 1990. A Simple Method for Monotonic\n// Interpolation in One Dimension. Astronomy and Astrophysics, Vol. 239, NO.\n// NOV(II), P. 443, 1990.\nfunction slope3(that, x2, y2) {\n  var h0 = that._x1 - that._x0,\n      h1 = x2 - that._x1,\n      s0 = (that._y1 - that._y0) / (h0 || h1 < 0 && -0),\n      s1 = (y2 - that._y1) / (h1 || h0 < 0 && -0),\n      p = (s0 * h1 + s1 * h0) / (h0 + h1);\n  return (sign(s0) + sign(s1)) * Math.min(Math.abs(s0), Math.abs(s1), 0.5 * Math.abs(p)) || 0;\n}\n\n// Calculate a one-sided slope.\nfunction slope2(that, t) {\n  var h = that._x1 - that._x0;\n  return h ? (3 * (that._y1 - that._y0) / h - t) / 2 : t;\n}\n\n// According to https://en.wikipedia.org/wiki/Cubic_Hermite_spline#Representations\n// \"you can express cubic Hermite interpolation in terms of cubic Bzier curves\n// with respect to the four values p0, p0 + m0 / 3, p1 - m1 / 3, p1\".\nfunction point(that, t0, t1) {\n  var x0 = that._x0,\n      y0 = that._y0,\n      x1 = that._x1,\n      y1 = that._y1,\n      dx = (x1 - x0) / 3;\n  that._context.bezierCurveTo(x0 + dx, y0 + dx * t0, x1 - dx, y1 - dx * t1, x1, y1);\n}\n\nfunction MonotoneX(context) {\n  this._context = context;\n}\n\nMonotoneX.prototype = {\n  areaStart: function() {\n    this._line = 0;\n  },\n  areaEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._x0 = this._x1 =\n    this._y0 = this._y1 =\n    this._t0 = NaN;\n    this._point = 0;\n  },\n  lineEnd: function() {\n    switch (this._point) {\n      case 2: this._context.lineTo(this._x1, this._y1); break;\n      case 3: point(this, this._t0, slope2(this, this._t0)); break;\n    }\n    if (this._line || (this._line !== 0 && this._point === 1)) this._context.closePath();\n    this._line = 1 - this._line;\n  },\n  point: function(x, y) {\n    var t1 = NaN;\n\n    x = +x, y = +y;\n    if (x === this._x1 && y === this._y1) return; // Ignore coincident points.\n    switch (this._point) {\n      case 0: this._point = 1; this._line ? this._context.lineTo(x, y) : this._context.moveTo(x, y); break;\n      case 1: this._point = 2; break;\n      case 2: this._point = 3; point(this, slope2(this, t1 = slope3(this, x, y)), t1); break;\n      default: point(this, this._t0, t1 = slope3(this, x, y)); break;\n    }\n\n    this._x0 = this._x1, this._x1 = x;\n    this._y0 = this._y1, this._y1 = y;\n    this._t0 = t1;\n  }\n}\n\nfunction MonotoneY(context) {\n  this._context = new ReflectContext(context);\n}\n\n(MonotoneY.prototype = Object.create(MonotoneX.prototype)).point = function(x, y) {\n  MonotoneX.prototype.point.call(this, y, x);\n};\n\nfunction ReflectContext(context) {\n  this._context = context;\n}\n\nReflectContext.prototype = {\n  moveTo: function(x, y) { this._context.moveTo(y, x); },\n  closePath: function() { this._context.closePath(); },\n  lineTo: function(x, y) { this._context.lineTo(y, x); },\n  bezierCurveTo: function(x1, y1, x2, y2, x, y) { this._context.bezierCurveTo(y1, x1, y2, x2, y, x); }\n};\n\nexport function monotoneX(context) {\n  return new MonotoneX(context);\n}\n\nexport function monotoneY(context) {\n  return new MonotoneY(context);\n}\n","function Natural(context) {\n  this._context = context;\n}\n\nNatural.prototype = {\n  areaStart: function() {\n    this._line = 0;\n  },\n  areaEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._x = [];\n    this._y = [];\n  },\n  lineEnd: function() {\n    var x = this._x,\n        y = this._y,\n        n = x.length;\n\n    if (n) {\n      this._line ? this._context.lineTo(x[0], y[0]) : this._context.moveTo(x[0], y[0]);\n      if (n === 2) {\n        this._context.lineTo(x[1], y[1]);\n      } else {\n        var px = controlPoints(x),\n            py = controlPoints(y);\n        for (var i0 = 0, i1 = 1; i1 < n; ++i0, ++i1) {\n          this._context.bezierCurveTo(px[0][i0], py[0][i0], px[1][i0], py[1][i0], x[i1], y[i1]);\n        }\n      }\n    }\n\n    if (this._line || (this._line !== 0 && n === 1)) this._context.closePath();\n    this._line = 1 - this._line;\n    this._x = this._y = null;\n  },\n  point: function(x, y) {\n    this._x.push(+x);\n    this._y.push(+y);\n  }\n};\n\n// See https://www.particleincell.com/2012/bezier-splines/ for derivation.\nfunction controlPoints(x) {\n  var i,\n      n = x.length - 1,\n      m,\n      a = new Array(n),\n      b = new Array(n),\n      r = new Array(n);\n  a[0] = 0, b[0] = 2, r[0] = x[0] + 2 * x[1];\n  for (i = 1; i < n - 1; ++i) a[i] = 1, b[i] = 4, r[i] = 4 * x[i] + 2 * x[i + 1];\n  a[n - 1] = 2, b[n - 1] = 7, r[n - 1] = 8 * x[n - 1] + x[n];\n  for (i = 1; i < n; ++i) m = a[i] / b[i - 1], b[i] -= m, r[i] -= m * r[i - 1];\n  a[n - 1] = r[n - 1] / b[n - 1];\n  for (i = n - 2; i >= 0; --i) a[i] = (r[i] - a[i + 1]) / b[i];\n  b[n - 1] = (x[n] + a[n - 1]) / 2;\n  for (i = 0; i < n - 1; ++i) b[i] = 2 * x[i + 1] - a[i + 1];\n  return [a, b];\n}\n\nexport default function(context) {\n  return new Natural(context);\n}\n","function Step(context, t) {\n  this._context = context;\n  this._t = t;\n}\n\nStep.prototype = {\n  areaStart: function() {\n    this._line = 0;\n  },\n  areaEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._x = this._y = NaN;\n    this._point = 0;\n  },\n  lineEnd: function() {\n    if (0 < this._t && this._t < 1 && this._point === 2) this._context.lineTo(this._x, this._y);\n    if (this._line || (this._line !== 0 && this._point === 1)) this._context.closePath();\n    if (this._line >= 0) this._t = 1 - this._t, this._line = 1 - this._line;\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n    switch (this._point) {\n      case 0: this._point = 1; this._line ? this._context.lineTo(x, y) : this._context.moveTo(x, y); break;\n      case 1: this._point = 2; // proceed\n      default: {\n        if (this._t <= 0) {\n          this._context.lineTo(this._x, y);\n          this._context.lineTo(x, y);\n        } else {\n          var x1 = this._x * (1 - this._t) + x * this._t;\n          this._context.lineTo(x1, this._y);\n          this._context.lineTo(x1, y);\n        }\n        break;\n      }\n    }\n    this._x = x, this._y = y;\n  }\n};\n\nexport default function(context) {\n  return new Step(context, 0.5);\n}\n\nexport function stepBefore(context) {\n  return new Step(context, 0);\n}\n\nexport function stepAfter(context) {\n  return new Step(context, 1);\n}\n","export default function(series, order) {\n  if (!((n = series.length) > 1)) return;\n  for (var i = 1, j, s0, s1 = series[order[0]], n, m = s1.length; i < n; ++i) {\n    s0 = s1, s1 = series[order[i]];\n    for (j = 0; j < m; ++j) {\n      s1[j][1] += s1[j][0] = isNaN(s0[j][1]) ? s0[j][0] : s0[j][1];\n    }\n  }\n}\n","export default function(series) {\n  var n = series.length, o = new Array(n);\n  while (--n >= 0) o[n] = n;\n  return o;\n}\n","import {slice} from \"./array.js\";\nimport constant from \"./constant.js\";\nimport offsetNone from \"./offset/none.js\";\nimport orderNone from \"./order/none.js\";\n\nfunction stackValue(d, key) {\n  return d[key];\n}\n\nexport default function() {\n  var keys = constant([]),\n      order = orderNone,\n      offset = offsetNone,\n      value = stackValue;\n\n  function stack(data) {\n    var kz = keys.apply(this, arguments),\n        i,\n        m = data.length,\n        n = kz.length,\n        sz = new Array(n),\n        oz;\n\n    for (i = 0; i < n; ++i) {\n      for (var ki = kz[i], si = sz[i] = new Array(m), j = 0, sij; j < m; ++j) {\n        si[j] = sij = [0, +value(data[j], ki, j, data)];\n        sij.data = data[j];\n      }\n      si.key = ki;\n    }\n\n    for (i = 0, oz = order(sz); i < n; ++i) {\n      sz[oz[i]].index = i;\n    }\n\n    offset(sz, oz);\n    return sz;\n  }\n\n  stack.keys = function(_) {\n    return arguments.length ? (keys = typeof _ === \"function\" ? _ : constant(slice.call(_)), stack) : keys;\n  };\n\n  stack.value = function(_) {\n    return arguments.length ? (value = typeof _ === \"function\" ? _ : constant(+_), stack) : value;\n  };\n\n  stack.order = function(_) {\n    return arguments.length ? (order = _ == null ? orderNone : typeof _ === \"function\" ? _ : constant(slice.call(_)), stack) : order;\n  };\n\n  stack.offset = function(_) {\n    return arguments.length ? (offset = _ == null ? offsetNone : _, stack) : offset;\n  };\n\n  return stack;\n}\n","import none from \"./none.js\";\n\nexport default function(series) {\n  var peaks = series.map(peak);\n  return none(series).sort(function(a, b) { return peaks[a] - peaks[b]; });\n}\n\nfunction peak(series) {\n  var i = -1, j = 0, n = series.length, vi, vj = -Infinity;\n  while (++i < n) if ((vi = +series[i][1]) > vj) vj = vi, j = i;\n  return j;\n}\n","import none from \"./none.js\";\n\nexport default function(series) {\n  var sums = series.map(sum);\n  return none(series).sort(function(a, b) { return sums[a] - sums[b]; });\n}\n\nexport function sum(series) {\n  var s = 0, i = -1, n = series.length, v;\n  while (++i < n) if (v = +series[i][1]) s += v;\n  return s;\n}\n","import constant from \"./constant.js\";\nimport descending from \"./descending.js\";\nimport identity from \"./identity.js\";\nimport {tau} from \"./math.js\";\n\nexport default function() {\n  var value = identity,\n      sortValues = descending,\n      sort = null,\n      startAngle = constant(0),\n      endAngle = constant(tau),\n      padAngle = constant(0);\n\n  function pie(data) {\n    var i,\n        n = data.length,\n        j,\n        k,\n        sum = 0,\n        index = new Array(n),\n        arcs = new Array(n),\n        a0 = +startAngle.apply(this, arguments),\n        da = Math.min(tau, Math.max(-tau, endAngle.apply(this, arguments) - a0)),\n        a1,\n        p = Math.min(Math.abs(da) / n, padAngle.apply(this, arguments)),\n        pa = p * (da < 0 ? -1 : 1),\n        v;\n\n    for (i = 0; i < n; ++i) {\n      if ((v = arcs[index[i] = i] = +value(data[i], i, data)) > 0) {\n        sum += v;\n      }\n    }\n\n    // Optionally sort the arcs by previously-computed values or by data.\n    if (sortValues != null) index.sort(function(i, j) { return sortValues(arcs[i], arcs[j]); });\n    else if (sort != null) index.sort(function(i, j) { return sort(data[i], data[j]); });\n\n    // Compute the arcs! They are stored in the original data's order.\n    for (i = 0, k = sum ? (da - n * pa) / sum : 0; i < n; ++i, a0 = a1) {\n      j = index[i], v = arcs[j], a1 = a0 + (v > 0 ? v * k : 0) + pa, arcs[j] = {\n        data: data[j],\n        index: i,\n        value: v,\n        startAngle: a0,\n        endAngle: a1,\n        padAngle: p\n      };\n    }\n\n    return arcs;\n  }\n\n  pie.value = function(_) {\n    return arguments.length ? (value = typeof _ === \"function\" ? _ : constant(+_), pie) : value;\n  };\n\n  pie.sortValues = function(_) {\n    return arguments.length ? (sortValues = _, sort = null, pie) : sortValues;\n  };\n\n  pie.sort = function(_) {\n    return arguments.length ? (sort = _, sortValues = null, pie) : sort;\n  };\n\n  pie.startAngle = function(_) {\n    return arguments.length ? (startAngle = typeof _ === \"function\" ? _ : constant(+_), pie) : startAngle;\n  };\n\n  pie.endAngle = function(_) {\n    return arguments.length ? (endAngle = typeof _ === \"function\" ? _ : constant(+_), pie) : endAngle;\n  };\n\n  pie.padAngle = function(_) {\n    return arguments.length ? (padAngle = typeof _ === \"function\" ? _ : constant(+_), pie) : padAngle;\n  };\n\n  return pie;\n}\n","import none from \"./none.js\";\n\nexport default function(series, order) {\n  if (!((n = series.length) > 0)) return;\n  for (var i, n, j = 0, m = series[0].length, y; j < m; ++j) {\n    for (y = i = 0; i < n; ++i) y += series[i][j][1] || 0;\n    if (y) for (i = 0; i < n; ++i) series[i][j][1] /= y;\n  }\n  none(series, order);\n}\n","export default function(series, order) {\n  if (!((n = series.length) > 0)) return;\n  for (var i, j = 0, d, dy, yp, yn, n, m = series[order[0]].length; j < m; ++j) {\n    for (yp = yn = 0, i = 0; i < n; ++i) {\n      if ((dy = (d = series[order[i]][j])[1] - d[0]) > 0) {\n        d[0] = yp, d[1] = yp += dy;\n      } else if (dy < 0) {\n        d[1] = yn, d[0] = yn += dy;\n      } else {\n        d[0] = 0, d[1] = dy;\n      }\n    }\n  }\n}\n","import none from \"./none.js\";\n\nexport default function(series, order) {\n  if (!((n = series.length) > 0)) return;\n  for (var j = 0, s0 = series[order[0]], n, m = s0.length; j < m; ++j) {\n    for (var i = 0, y = 0; i < n; ++i) y += series[i][j][1] || 0;\n    s0[j][1] += s0[j][0] = -y / 2;\n  }\n  none(series, order);\n}\n","import none from \"./none.js\";\n\nexport default function(series, order) {\n  if (!((n = series.length) > 0) || !((m = (s0 = series[order[0]]).length) > 0)) return;\n  for (var y = 0, j = 1, s0, m, n; j < m; ++j) {\n    for (var i = 0, s1 = 0, s2 = 0; i < n; ++i) {\n      var si = series[order[i]],\n          sij0 = si[j][1] || 0,\n          sij1 = si[j - 1][1] || 0,\n          s3 = (sij0 - sij1) / 2;\n      for (var k = 0; k < i; ++k) {\n        var sk = series[order[k]],\n            skj0 = sk[j][1] || 0,\n            skj1 = sk[j - 1][1] || 0;\n        s3 += skj0 - skj1;\n      }\n      s1 += sij0, s2 += s3 * sij0;\n    }\n    s0[j - 1][1] += s0[j - 1][0] = y;\n    if (s1) y -= s2 / s1;\n  }\n  s0[j - 1][1] += s0[j - 1][0] = y;\n  none(series, order);\n}\n","import ascending from \"./ascending.js\";\n\nexport default function(series) {\n  return ascending(series).reverse();\n}\n","import appearance from \"./appearance.js\";\nimport {sum} from \"./ascending.js\";\n\nexport default function(series) {\n  var n = series.length,\n      i,\n      j,\n      sums = series.map(sum),\n      order = appearance(series),\n      top = 0,\n      bottom = 0,\n      tops = [],\n      bottoms = [];\n\n  for (i = 0; i < n; ++i) {\n    j = order[i];\n    if (top < bottom) {\n      top += sums[j];\n      tops.push(j);\n    } else {\n      bottom += sums[j];\n      bottoms.push(j);\n    }\n  }\n\n  return bottoms.reverse().concat(tops);\n}\n","import none from \"./none.js\";\n\nexport default function(series) {\n  return none(series).reverse();\n}\n","import { LitElement } from 'lit-element';\nimport { camelToDashCase } from '../helper/utils.js';\n\nimport * as shapes from 'd3-shape';\n\n// Note(cg): shapes that we want to expose.\nconst shapeNames = ['pie', 'arc', 'stack', 'line', 'lineRadial', 'area'];\nconst shapeType = {\n  padAngle: Number,\n  innerRadius: Number,\n  outerRadius: Number\n};\nconst classes = {};\n\nclass WrapperBase extends LitElement {\n\n  get wrapper() {\n    return this[this.name];\n  }\n\n  constructor() {\n    super();\n    this.__init = true;\n    this[this.name] = shapes[this.name]();\n  }\n\n  update(props) {\n    super.update(props);\n    this.log && console.info(`d3-shape ${this.name} update`, props);\n    this.updateWrapper(props);\n  }\n\n  updateWrapper(props) {\n    let shallNotify = this.__init;\n    props.forEach((value, key) => {\n      if ((this[key] !== undefined) && key !== this.name) {\n        shallNotify = true;\n        this[this.name][key](this[key]);\n      }\n    });\n    if (shallNotify) {\n      this.dispatchEvent(new CustomEvent(`shape-changed`, { detail: { value: this[this.name], name: this.name }, bubbles: true, composed: true }));\n      delete this.__init;\n    }\n  }\n}\n\nshapeNames.forEach(name => {\n  const instance = shapes[name]();\n  const keys = Object.keys(instance);\n  const props = {\n    // [`${name}`]: {\n    //   type: Function\n    // }\n  };\n\n  keys.forEach(key => {\n    props[key] = {\n      type: shapeType[key] || Function,\n      attribute: camelToDashCase(key)\n    };\n  });\n\n  classes[name] = class extends WrapperBase {\n\n    get name() {\n      return name;\n    }\n\n    static get properties() {\n      return props;\n    }\n\n  }\n\n})\n// console.info(classes);\nexport const Pie = classes.pie;\nexport const Arc = classes.arc;\nexport const Area = classes.area;\nexport const Stack = classes.stack;\nexport const Line = classes.line;\nexport const LineRadial = classes.lineRadial;\n","\nimport { html, css } from 'lit-element';\nimport { default as MultiDrawable } from './multi-drawable.js';\nimport { default as DrawableSerie } from './mixin/drawable-serie-mixin.js';\nimport { default as Shaper } from './mixin/drawable-shaper-mixin.js';\n\nimport { LineRadial } from '../d3-wrapper/d3-shape.js';\n\n // TODO(cg): Make this as a sublcass ot MultiDrawableLinePath.\nclass MultiDrawableRadar extends\n  DrawableSerie(\n    Shaper(\n      MultiDrawable)) {\n\n    // Note(cg): style to add to svghost while dispatching SVG.\n    static get hostStyles() {\n      return css`\n        \n        #drawable.line .shape {\n          fill: var(--drawable-line-fill);\n          stroke: var(--drawable-line-stroke);\n        }\n      `;\n    }\n\n  render() {\n    return html`\n  \t<d3-shape-line-radial \n      @shape-changed=\"${this.onSetShaper}\" \n      .angle=\"${this.angle}\" \n      .radius=\"${this.radius}\" \n      .defined=\"${this.defined}\"\n      .curve=\"${this.curve}\"\n    ></d3-shape-line-radial>\n    <svg>\n      <g id=\"drawable\" \n        slot-svg=\"slot-chart\" \n        part=\"drawable-line-radial\"  \n        class=\"drawable line-radial\" \n        transform=\"translate(${this.width / 2 || 0}, ${this.height / 2 || 0})\"></g>\n    </svg>\n`;\n  }\n\n  static get properties() {\n    return {\n\n       ...super.properties,\n\n      ...LineRadial.properties,\n\n      /*\n       * `hideCircles` \n       */\n      hideCircles: {\n        type: String,\n        value: false,\n        attribute: 'hide-circles'\n      },\n\n    };\n  }\n\n  get shapeClass() {\n    return 'line-radial';\n  }\n\n  get shapeName() {\n    return 'g';\n  }\n\n  drawSerieElement(chart, data) {\n\n    chart = chart\n      .attr('class', `${this.shapeClass} selectable`)\n      .attr('title', d => d.label)\n      .attr('key', d => d.key)\n      .attr('tabindex', 0)\n      .attr('stroke', d => this.colorScale(d.key))\n      .attr('stroke-width', 2);\n      \n    // TODO(cg): improve handling of transition \n    // chart.append is when we don't have a transition.\n    if (chart.append) {\n      chart.append('path')\n        .attr('fill', d => this.colorScale(d.key))\n        .attr('fill-opacity', 0.1)\n        .attr('d', d => {\n          return this.shaper(d.data);\n        });\n    } else {\n      chart.selectAll('path')\n        .attr('fill', d => this.colorScale(d.key))\n        .attr('fill-opacity', 0.1)\n        .attr('d', d => {\n          return this.shaper(d.data);\n        });\n    } \n\n    const {angle, radius } = this;\n    if (!this.hideCircles) {\n      const circles = this.drawSerieGroup(data, 'circle', `${this.shapeClass}-circle`, chart, this.transition);\n      circles\n        .attr('cx', function(d, i) {\n          return radius(d) * Math.cos(angle(d) - Math.PI / 2);\n        })\n        .attr('cy', function(d, i) {\n          return radius(d) * Math.sin(angle(d) - Math.PI / 2);\n        })\n        .attr('fill', '#fff')\n        .attr('r', 4)\n        .attr('index', (d, i) => i);\n    }\n\n    return chart;\n  }\n}\n\nexport default MultiDrawableRadar;\n","import { LitElement } from 'lit-element';\n// import { default as Registerable } from '../helper/multi-registerable-mixin.js';\nimport { DoNotSetUndefinedValue } from '@preignition/preignition-mixin';\n\n/**\n * ## MultiAccessor\n *\n * `<multi-accessor>` creates an accessor function from a String path. This element is mostly for internal use.\n *\n * ### Eample\n * ```html\n *   <multi-accessor path=\"+count\"></multi-accessor>\n * ```\n *\n *  @element multi-accessor\n *  @fires accessor-changed - Event fired when the accessor function changes\n *  \n **/\nclass MultiAccessor extends\nDoNotSetUndefinedValue(LitElement) {\n\n  static get properties() {\n    return {\n      /**\n       * the accessor function\n       * example function : `d => {return +d.count}`\n       */\n      accessor: {\n        type: Function\n      },\n\n      /**\n       * path from which tha accessor function is built\n       * For instance `+count` will create `d => {return +d.count}` function.\n       */\n      path: {\n        type: String,\n        reflect: true\n      },\n\n      /**\n       * when set, will generate an accessor function that includes a subpath\n       * \n       * For example `<multi-accessor path=\"+count\" sub-path=\"sub\"></multi-accessor>`\n       * will create `d => {return +d.count.sub}`\n       * @type {Object}\n       */\n      subPath: {\n        type: Boolean,\n        attribute: 'sub-path'\n      }\n    };\n  }\n\n  connectedCallback() {\n    super.connectedCallback();\n    // Note(cg): we need to make sure accessor is initiated soon enough.\n    // Otherwise call to series.accessor fail in multi-data.\n    // we cannot process this in constructor because  attribute and values have\n    // not yet been assigned.\n    if (this.path) {\n      this._observePath(this.path, this.subPath);\n    }\n  }\n\n  update(props) {\n    super.update(props);\n    if (props.has('path') || props.has('subPath')) {\n      this._observePath(this.path, this.subPath);\n    }\n  }\n\n  _observePath(path, subPath) {\n    if (path && (!this.accessor || (this.accessor && this.accessor._signature !== `${path}${subPath}`))) {\n      let isAdd = path.substring(0, 1) === '+';\n      let p = isAdd ? path.substring(1) : path;\n      p = p.split('.').join(\"']['\");\n      let fn;\n      if (subPath) {\n        fn = new Function('d', 'k', isAdd ? `return +d['${p}'][k]` : `return d['${p}'][k]`);\n      } else {\n        fn = new Function('d', isAdd ? `return +d['${p}']` : `return d['${p}']`);\n      }\n      this.accessor = fn;\n      this.accessor._signature = `${path}${subPath}`;\n      this.dispatchEvent(new CustomEvent('accessor-changed', { detail: { value: this.accessor }, bubbles: true, composed: true }));\n\n    }\n  }\n}\n\nexport default MultiAccessor;\n","\nimport '../helper/multi-accessor.js';\nimport { select, selectAll } from 'd3-selection';\nimport { scaleOrdinal } from 'd3-scale';\nimport { interpolate } from 'd3-interpolate';\nimport { html } from 'lit-element';\nimport { default as MultiDrawable } from './multi-drawable.js';\nimport { default as Shaper } from './mixin/drawable-shaper-mixin.js';\nimport  { Pie, Arc }  from '../d3-wrapper/d3-shape.js';\n\n/**\n * ## MultiDrawablePie\n *\n * `<multi-drawable-pie>` draws a pie\n *\n * @memberof MultiChart\n * @element multi-drawable-chart\n * @customElement\n * @polymer\n * @appliesMixin MultiChart.mixin.D3PieProperty\n * @demo index.html#multi-pie-demo\n **/\nclass MultiDrawablePie extends \n  Shaper(\n    MultiDrawable) {\n  render() {\n    return html`\n     ${this.valuePath ? html`\n        <multi-accessor \n          .path=\"${this.valuePath}\"\n          @accessor-changed=\"${e => this.value = e.detail.value}\" \n        ></multi-accessor>` : ''}\n         <d3-shape-pie \n          .value=\"${this.value}\" \n          .padAngle=\"${this.padAngle}\" \n          .sort=\"${this.sort}\" \n          .sortValues=\"${this.sortValues}\"\n          @shape-changed=\"${this.onSetShaper}\" \n         ></d3-shape-pie>\n         <d3-shape-arc \n          .innerRadius=\"${this.getPieWidth() || this.innerRadius}\" \n          .outerRadius=\"${this.getOuterRadius() || this.outerRadius}\" \n          .cornerRadius=\"${this.cornerRadius}\" \n          @shape-changed=\"${e => this.arc = e.detail.value}\" \n        ></d3-shape-arc>\n        <svg>\n          <g id=\"drawable\" \n            slot-svg=\"slot-chart\" \n            class=\"drawable pie\" \n            transform=\"translate(${this.width / 2 || 0}, ${this.height /2 || 0})\"></g>\n        </svg>\n    `;\n  }\n\n  static get properties() {\n    return {\n\n      ...super.properties,\n\n      ...Pie.properties,\n\n      ...Arc.properties,\n\n      /**\n       * `pieWidth` a way to indicate the width of the radius (either in % or absolute value).\n       * If set, inner radius will be inferred.\n       */\n      pieWidth: {\n        type: String\n      },\n\n      arc: {\n        type: Function,\n      },\n\n      /*\n       * `valuePath` path for creating value accessor\n       */\n       valuePath: {\n         type: String,\n         attribute: 'value-path'\n        },\n    };\n  }\n\n  getOuterRadius() {\n    if (typeof this.outerRadius !== 'function' && this.minSize) {\n      return this.minSize / 2;\n    }\n  }\n\n  getPieWidth() {\n    if (this.pieWidth) {\n        const outerRadius = this.getOuterRadius();\n        return (this.pieWidth + '').endsWith('%') ? outerRadius * (1 - parseFloat(this.pieWidth) / 100) : outerRadius - parseFloat(this.pieWidth);\n    }\n  }\n\n  get shapeClass() {\n    return 'pie';\n  }\n  get shapeName() {\n    return 'path';\n  }\n\n  draw() {\n   const data = this.drawableData;\n    if (!this.width || !this.height || !data) {\n      return;\n    }\n\n    let chart = select(this.targetElement).selectAll(`${this.shapeName}.${this.shapeClass}`);\n\n    if (this.shallTransition) {\n      chart.each(function(d) {\n        this._current = Object.assign({}, d);\n      });\n    }\n\n    // var arcs = this.pie(data);\n    const arcs = this.shaper(data); // this.$.shaper.shapedData;\n    const arc = this.arc;\n    const colorScale = this.colorScale;\n\n    chart = chart.data(arcs);\n\n    chart.exit().remove();\n\n    chart = chart.enter().append(this.shapeName)\n      .attr('class', `${this.shapeClass} selectable shape`)\n      .merge(chart);\n\n    if (this.shallTransition) {\n      //as in https://bl.ocks.org/mbostock/5100636\n      function arcTween(a) {\n        var i = interpolate(this._current, a);\n        this._current = i(0);\n        return function(t) {\n          return arc(i(t));\n        };\n      }\n\n      chart = this.applyTransition(chart, this.transition);\n\n      chart\n        .attrTween('d', arcTween);\n\n    } else {\n      chart\n        .attr('d', arc);\n    }\n\n    chart.attr('key', function(d) {\n        return d.data.key;\n      })\n      .attr('fill', function(d) {\n        return colorScale(d.data.key);\n      });\n\n    return chart;\n  }\n}\n\nexport default MultiDrawablePie;\n","\nimport { html, css } from 'lit-element';\nimport { default as MultiDrawable } from './multi-drawable.js';\nimport { default as DrawableSerie } from './mixin/drawable-serie-mixin.js';\nimport { default as Shaper } from './mixin/drawable-shaper-mixin.js';\n\nimport { Line } from '../d3-wrapper/d3-shape.js';\n\n // TODO(cg): Make this as a sublcass ot MultiDrawableLinePath.\nclass MultiDrawableLine extends\n  DrawableSerie(\n    Shaper(\n      MultiDrawable)) {\n\n    // Note(cg): style to add to svghost while dispatching SVG.\n    static get hostStyles() {\n      return css`\n        \n        #drawable.line .shape {\n          fill: var(--drawable-line-fill);\n          stroke: var(--drawable-line-stroke);\n        }\n      `;\n    } ;\n\n  render() {\n    return html`\n  \t<d3-shape-line \n      @shape-changed=\"${this.onSetShaper}\" \n      .y=\"${this.y}\" \n      .x=\"${this.x}\" \n      .defined=\"${this.defined}\"\n    ></d3-shape-line>\n    <svg>\n      <g id=\"drawable\" slot-svg=\"slot-chart\" part=\"drawable-line\"  class=\"drawable line\"></g>\n    </svg>\n`;\n  }\n\n  static get properties() {\n    return {\n\n       ...super.properties,\n\n      ...Line.properties,\n\n    };\n  }\n\n  get shapeClass() {\n    return 'line';\n  }\n\n  drawSerieElement(chart) {\n    return chart.attr('stroke', d => this.colorScale(d.key))\n      .attr('class', `${this.shapeClass} selectable`)\n      .attr('title', d => d.label)\n      .attr('key', d => d.key)\n      .attr('d', d => this.shaper(d.data));\n  }\n}\n\nexport default MultiDrawableLine;\n","import { html } from 'lit-element';\nimport { select} from 'd3-selection';\nimport { default as MultiDrawable } from './multi-drawable.js';\nimport { default as Shaper } from './mixin/drawable-shaper-mixin.js';\nimport  { Line }  from '../d3-wrapper/d3-shape.js';\n\n/**\n * ## MultiDrawableLinePath\n *\n * `<multi-drawable-line-path>` draws a line in a single svg path element\n *\n * @memberof MultiChart\n * @customElement\n * @polymer\n * @demo\n **/\nclass MultiDrawableLinePath extends  \n  Shaper(\n    MultiDrawable) {\n  render() {\n    return html`\n    <d3-shape-line \n      @shape-changed=\"${this.onSetShaper}\" \n      .y=\"${this.y}\" \n      .x=\"${this.x}\" \n      .defined=\"${this.defined}\"\n    ></d3-shape-line>\n    <svg>\n      <path id=\"drawable\" slot-svg=\"slot-chart\" class=\"drawable selectable line\"> </path>\n    </svg>\n`;\n  }\n\n  static get is() { return 'multi-drawable-line-path'; }\n\n  static get properties() {\n\n    return {\n      ...super.properties, \n\n      // ...coordinateProperties,\n\n      ...Line.properties\n\n    };\n  }\n\n  draw() {\n    const data = this.drawableData;\n    if (!this.width || !this.height || !data) {\n      return;\n    }\n\n    let chart = select(this.targetElement).datum(data);\n\n    if (this.shallTransition) {\n      chart = this.applyTransition(chart, this.transition);\n    }\n\n    chart.attr('stroke', this.colorScale(this.key))\n      .attr('key', this.key)\n      .attr('d', this.shaper);\n\n   return chart;\n\n  }\n}\n\nexport default MultiDrawableLinePath;\n","import { html, css } from 'lit-element';\nimport { default as MultiDrawable } from './multi-drawable.js';\nimport { default as DrawableSerie } from './mixin/drawable-serie-mixin.js';\nimport  { Line }  from '../d3-wrapper/d3-shape.js';\n\n/**\n * ## MultiDrawableBubble\n *\n * `<multi-drawable-bubble>` draw bubbles from serie data\n *     \n * ### Styling\n * \n * The following custom properties and mixins are available for styling:\n * \n * Custom property | Description | Default\n * ----------------|-------------|----------\n * `--drawable-bubble` | mixin applied to drawable | `{}`\n * `--drawable-bubble-fill` | fill color applied to bubble | `none`\n * `--drawable-bubble-strole` | stroke color applied to bubble | `none`\n *\n * @memberof MultiChart\n * @customElement\n * @polymer\n * @appliesMixin MultiChart.mixin.MultiDrawableSerie\n * @appliesMixin MultiChart.mixin.D3ShapeCoordinate\n * @demo\n **/\nclass MultiDrawableBubble extends\n  DrawableSerie(\n    MultiDrawable) {\n\n  static get hostStyles() {\n    return css `\n      #drawable.bubble .shape {\n        fill: var(--drawable-bubble-fill);\n        stroke: var(--drawable-bubble-stroke);\n      }\n      \n    `;\n  }\n  render() {\n    return html `\n    <svg>\n      <g id=\"drawable\" slot-svg=\"slot-chart\" part=\"drawable-bubble\"  class=\"drawable bubble\"></g>\n    </svg>\n`;\n  }\n\n  \n  static get properties() {\n    return {\n\n      ...super.properties,\n\n      \n      ...Line.properties,\n\n      /* \n       * `z` calculating radius for all data point radius = z(d,i)\n       */\n      z: {\n        type: Function,\n      }\n\n    };\n  }\n\n  get shapeClass() {\n    return 'bubble';\n  }\n\n  get shapeName() {\n    return 'g';\n  }\n\n  drawSerieElement(chart, data) {\n    chart\n      .attr('fill', d => this.colorScale(d.key))\n      .attr('class', `${this.shapeClass} selectable`)\n      .attr('key', d => d.key);\n\n    chart = this.drawSerieGroup(data, 'circle', this.shapeClass, chart, this.transition);\n\n    return chart.attr('cx', this.x || 0)\n      .attr('cy', this.y || 0)\n      .attr('r', this.z || 0)\n      .attr('index', (d, i) => i);\n  }\n}\n\n\nexport default MultiDrawableBubble;","import { html, css } from 'lit-element';\nimport { default as MultiDrawable } from './multi-drawable.js';\nimport { default as DrawableSerie } from './mixin/drawable-serie-mixin.js';\nimport { default as Shaper } from './mixin/drawable-shaper-mixin.js';\nimport { Line, Stack } from '../d3-wrapper/d3-shape.js';\nimport { scaleBand } from 'd3-scale';\nimport { transition as Transition} from 'd3-transition';\n\n/** ## MultiDrawableBar\n *\n * `<multi-drawable-bar>` draws bar as in https://github.com/d3/d3-shape#bar\n * \n * ### Styling\n * \n * The following custom properties and mixins are available for styling:\n * \n * Custom property | Description | Default\n * ----------------|-------------|----------\n * `--drawable-bar` | mixin applied to drawable | `{}`\n * `--drawable-bar-fill` | fill color applied to bar | `none`\n * `--drawable-bar-strole` | stroke color applied to bar | `none`\n *\n * @memberof MultiChart\n * @customElement\n * @polymer\n * @appliesMixin MultiChart.mixin.MultiDrawableSerie\n * @appliesMixin MultiChart.mixin.D3ShapeCoordinate\n * @appliesMixin MultiChart.mixin.D3StackProperty\n * @demo index.html#multi-bar-demo\n **/\n// class MultiDrawableBar extends\n// MultiDrawableSerie(\n//   D3StackProperty(\n//     D3ShapeCoordinate(\n//       MultiDrawable))) {  \n//       \nclass MultiDrawableBar extends\nDrawableSerie(\n  Shaper(\n    MultiDrawable)) {\n\n  /*\n   * `dataProcessType` the type of data processing. \n   * @override multi-drawable\n   */\n  get dataProcessType() {\n    return 'stack';\n  }\n\n  static get hostStyles() {\n    return css `\n      \n      #drawable.bar .shape {\n        fill: var(--drawable-bar-fill);\n        stroke: var(--drawable-bar-stroke);\n      }\n      \n    `;\n  }\n  render() {\n    return html `\n    ${this.valuePath ? html`\n      <multi-accessor \n        .path=\"${this.valuePath}\"\n        @accessor-changed=\"${e => this.value = e.detail.value}\" \n      ></multi-accessor>` : '' }\n     <d3-shape-stack \n      .value=\"${this.value}\" \n      .keys=\"${this.keys}\" \n      .order=\"${this.order}\" \n      .offset=\"${this.offset}\" \n      @shape-changed=\"${this.onSetShaper}\" \n     ></d3-shape-stack>\n    <svg>\n      <g id=\"drawable\" slot-svg=\"slot-chart\" part=\"drawable-bar\" class=\"drawable bar\"></g>\n    </svg>\n    `;\n  }\n\n  static get properties() {\n    return {\n\n      ...super.properties,\n\n      ...Stack.properties,\n\n      /*\n       * `stacked` if true, draw a stack chart, otherwise, default bar chart\n       */\n      stacked: {\n        type: Boolean\n      },\n\n      /*\n       * `serieName` used for resetting value domain.\n       */\n      serieName: {\n        type: String,\n        value: 'default'\n      },\n\n      xScale: { type: Function },\n      yScale: { type: Function },\n\n      /*\n       * `valuePath` path for creating value accessor\n       */\n       valuePath: {\n         type: String,\n         attribute: 'value-path'\n         },\n    };\n  }\n\n  get shapeClass() {\n    return 'bar';\n  }\n\n\n  get shapeName() {\n    return 'g';\n  }\n\n  drawSerieElement(chart, data) {\n\n    chart\n      .attr('fill', d => this.colorScale(d.key))\n      .attr('class', `${this.shapeClass} ${this.selectSerie ? 'selectable' : ''}`)\n      .attr('key', d => d.key);\n\n\n    chart = this.drawSerieGroup(data, 'rect', this.shapeClass, chart, this.transition);\n\n    // Note(cg): we add selectable to shape only if selectSerie is not true.\n    if (!this.selectSerie) {\n      chart instanceof Transition\n      ? chart.selection().classed('selectable', true)\n      : chart.classed('selectable', true);\n    }\n\n    let bandwidth = this.xScale.bandwidth;\n    let align = 0;\n    const xScale = this.xScale;\n    // we might have an x-scale that does not have a bandwidth, e.g. when we have date on x-axis and use a timeScale\n    if (!bandwidth) {\n      bandwidth = scaleBand().domain(data[0].map((d, i) => this.xScale(d[3] || i))).range(this.xScale.range()).padding(0.2).bandwidth;\n      align = bandwidth() / 2;\n    }\n\n    if (this.stacked) {\n      chart = chart\n        .attr('y', d => this.yScale(d[1]) || 0)\n        .attr('height', d => this.yScale(d[0]) - this.yScale(d[1]) || 0);\n\n      return chart\n        .attr('x', (d, i) => {\n          return xScale(d[3] || i) - align;\n        })\n        .attr('width', bandwidth())\n        .attr('key', d => d[3]);\n      // .attr('index', (d,i) => i);\n    }\n\n    const n = data.length;\n    chart = chart\n      .attr('x', (d, i) => xScale(d[3] || i) + bandwidth() / n * d[2] - align)\n      .attr('width', bandwidth() / n)\n      .attr('key', d => d[3]);\n\n    return chart\n      .attr('y', d => this.yScale(d[1] - d[0]) || 0)\n      .attr('height', d => this.yScale(0) - this.yScale(d[1] - d[0]) || 0)\n      .attr('index', (d, i) => i);\n\n  }\n}\n\nexport default MultiDrawableBar;\n","export const identity= (d) => {return d;}\nexport const index= (d, i) => {return i;}\nexport const key= (d) => {return d.key;}\nexport const value= (d) => {return d.value;}\nexport const data= (d) => {return d.data;}\n","  import { timeOut } from '@polymer/polymer/lib/utils/async.js';\n  import { Debouncer } from '@polymer/polymer/lib/utils/debounce.js';\n  import * as accessor from '../../helper/accessor.js';\n  import { extendProperty } from '../../helper/extend-property-mixin.js';\n  import { extent, range } from 'd3-array';\n\n\n  /**\n   * ##  MultiData\n   *\n   * Mixin for reacting to dataChange. Used by multi-container-layer and multi-container-svg\n   * \n   */\n  const MultiData = superClass => {\n\n    return class extends superClass {\n\n      static get properties() {\n\n        return {\n\n          ...super.properties,\n\n          /*\n           * the data to display\n           */\n          data: {\n            type: Array\n          },\n\n          /*\n           * `transition` to apply while drawing\n           */\n          transition: {\n            type: Function\n          }\n        };\n      }\n\n      constructor() {\n        super();\n\n        this._serieGroup = {}; // Note(cg): we will map the serie group by name.\n\n        this.addEventListener('multi-serie-register', this._onMultiSerieRegister);\n        this.addEventListener('multi-data-group-register', this._onMultiSerieGroupRegister);\n        this.addEventListener('shape-changed', this._onShapeChanged);\n      }\n\n      _onShapeChanged(e) {\n        const serieGroup = this._serieGroup[e.detail.group];\n        if (serieGroup) {\n          serieGroup.shaper = e.detail.value;\n        }\n      }\n\n      _onMultiSerieGroupRegister(e) {\n        e.stopPropagation();\n        const serieGroup = e.composedPath()[0];\n        const group = serieGroup.group;\n\n        if (!group) {\n          throw new Error(`serieGroup must have a group`);\n        }\n        if (this._serieGroup[group]) {\n          throw new Error(`serieGroup with group name ${group } has already been registered. Choose another group name.`);\n        }\n\n        if (!this[`_series.${group}`]) {\n          this[`_series.${group}`] = [];\n        }\n        if (!this[`_registeredItems.${group}`]) {\n          this[`_registeredItems.${group}`] = [];\n        }\n        serieGroup.series = this[`_series.${group}`];\n        serieGroup._registeredItems = this[`_registeredItems.${group}`];\n        this._serieGroup[group] = serieGroup;\n\n      }\n\n      _onMultiSerieRegister(e) {\n        e.stopPropagation();\n        const group = e.detail || 'default';\n        this._registerItem(`_series.${group}`, e.composedPath()[0]);\n      }\n\n      /**\n       * `register-item` event callback. Register all item, in contrast\n       * with the original function.\n       * \n       * @override MultiRegisterMixin because of multi-data-group\n       * @param  {Event} e\n       * @return {[type]}   [description]\n       */\n      _onMultiRegister(e) {\n        // Note(cg): only react if groupName is not set or is the same.\n        const group = e.detail || 'default';\n        // Note(cg): make sure we are not self-registering\n        // (this can be the case for elements that are registerable and also register like multi-container-layer).\n        const target = e.composedPath()[0];\n        if (target !== this) {\n          e.stopPropagation();\n          this._registerItem(`_registeredItems.${group}`, target);\n          if (this._serieGroup[group]) {\n            this._serieGroup[group].onRegister(target);\n          }\n        }\n      }\n\n      // Note(cg): loop through _serieGroup.\n      get registeredItems() {\n        return (Object.keys(this._serieGroup || {}).map(k => this._serieGroup[k]._registeredItems)).flat();\n      }\n\n      unregister(registered) {\n        const group = registered.group;\n\n        if (group) {\n          if (this[`_series.${group}`]) {\n            this[`_series.${group}`] = this[`_series.${group}`].filter((s => s !== registered));\n          }\n          if (this[`_registeredItems.${group}`]) {\n            this[`_registeredItems.${group}`] = this[`_registeredItems.${group}`].filter((s => s !== registered));\n          }\n        }\n        super.unregister && super.unregister(registered);\n      }\n\n      /*\n       * `dataChanged` might be called by parents to reset the entied chart.\n       * For instance, this is called by multi-verse, once a new filter is applies\n       * and data to display have changed.\n       */\n      dataChanged() {\n        this._processDataChanged();\n      }\n\n      _processDataChanged() {\n        Object.keys(this._serieGroup || {}).forEach(k => {\n          this._serieGroup[k]._processDataChanged();\n        });\n      }\n    };\n  };\n\n  /*\n   * @mixinFunction\n   */\n  export default MultiData;\n","export default {\n  \n  /* \n   * `enableZoom` set true to enable zoom behaviors\n   */\n  enableZoom: {\n    type: Boolean,\n    attribute: 'enable-zoom'\n  },\n\n  /* \n   * [`extent`] (https://github.com/d3/d3-zoom#zoom_extent) sets the viewport extent to the specified array of points [[x0, y0], [x1, y1]]\n   */\n  extent: {\n    type: Array\n  },\n\n  /* \n   * [`scaleExtent`](https://github.com/d3/d3-zoom#zoom_scaleExtent) sets the scale extent to the specified array of numbers [k0, k1] where k0 is the minimum allowed scale factor and k1 is the maximum allowed scale factor, and returns this zoom behavior.\n   */\n  scaleExtent: {\n    type: Array,\n    attribute: 'scale-extent'\n  }\n};","export default function(x) {\n  return function() {\n    return x;\n  };\n}\n","export default function ZoomEvent(target, type, transform) {\n  this.target = target;\n  this.type = type;\n  this.transform = transform;\n}\n","export function Transform(k, x, y) {\n  this.k = k;\n  this.x = x;\n  this.y = y;\n}\n\nTransform.prototype = {\n  constructor: Transform,\n  scale: function(k) {\n    return k === 1 ? this : new Transform(this.k * k, this.x, this.y);\n  },\n  translate: function(x, y) {\n    return x === 0 & y === 0 ? this : new Transform(this.k, this.x + this.k * x, this.y + this.k * y);\n  },\n  apply: function(point) {\n    return [point[0] * this.k + this.x, point[1] * this.k + this.y];\n  },\n  applyX: function(x) {\n    return x * this.k + this.x;\n  },\n  applyY: function(y) {\n    return y * this.k + this.y;\n  },\n  invert: function(location) {\n    return [(location[0] - this.x) / this.k, (location[1] - this.y) / this.k];\n  },\n  invertX: function(x) {\n    return (x - this.x) / this.k;\n  },\n  invertY: function(y) {\n    return (y - this.y) / this.k;\n  },\n  rescaleX: function(x) {\n    return x.copy().domain(x.range().map(this.invertX, this).map(x.invert, x));\n  },\n  rescaleY: function(y) {\n    return y.copy().domain(y.range().map(this.invertY, this).map(y.invert, y));\n  },\n  toString: function() {\n    return \"translate(\" + this.x + \",\" + this.y + \") scale(\" + this.k + \")\";\n  }\n};\n\nexport var identity = new Transform(1, 0, 0);\n\ntransform.prototype = Transform.prototype;\n\nexport default function transform(node) {\n  while (!node.__zoom) if (!(node = node.parentNode)) return identity;\n  return node.__zoom;\n}\n","import {event} from \"d3-selection\";\n\nexport function nopropagation() {\n  event.stopImmediatePropagation();\n}\n\nexport default function() {\n  event.preventDefault();\n  event.stopImmediatePropagation();\n}\n","import {dispatch} from \"d3-dispatch\";\nimport {dragDisable, dragEnable} from \"d3-drag\";\nimport {interpolateZoom} from \"d3-interpolate\";\nimport {event, customEvent, select, mouse, touch} from \"d3-selection\";\nimport {interrupt} from \"d3-transition\";\nimport constant from \"./constant.js\";\nimport ZoomEvent from \"./event.js\";\nimport {Transform, identity} from \"./transform.js\";\nimport noevent, {nopropagation} from \"./noevent.js\";\n\n// Ignore right-click, since that should open the context menu.\nfunction defaultFilter() {\n  return !event.ctrlKey && !event.button;\n}\n\nfunction defaultExtent() {\n  var e = this;\n  if (e instanceof SVGElement) {\n    e = e.ownerSVGElement || e;\n    if (e.hasAttribute(\"viewBox\")) {\n      e = e.viewBox.baseVal;\n      return [[e.x, e.y], [e.x + e.width, e.y + e.height]];\n    }\n    return [[0, 0], [e.width.baseVal.value, e.height.baseVal.value]];\n  }\n  return [[0, 0], [e.clientWidth, e.clientHeight]];\n}\n\nfunction defaultTransform() {\n  return this.__zoom || identity;\n}\n\nfunction defaultWheelDelta() {\n  return -event.deltaY * (event.deltaMode === 1 ? 0.05 : event.deltaMode ? 1 : 0.002);\n}\n\nfunction defaultTouchable() {\n  return navigator.maxTouchPoints || (\"ontouchstart\" in this);\n}\n\nfunction defaultConstrain(transform, extent, translateExtent) {\n  var dx0 = transform.invertX(extent[0][0]) - translateExtent[0][0],\n      dx1 = transform.invertX(extent[1][0]) - translateExtent[1][0],\n      dy0 = transform.invertY(extent[0][1]) - translateExtent[0][1],\n      dy1 = transform.invertY(extent[1][1]) - translateExtent[1][1];\n  return transform.translate(\n    dx1 > dx0 ? (dx0 + dx1) / 2 : Math.min(0, dx0) || Math.max(0, dx1),\n    dy1 > dy0 ? (dy0 + dy1) / 2 : Math.min(0, dy0) || Math.max(0, dy1)\n  );\n}\n\nexport default function() {\n  var filter = defaultFilter,\n      extent = defaultExtent,\n      constrain = defaultConstrain,\n      wheelDelta = defaultWheelDelta,\n      touchable = defaultTouchable,\n      scaleExtent = [0, Infinity],\n      translateExtent = [[-Infinity, -Infinity], [Infinity, Infinity]],\n      duration = 250,\n      interpolate = interpolateZoom,\n      listeners = dispatch(\"start\", \"zoom\", \"end\"),\n      touchstarting,\n      touchending,\n      touchDelay = 500,\n      wheelDelay = 150,\n      clickDistance2 = 0;\n\n  function zoom(selection) {\n    selection\n        .property(\"__zoom\", defaultTransform)\n        .on(\"wheel.zoom\", wheeled)\n        .on(\"mousedown.zoom\", mousedowned)\n        .on(\"dblclick.zoom\", dblclicked)\n      .filter(touchable)\n        .on(\"touchstart.zoom\", touchstarted)\n        .on(\"touchmove.zoom\", touchmoved)\n        .on(\"touchend.zoom touchcancel.zoom\", touchended)\n        .style(\"touch-action\", \"none\")\n        .style(\"-webkit-tap-highlight-color\", \"rgba(0,0,0,0)\");\n  }\n\n  zoom.transform = function(collection, transform, point) {\n    var selection = collection.selection ? collection.selection() : collection;\n    selection.property(\"__zoom\", defaultTransform);\n    if (collection !== selection) {\n      schedule(collection, transform, point);\n    } else {\n      selection.interrupt().each(function() {\n        gesture(this, arguments)\n            .start()\n            .zoom(null, typeof transform === \"function\" ? transform.apply(this, arguments) : transform)\n            .end();\n      });\n    }\n  };\n\n  zoom.scaleBy = function(selection, k, p) {\n    zoom.scaleTo(selection, function() {\n      var k0 = this.__zoom.k,\n          k1 = typeof k === \"function\" ? k.apply(this, arguments) : k;\n      return k0 * k1;\n    }, p);\n  };\n\n  zoom.scaleTo = function(selection, k, p) {\n    zoom.transform(selection, function() {\n      var e = extent.apply(this, arguments),\n          t0 = this.__zoom,\n          p0 = p == null ? centroid(e) : typeof p === \"function\" ? p.apply(this, arguments) : p,\n          p1 = t0.invert(p0),\n          k1 = typeof k === \"function\" ? k.apply(this, arguments) : k;\n      return constrain(translate(scale(t0, k1), p0, p1), e, translateExtent);\n    }, p);\n  };\n\n  zoom.translateBy = function(selection, x, y) {\n    zoom.transform(selection, function() {\n      return constrain(this.__zoom.translate(\n        typeof x === \"function\" ? x.apply(this, arguments) : x,\n        typeof y === \"function\" ? y.apply(this, arguments) : y\n      ), extent.apply(this, arguments), translateExtent);\n    });\n  };\n\n  zoom.translateTo = function(selection, x, y, p) {\n    zoom.transform(selection, function() {\n      var e = extent.apply(this, arguments),\n          t = this.__zoom,\n          p0 = p == null ? centroid(e) : typeof p === \"function\" ? p.apply(this, arguments) : p;\n      return constrain(identity.translate(p0[0], p0[1]).scale(t.k).translate(\n        typeof x === \"function\" ? -x.apply(this, arguments) : -x,\n        typeof y === \"function\" ? -y.apply(this, arguments) : -y\n      ), e, translateExtent);\n    }, p);\n  };\n\n  function scale(transform, k) {\n    k = Math.max(scaleExtent[0], Math.min(scaleExtent[1], k));\n    return k === transform.k ? transform : new Transform(k, transform.x, transform.y);\n  }\n\n  function translate(transform, p0, p1) {\n    var x = p0[0] - p1[0] * transform.k, y = p0[1] - p1[1] * transform.k;\n    return x === transform.x && y === transform.y ? transform : new Transform(transform.k, x, y);\n  }\n\n  function centroid(extent) {\n    return [(+extent[0][0] + +extent[1][0]) / 2, (+extent[0][1] + +extent[1][1]) / 2];\n  }\n\n  function schedule(transition, transform, point) {\n    transition\n        .on(\"start.zoom\", function() { gesture(this, arguments).start(); })\n        .on(\"interrupt.zoom end.zoom\", function() { gesture(this, arguments).end(); })\n        .tween(\"zoom\", function() {\n          var that = this,\n              args = arguments,\n              g = gesture(that, args),\n              e = extent.apply(that, args),\n              p = point == null ? centroid(e) : typeof point === \"function\" ? point.apply(that, args) : point,\n              w = Math.max(e[1][0] - e[0][0], e[1][1] - e[0][1]),\n              a = that.__zoom,\n              b = typeof transform === \"function\" ? transform.apply(that, args) : transform,\n              i = interpolate(a.invert(p).concat(w / a.k), b.invert(p).concat(w / b.k));\n          return function(t) {\n            if (t === 1) t = b; // Avoid rounding error on end.\n            else { var l = i(t), k = w / l[2]; t = new Transform(k, p[0] - l[0] * k, p[1] - l[1] * k); }\n            g.zoom(null, t);\n          };\n        });\n  }\n\n  function gesture(that, args, clean) {\n    return (!clean && that.__zooming) || new Gesture(that, args);\n  }\n\n  function Gesture(that, args) {\n    this.that = that;\n    this.args = args;\n    this.active = 0;\n    this.extent = extent.apply(that, args);\n    this.taps = 0;\n  }\n\n  Gesture.prototype = {\n    start: function() {\n      if (++this.active === 1) {\n        this.that.__zooming = this;\n        this.emit(\"start\");\n      }\n      return this;\n    },\n    zoom: function(key, transform) {\n      if (this.mouse && key !== \"mouse\") this.mouse[1] = transform.invert(this.mouse[0]);\n      if (this.touch0 && key !== \"touch\") this.touch0[1] = transform.invert(this.touch0[0]);\n      if (this.touch1 && key !== \"touch\") this.touch1[1] = transform.invert(this.touch1[0]);\n      this.that.__zoom = transform;\n      this.emit(\"zoom\");\n      return this;\n    },\n    end: function() {\n      if (--this.active === 0) {\n        delete this.that.__zooming;\n        this.emit(\"end\");\n      }\n      return this;\n    },\n    emit: function(type) {\n      customEvent(new ZoomEvent(zoom, type, this.that.__zoom), listeners.apply, listeners, [type, this.that, this.args]);\n    }\n  };\n\n  function wheeled() {\n    if (!filter.apply(this, arguments)) return;\n    var g = gesture(this, arguments),\n        t = this.__zoom,\n        k = Math.max(scaleExtent[0], Math.min(scaleExtent[1], t.k * Math.pow(2, wheelDelta.apply(this, arguments)))),\n        p = mouse(this);\n\n    // If the mouse is in the same location as before, reuse it.\n    // If there were recent wheel events, reset the wheel idle timeout.\n    if (g.wheel) {\n      if (g.mouse[0][0] !== p[0] || g.mouse[0][1] !== p[1]) {\n        g.mouse[1] = t.invert(g.mouse[0] = p);\n      }\n      clearTimeout(g.wheel);\n    }\n\n    // If this wheel event wont trigger a transform change, ignore it.\n    else if (t.k === k) return;\n\n    // Otherwise, capture the mouse point and location at the start.\n    else {\n      g.mouse = [p, t.invert(p)];\n      interrupt(this);\n      g.start();\n    }\n\n    noevent();\n    g.wheel = setTimeout(wheelidled, wheelDelay);\n    g.zoom(\"mouse\", constrain(translate(scale(t, k), g.mouse[0], g.mouse[1]), g.extent, translateExtent));\n\n    function wheelidled() {\n      g.wheel = null;\n      g.end();\n    }\n  }\n\n  function mousedowned() {\n    if (touchending || !filter.apply(this, arguments)) return;\n    var g = gesture(this, arguments, true),\n        v = select(event.view).on(\"mousemove.zoom\", mousemoved, true).on(\"mouseup.zoom\", mouseupped, true),\n        p = mouse(this),\n        x0 = event.clientX,\n        y0 = event.clientY;\n\n    dragDisable(event.view);\n    nopropagation();\n    g.mouse = [p, this.__zoom.invert(p)];\n    interrupt(this);\n    g.start();\n\n    function mousemoved() {\n      noevent();\n      if (!g.moved) {\n        var dx = event.clientX - x0, dy = event.clientY - y0;\n        g.moved = dx * dx + dy * dy > clickDistance2;\n      }\n      g.zoom(\"mouse\", constrain(translate(g.that.__zoom, g.mouse[0] = mouse(g.that), g.mouse[1]), g.extent, translateExtent));\n    }\n\n    function mouseupped() {\n      v.on(\"mousemove.zoom mouseup.zoom\", null);\n      dragEnable(event.view, g.moved);\n      noevent();\n      g.end();\n    }\n  }\n\n  function dblclicked() {\n    if (!filter.apply(this, arguments)) return;\n    var t0 = this.__zoom,\n        p0 = mouse(this),\n        p1 = t0.invert(p0),\n        k1 = t0.k * (event.shiftKey ? 0.5 : 2),\n        t1 = constrain(translate(scale(t0, k1), p0, p1), extent.apply(this, arguments), translateExtent);\n\n    noevent();\n    if (duration > 0) select(this).transition().duration(duration).call(schedule, t1, p0);\n    else select(this).call(zoom.transform, t1);\n  }\n\n  function touchstarted() {\n    if (!filter.apply(this, arguments)) return;\n    var touches = event.touches,\n        n = touches.length,\n        g = gesture(this, arguments, event.changedTouches.length === n),\n        started, i, t, p;\n\n    nopropagation();\n    for (i = 0; i < n; ++i) {\n      t = touches[i], p = touch(this, touches, t.identifier);\n      p = [p, this.__zoom.invert(p), t.identifier];\n      if (!g.touch0) g.touch0 = p, started = true, g.taps = 1 + !!touchstarting;\n      else if (!g.touch1 && g.touch0[2] !== p[2]) g.touch1 = p, g.taps = 0;\n    }\n\n    if (touchstarting) touchstarting = clearTimeout(touchstarting);\n\n    if (started) {\n      if (g.taps < 2) touchstarting = setTimeout(function() { touchstarting = null; }, touchDelay);\n      interrupt(this);\n      g.start();\n    }\n  }\n\n  function touchmoved() {\n    if (!this.__zooming) return;\n    var g = gesture(this, arguments),\n        touches = event.changedTouches,\n        n = touches.length, i, t, p, l;\n\n    noevent();\n    if (touchstarting) touchstarting = clearTimeout(touchstarting);\n    g.taps = 0;\n    for (i = 0; i < n; ++i) {\n      t = touches[i], p = touch(this, touches, t.identifier);\n      if (g.touch0 && g.touch0[2] === t.identifier) g.touch0[0] = p;\n      else if (g.touch1 && g.touch1[2] === t.identifier) g.touch1[0] = p;\n    }\n    t = g.that.__zoom;\n    if (g.touch1) {\n      var p0 = g.touch0[0], l0 = g.touch0[1],\n          p1 = g.touch1[0], l1 = g.touch1[1],\n          dp = (dp = p1[0] - p0[0]) * dp + (dp = p1[1] - p0[1]) * dp,\n          dl = (dl = l1[0] - l0[0]) * dl + (dl = l1[1] - l0[1]) * dl;\n      t = scale(t, Math.sqrt(dp / dl));\n      p = [(p0[0] + p1[0]) / 2, (p0[1] + p1[1]) / 2];\n      l = [(l0[0] + l1[0]) / 2, (l0[1] + l1[1]) / 2];\n    }\n    else if (g.touch0) p = g.touch0[0], l = g.touch0[1];\n    else return;\n    g.zoom(\"touch\", constrain(translate(t, p, l), g.extent, translateExtent));\n  }\n\n  function touchended() {\n    if (!this.__zooming) return;\n    var g = gesture(this, arguments),\n        touches = event.changedTouches,\n        n = touches.length, i, t;\n\n    nopropagation();\n    if (touchending) clearTimeout(touchending);\n    touchending = setTimeout(function() { touchending = null; }, touchDelay);\n    for (i = 0; i < n; ++i) {\n      t = touches[i];\n      if (g.touch0 && g.touch0[2] === t.identifier) delete g.touch0;\n      else if (g.touch1 && g.touch1[2] === t.identifier) delete g.touch1;\n    }\n    if (g.touch1 && !g.touch0) g.touch0 = g.touch1, delete g.touch1;\n    if (g.touch0) g.touch0[1] = this.__zoom.invert(g.touch0[0]);\n    else {\n      g.end();\n      // If this was a dbltap, reroute to the (optional) dblclick.zoom handler.\n      if (g.taps === 2) {\n        var p = select(this).on(\"dblclick.zoom\");\n        if (p) p.apply(this, arguments);\n      }\n    }\n  }\n\n  zoom.wheelDelta = function(_) {\n    return arguments.length ? (wheelDelta = typeof _ === \"function\" ? _ : constant(+_), zoom) : wheelDelta;\n  };\n\n  zoom.filter = function(_) {\n    return arguments.length ? (filter = typeof _ === \"function\" ? _ : constant(!!_), zoom) : filter;\n  };\n\n  zoom.touchable = function(_) {\n    return arguments.length ? (touchable = typeof _ === \"function\" ? _ : constant(!!_), zoom) : touchable;\n  };\n\n  zoom.extent = function(_) {\n    return arguments.length ? (extent = typeof _ === \"function\" ? _ : constant([[+_[0][0], +_[0][1]], [+_[1][0], +_[1][1]]]), zoom) : extent;\n  };\n\n  zoom.scaleExtent = function(_) {\n    return arguments.length ? (scaleExtent[0] = +_[0], scaleExtent[1] = +_[1], zoom) : [scaleExtent[0], scaleExtent[1]];\n  };\n\n  zoom.translateExtent = function(_) {\n    return arguments.length ? (translateExtent[0][0] = +_[0][0], translateExtent[1][0] = +_[1][0], translateExtent[0][1] = +_[0][1], translateExtent[1][1] = +_[1][1], zoom) : [[translateExtent[0][0], translateExtent[0][1]], [translateExtent[1][0], translateExtent[1][1]]];\n  };\n\n  zoom.constrain = function(_) {\n    return arguments.length ? (constrain = _, zoom) : constrain;\n  };\n\n  zoom.duration = function(_) {\n    return arguments.length ? (duration = +_, zoom) : duration;\n  };\n\n  zoom.interpolate = function(_) {\n    return arguments.length ? (interpolate = _, zoom) : interpolate;\n  };\n\n  zoom.on = function() {\n    var value = listeners.on.apply(listeners, arguments);\n    return value === listeners ? zoom : value;\n  };\n\n  zoom.clickDistance = function(_) {\n    return arguments.length ? (clickDistance2 = (_ = +_) * _, zoom) : Math.sqrt(clickDistance2);\n  };\n\n  return zoom;\n}\n","import { default as zoomableProperty } from '../properties/zoomable.js';\nimport { event as d3Event } from 'd3-selection'\nimport { zoom } from 'd3-zoom'\n// import { selectMixin } from '/web_modules/@preignition/preignition-mixin.js';\n\n/**\n * ##  Zoomable\n * \n * allows charts to be zoomable\n * \n * @memberof MultiChart.mixin\n * @polymer\n * @mixinFunction\n */\nconst Zoomable = superClass => {\n\n  return class extends superClass { \n\n    static get properties() {\n\n      return {\n\n        ...super.properties,\n\n        ...zoomableProperty,\n\n        /* \n         * `enableZoom` set true to enable zoom behaviors\n         */\n        enableZoom: {\n          type: Boolean,\n          reflect: true,\n          attribute: 'enable-zoom',\n        },\n\n\n      };\n    }\n\n    updated(props) {\n      super.updated(props);\n      if (props.has('enableZoom')) {\n        this._observeEnableZoom(this.enableZoom);\n      }\n\n      if (props.has('extent') && this._zoom) {\n        this._zoom.extent(this.extent);\n      }\n\n      if (props.has('scaleExtent') && this._zoom) {\n        this._zoom.scaleExtent(this.scaleExtent);\n      }\n\n    }\n\n    get zoomedEl() {\n      return this.selectShadow('#slot-zoom');\n      // return d3.select(this.renderRoot.querySelector('#slot-zoom'));\n    }\n\n    _observeEnableZoom(enable) {\n      if (enable) {\n        const zoomed = () => {\n          this.zoomedEl.attr('transform', d3Event.transform);\n        };\n\n        this._zoom = zoom().on('zoom', zoomed);\n        this.selectShadow('#svg').call(this._zoom);\n        // d3.select(this.$.svg).call(this._zoom);\n\n      }\n      if (!enable) {\n        this._zoom = null;\n      }\n\n    }\n  };\n};\n\n\n/* \n * @mixinFunction\n */\nexport { Zoomable };","import { html } from 'lit-element';\nexport const pattern =  html `\n    <!-- we include patterns in the template so as to be able to use them in css (mask: url(#mask-stripe-thick)) -->\n    <svg style=\"position:absolute; top:-100000px;\" viewBox=\"0 0 1000 1000\">\n      <defs>\n        <pattern id=\"pattern-stripe\" width=\"5\" height=\"4\" patternUnits=\"userSpaceOnUse\" patternTransform=\"rotate(-45)\">\n          <rect width=\"0.5\" height=\"4\" transform=\"translate(0,0)\" fill=\"white\"></rect>\n        </pattern>\n        <pattern id=\"pattern-stripe-thick\" width=\"5\" height=\"4\" patternUnits=\"userSpaceOnUse\" patternTransform=\"rotate(-45)\">\n          <rect width=\"2.5\" height=\"4\" transform=\"translate(0,0)\" fill=\"white\"></rect>\n        </pattern>\n        <pattern id=\"pattern-stripe-light\" width=\"5\" height=\"4\" patternUnits=\"userSpaceOnUse\" patternTransform=\"rotate(-45)\">\n          <rect width=\"4\" height=\"4\" transform=\"translate(0,0)\" fill=\"white\"></rect>\n        </pattern>\n        <pattern id=\"pattern-stripe-hor\" width=\"5\" height=\"4\" patternUnits=\"userSpaceOnUse\">\n          <rect width=\"0.5\" height=\"4\" transform=\"translate(0,0)\" fill=\"white\"></rect>\n        </pattern>\n        <pattern id=\"pattern-stripe-inverse\" width=\"5\" height=\"4\" patternUnits=\"userSpaceOnUse\" patternTransform=\"rotate(45)\">\n          <rect width=\"0.5\" height=\"4\" transform=\"translate(0,0)\" fill=\"white\"></rect>\n        </pattern>\n        <pattern id=\"pattern-stripe-thick-inverse\" width=\"5\" height=\"4\" patternUnits=\"userSpaceOnUse\" patternTransform=\"rotate(45)\">\n          <rect width=\"2.5\" height=\"4\" transform=\"translate(0,0)\" fill=\"white\"></rect>\n        </pattern>\n        <mask id=\"mask-stripe\">\n          <rect x=\"-200\" y=\"-200\" width=\"10000\" height=\"10000\" fill=\"url(#pattern-stripe)\"></rect>\n        </mask>\n        <mask id=\"mask-stripe-thick\">\n          <rect x=\"-200\" y=\"-200\" width=\"10000\" height=\"10000\" fill=\"url(#pattern-stripe-thick)\"></rect>\n        </mask>\n          <mask id=\"mask-stripe-light\">\n          <rect x=\"-200\" y=\"-200\" width=\"10000\" height=\"10000\" fill=\"url(#pattern-stripe-light)\"></rect>\n        </mask>\n        <mask id=\"mask-stripe-inverse\">\n          <rect x=\"-200\" y=\"-200\" width=\"10000\" height=\"10000\" fill=\"url(#pattern-stripe-inverse)\"></rect>\n        </mask>\n        <mask id=\"mask-stripe-thick-inverse\">\n          <rect x=\"-200\" y=\"-200\" width=\"10000\" height=\"10000\" fill=\"url(#pattern-stripe-thick-inverse)\"></rect>\n        </mask>\n        <mask id=\"mask-stripe-hor\">\n          <rect x=\"-200\" y=\"-200\" width=\"10000\" height=\"10000\" fill=\"url(#pattern-stripe-hor)\"></rect>\n        </mask>\n      </defs>\n    </svg>`;","import * as accessor from '../../helper/accessor.js';\n\nconst props = {\n\n  /*\n   * `valueAccessor` accessor function for value (y)\n   */\n  valueAccessor: {\n    type: Function\n  },\n\n  /*\n   * `keyAccessor` accessor function for key (x)\n   */\n  keyAccessor: {\n    type: Function\n  },\n\n  /*\n   * `valuePosition` position of value axis and scale (x)\n   */\n  valuePosition: {\n    type: String,\n    notify: true,\n    attribute: 'value-position'\n  },\n\n  /*\n   * `keyPosition` position of key axis and scale (x)\n   */\n  keyPosition: {\n    type: String,\n    notify: true,\n    attribute: 'key-position'\n  },\n\n  /*\n   * `stacked` true when data is stacked\n   */\n  stacked: { type: Boolean },\n\n  /*\n   * `min` minimum value to apply to domain\n   */\n  min: { type: Number },\n\n  /*\n   * `max` minimum value to apply to domain\n   */\n  max: { type: Number },\n\n  /*\n   * `continuous` true to set continuous ordinal domain for this group\n   * For instance, time series are continusou\n   */\n  continuous: { type: Boolean }\n};\n\n// Note(cg): setting default values for some properties .\nconst values = {\n  valuePosition: 'left',\n  keyPosition: 'bottom',\n  valueAccessor: () => accessor.value,\n  keyAccessor: () => accessor.key,\n};\n\nconst valueProperties = Object.assign({}, props);\nObject.keys(values).forEach(k => valueProperties[k].value = values[k]);\n\nexport default props;\nexport { valueProperties };\n","import { html, css } from 'lit-element';\nimport { CacheId } from '@preignition/preignition-mixin';\n// import { SVGHelper } from '../helper/svg-helper-mixin.js';\nimport { default as ObserveResize } from './mixin/observe-resize-mixin.js';\nimport { default as MultiRegister } from './mixin/multi-register-mixin.js';\nimport { default as MultiData } from './mixin/multi-data-mixin.js';\nimport { Zoomable } from './mixin/zoomable-mixin.js';\n\nimport { MultiChartBase } from '../base-class.js';\nimport { pattern } from './pattern-template.js';\nimport { valueProperties as dataGroupValueProperties } from './properties/data-group.js';\n\n/**\n * # MultiContainer\n *\n * `<multi-chart-base>` is a base element for buiding charts\n *\n *\n * ### Events\n * Fired when `multi-container` is attached .\n *\n * @event multi-verse-added\n * @param {string} the name of the current group.\n *\n * Fired when `multi-container` is removed .\n *\n * @event multi-container-removed\n * @param {string} the name of the current group.\n *\n *\n * @memberof MultiChart\n * @appliesMixin  Vaadin.ThemableMixin\n * @appliesMixin  MultiChart.mixin.MultiRegister\n * @appliesMixin  MultiChart.mixin.SVGHelper\n * @appliesMixin MultiChart.mixin.Accessor\n * @appliesMixin  MultiChart.mixin.Zoomable\n * @customElement\n * @polymer\n **/\n\n\nclass MultiContainer extends\nMultiData(\n  ObserveResize(\n    MultiRegister(\n      CacheId(\n        Zoomable(\n          MultiChartBase))))) {\n\n  // Note(cg): Hack allowing extend multi-container\n  // in other libraries\n  get html() {\n    return html;\n  }\n\n  static get styles() {\n    return css `\n     :host {\n        display: flex;\n        flex-direction: column;\n      }\n\n      ::slotted([slot=header]),\n      ::slotted([slot=footer]) {\n        margin: 0;\n      }\n\n      #observedNode {\n        display: none;\n      }\n\n      #svg {\n        /* need width here, otherwise the size of this svg is not properly calculated on resize*/\n        width: 100%;\n        flex: 1;\n      }\n\n      #background {\n        fill: var(--multi-chart-background-color, var(--light-theme-background-color));\n      }\n\n      .drawable {\n         fill: none;\n      }\n\n      slot[name=\"svg\"] {\n        display: none;\n      }\n\n      .highlighted {\n        fill-opacity: 0.9;\n        opacity: 1;\n        stroke: #FFF;\n        stroke-width: 0;\n        mask: var(--multi-highlight-mask);\n        fill: var(--multi-highlight-fill);\n      }\n \n    `;\n  }\n\n\n  render() {\n\n    return html `\n      <slot name=\"header\"></slot>\n      <div id=\"observedNode\">\n        ${this.getContentRender()}\n        <multi-data-group \n          group=\"default\" \n          .processType=\"${this.processType}\"\n          .valuePosition=\"${this.valuePosition}\"\n          .keyPosition=\"${this.keyPosition}\"\n          .valueAccessor=\"${this.valueAccessor}\"\n          .keyAccessor=\"${this.keyAccessor}\"\n          .stacked=\"${this.stacked}\"\n          .min=\"${this.min}\"\n          .max=\"${this.max}\"\n          .data=\"${this.data}\"\n          ></multi-data-group>\n        <slot></slot>\n      </div>\n      <svg id=\"svg\" part=\"svg\">\n        <g transform=\"translate(${this.leftMargin || 0}, ${this.topMargin || 0})\">\n          <g id=\"slot-background\" part=\"background\">\n          </g>\n          <g id=\"slot-chart-content\">\n            <g id=\"slot-zoom\">\n              <g id=\"slot-chart\" part=\"chart\"></g>\n              <g id=\"slot-top-chart\" part=\"chart\"></g>\n              <g id=\"slot-brush\" part=\"brush\"></g>\n            </g>\n            <g id=\"slot-axis\" part=\"axis\"></g>\n          </g>\n        </g>\n        <g id=\"slot-legend\" part=\"legend\"></g>\n      </svg>\n      <slot name=\"footer\"></slot>\n      <slot name=\"svg\"></slot>\n      ${this.pattern ? pattern : ''}\n    `;\n  }\n\n  /**\n   * used when subclassing `multi-container` and add content to the chart\n   * @return {TemplateResult} content to be added\n   */\n  getContentRender() {\n    return '';\n  }\n\n  /**\n   * return a scaled accessor function\n   * @param  {d3Scale} scale    scale as\n   * @param  {Function} accessor function (exampe: `(d,i) => d.value.x``)\n   * @return {Function} an accessor function\n   */\n  getAccessor(scale, accessor) {\n    if (scale && accessor) {\n      return (d, i) => scale(accessor(d, i));\n    }\n    return () => {};\n  }\n\n\n  static get properties() {\n\n    return {\n\n      ...super.properties,\n\n      ...dataGroupValueProperties,\n\n      topMargin: { type: Number, attribute: 'top-margin' },\n      rightMargin: { type: Number, attribute: 'right-margin' },\n      bottomMargin: { type: Number, attribute: 'bottom-margin' },\n      leftMargin: { type: Number, attribute: 'left-margin' },\n\n      /*\n       * `width`  of the chart area. Equals actual width of component - margins\n       */\n      width: { type: Number, },\n\n      /*\n       * `height`  of the chart area. Equals actual height of component - margins\n       */\n      height: { type: Number, },\n\n      /**\n       * `group` the name of the group (used when to registering this element under a multi-verse)\n       */\n      group: { type: String },\n\n      /*\n       * `multiVerseGroup` group name send along with `multi-verse-added`\n       */\n      multiVerseGroup: {\n        type: String,\n        attribute: 'multi-verse-group',\n        value: 'default'\n      },\n\n      /*\n       * colorScale for the chart\n       */\n      colorScale: { type: Function },\n\n      /*\n       * `pattern` set true for charts using patterns (e.g. geo charts)\n       */\n      pattern: { type: Boolean },\n\n      /*\n       * `processType`  the type of process type, e.g. stack for bar Chart\n       */\n      processType: {\n        type: String,\n        attribute: 'process-type'\n      },\n\n    };\n  }\n\n\n  constructor() {\n    super();\n    // Note(cg): allow drawble elements to be registered in this container.\n    this.addEventListener('multi-drawn', this.onDrawn);\n\n    // Note(cg): multi-data-group notify value-position. We need to make sure\n    // a scale exist for used position (left, bottom,...)\n    this.addEventListener('value-position-changed', this._onScalePosition);\n    this.addEventListener('key-position-changed', this._onScalePosition);\n  }\n\n  updated(props) {\n    super.updated(props);\n    if (props.has('topMargin') || props.has('rightMargin') || props.has('bottomMargin') || props.has('leftMargin')) {\n      this.onResize();\n    }\n  }\n\n  firstUpdated(changedProperties) {\n    super.firstUpdated(changedProperties);\n    // Note(cg): chart container might be registered against multi-verse. We nee to notify their creation upwards.\n    this.dispatchEvent(new CustomEvent('multi-verse-added', { detail: this.multiVerseGroup, bubbles: true, composed: true }));\n    this.onResize();\n    this.assignSlottedSVG();\n  }\n  \n  disconnectedCallback() {\n    // TODO(cg): replace multi-removed -> multi-verse-remover\n    // XXX(cg): this event will never be caught! unregister from host instead like for drawablse\n    this.dispatchEvent(new CustomEvent('multi-verse-removed', { detail: this.multiVerseGroup, bubbles: true, composed: true }));\n    super.disconnectedCallback();\n  }\n\n  // Note(cg): refresh drawable components for the chart.\n  refresh() {\n    this.callRegistered('debounceDraw');\n  }\n\n  getSize() {\n    const svg = this.selectShadow('#svg').node();\n    return {\n      width: svg && svg.width.baseVal.value,\n      height: svg && svg.height.baseVal.value\n    };\n  }\n\n  onRegister(item) {\n    super.onRegister && super.onRegister(item);\n    if (this.width && this.height && item.resize) {\n      item.resize(this.width, this.height);\n    }\n  }\n\n  onResize(rect, entry) {\n    const { width, height } = this.getSize();\n    // Note(cg): if width or height is 0 (as it is the case when char is hiddem -> do nothing).\n    if (width && height) {\n      // Note(cg): as we cannot use offsetWidth and offsetHeight for svg, we take the value of $0.$.svg.height.baseVal.\n      this.width = Math.floor(width - (this.leftMargin || 0) - (this.rightMargin || 0));\n      this.height = Math.floor(height - (this.bottomMargin || 0) - (this.topMargin || 0));\n      this.callRegistered('resize', this.width, this.height);\n    }\n  }\n\n  onDrawn() {\n    // Note(cg): a container is responsible for notifying resize events to the registered elements.\n    this.callRegistered('onDrawn');\n  }\n\n  _onScalePosition(e) {\n    const position = e.detail.value;\n    // Note(cg): construct the scale is axis not existing;.\n    if (position && !this[`${position}Axis`]) {\n      this[`${position}HasScale`] = true;\n    }\n  }\n\n  assignSlottedSVG() {\n    const nodes = [];\n    const treeWalker = (root) => {\n      return document.createTreeWalker(root, NodeFilter.SHOW_ELEMENT, { acceptNode: function(node) { return NodeFilter.FILTER_ACCEPT; } }, false);\n    };\n\n    const assignedNodes = (node) => {\n      let n = node;\n      while (n.assignedNodes && n.assignedNodes()[0]) {\n        n = n.assignedNodes()[0];\n      }\n      return n;\n    };\n\n    const loop = (node) => {\n      const walker = treeWalker(node);\n      while (walker.nextNode()) {\n        const currentNode = walker.currentNode;\n        if (currentNode.getAttribute('slot-svg')) {\n          // Note(cg): we push slot-svg here.\n          nodes.push(currentNode);\n        }\n        // Note(cg): slotted assigned elements are not catched by try treewalker.\n        if (currentNode.localName === 'slot') {\n          loop(assignedNodes(currentNode));\n        }\n      }\n    };\n    loop(this);\n\n    nodes.forEach(node => {\n      const target = node.getAttribute('slot-svg');\n      const parent = this.$[target];\n      if (parent) {\n        const position = node.dataset.multiPosition;\n        const appended = [...parent.childNodes].some(n => {\n          if (node.dataset.multiPosition >= position) {\n            parent.insertBefore(node, n);\n            return true;\n          }\n        })\n        if (!appended) {\n          parent.appendChild(node);\n        }\n        // select(this.$[target]).selectAll('>*').sort((a,b) => a.multiPosition - b.multiPosition);\n      }\n      this.log && console.warn(`cannot dispatch node ${target}`);\n    });\n    // console.info('NODES', nodes);\n  }\n}\n\nexport default MultiContainer;\n","import { html } from 'lit-element';\n\n/**\n * ##  ScaleRender\n *\n * Mixin for rendering scale, depending on their type\n *\n */\nconst ScaleRender = superClass => {\n\n  return class extends superClass {\n\n    // static get properties() {\n    //   return {\n\n    //     ...super.properties,\n\n    //     radius: {\n    //       type: Number,\n    //     }\n    //   };\n    // }\n\n    getScaleRender(type, axis) {\n      return html `\n     <d3-scale \n        .scaleType=\"${this[`${type}ScaleType`]}\" \n        .range=\"${this.getRange(type)}\" \n        .domain=\"${this[`${type}Domain`]}\" \n        .unknown=\"${this[`${type}Unknown`]}\" \n        .padding=\"${this[`${type}Padding`]}\" \n        .paddingOuter=\"${this[`${type}PaddingOuter`]}\" \n        .paddingInner=\"${this[`${type}PaddingInner`]}\" \n        .align=\"${this[`${type}Align`]}\" \n\n        @scale-changed=\"${e => {this[`${type}Scale`] = e.detail.value; this.refresh();}}\"></d3-scale>`;\n    }\n\n    // get radius() {\n    //   if (this.width && this.height) {\n    //     return Math.min(this.width, this.height) / 2 * this.scaleFactor;\n    //   }\n    //   return 0;\n    // }\n\n    getRange(type) {\n      if (type) {\n        return type === 'radial' ? [0, Math.min(this.width || 0, this.height) / 2 * this.scaleFactor] :\n          type === 'left' || type === 'right' ? [this.height, 0] : [0, this.width];\n      }\n      return [0, 1];\n    }\n  };\n};\n\nexport default ScaleRender;\n","const props = {\n\n\n  /* \n   * `margin` applied to svg container (not css margin, wich can also be applied as per normal css rules)\n   * By default margins are slightly bigger than for simple `multi-container-svg`\n   */\n  topMargin: { type: Number, attribute: 'top-margin' },\n  rightMargin: { type: Number, attribute: 'right-margin' },\n  bottomMargin: { type: Number, attribute: 'bottom-margin' },\n  leftMargin: { type: Number, attribute: 'left-margin' },\n\n  /* \n   * `topAxis` true to display top axis\n   */\n  topAxis: {\n    type: Boolean,\n    attribute: 'top-axis',\n    value: false\n  },\n\n  /* \n   * `rightAxis` true to display right axis\n   */\n  rightAxis: {\n    type: Boolean,\n    attribute: 'right-axis',\n    value: false\n  },\n\n  /* \n   * `bottomAxis` true to display bottom axis\n   */\n  bottomAxis: {\n    type: Boolean,\n    attribute: 'bottom-axis',\n    value: false\n  },\n\n  /* \n   * `leftAxis` true to display bottom axis\n   */\n  leftAxis: {\n    type: Boolean,\n    attribute: 'left-axis',\n    value: false\n  },\n\n\n  /* \n   * `topHasScale` true to create top scale\n   */\n  topHasScale: {\n    type: Boolean,\n    attribute: 'top-has-scale',\n    value: false\n  },\n\n  /* \n   * `rightHasScale` true to create right scale\n   */\n  rightHasScale: {\n    type: Boolean,\n    attribute: 'right-has-scale',\n    value: false\n  },\n  /* \n   * `bottomHasScale` true to create bottom scale\n   */\n  bottomHasScale: {\n    type: Boolean,\n    attribute: 'bottom-has-scale',\n    value: false\n  },\n\n  /* \n   * `leftHasScale` true to create left scale\n   */\n  leftHasScale: {\n    type: Boolean,\n    attribute: 'left-has-scale',\n    value: false\n  },\n\n\n  leftTextAngle: {\n    type: Number,\n    attribute: 'left-axis-angle'\n  },\n\n  leftYText: {\n    type: Number,\n    attribute: 'left-ytext'\n  },\n\n  leftDy: {\n    type: String,\n    attribute: 'left-dy'\n  },\n\n  bottomDy: {\n    type: String,\n    attribute: 'bottom-dy'\n  }\n}\n\n\n\n// Note(cg): setting default values for some properties .\nconst values = {\n  topMargin: 20,\n  rightMargin: 20,\n  bottomMargin: 20,\n  leftMargin: 30,\n\n  leftTextAngle: -90,\n  leftYText: 6,\n  leftDy: '0.6em',\n  bottomDy: '-0.6em'\n}\n\nconst valueProperties = Object.assign({}, props)\nObject.keys(values).forEach(k => valueProperties[k].value = values[k]);\n\nexport default props;\nexport { valueProperties };","import { html } from 'lit-element';\nimport { default as ScaleRender } from './mixin/scale-render-mixin.js';\nimport { default as MultiContainer } from './multi-container.js';\nimport { default as Scale } from '../d3-wrapper/d3-scale.js';\nimport { default as Axis } from '../d3-wrapper/d3-axis.js';\nimport { extendProperty } from '../helper/extend-property-mixin.js';\nimport { valueProperties as axisValueProperties } from './properties/container-axis.js';\nimport { default as axisProps } from '../drawable/properties/axis.js';\n\n\nclass MultiContainerAxis extends ScaleRender(MultiContainer) {\n\n  getContentRender() {\n    return html `\n      ${super.getContentRender && super.getContentRender()}\n      ${this.topHasScale || this.topAxis ? this.getScaleRender('top') : ''}\n      ${this.rightHasScale || this.rightAxis ? this.getScaleRender('right') : ''}\n      ${this.bottomHasScale || this.bottomAxis ? this.getScaleRender('bottom') : ''}\n      ${this.leftHasScale || this.leftAxis ? this.getScaleRender('left') : ''}\n      ${this.topAxis ? this.getAxisRender('top') : ''}\n      ${this.rightAxis ? this.getAxisRender('right') : ''}\n      ${this.bottomAxis ? this.getAxisRender('bottom') : ''}\n      ${this.leftAxis ? this.getAxisRender('left') : ''}\n    `;\n  }\n\n  static get properties() {\n\n    return {\n\n      ...super.properties,\n\n      ...extendProperty('top', Axis.properties, Scale.properties, axisProps),\n      ...extendProperty('right', Axis.properties, Scale.properties, axisProps),\n      ...extendProperty('bottom', Axis.properties, Scale.properties, axisProps),\n      ...extendProperty('left', Axis.properties, Scale.properties, axisProps),\n\n      ...axisValueProperties,\n    };\n  }\n\n  getAxisRender(type) {\n    // const tagName = `d3-axis-${type}`;\n    return html `\n      <multi-axis \n        type=\"${type}\"\n        .scale=\"${this[`${type}Scale`]}\" \n        .xText=\"${this[`${type}XText`]}\" \n        .yText=\"${this[`${type}YText`]}\" \n        .text=\"${this[`${type}Text`]}\" \n        .dx=\"${this[`${type}Dx`]}\" \n        .dy=\"${this[`${type}Dy`]}\" \n        .textAngle=\"${this[`${type}TextAngle`]}\" \n        .tickSize=\"${this[`${type}TickSize`]}\" \n        .tickPadding=\"${this[`${type}TickPadding`]}\" \n        .ticks=\"${this[`${type}Ticks`]}\" \n        .tickFormat=\"${this[`${type}TickFormat`]}\"         \n        .tickArguments=\"${this[`${type}TickArguments`]}\" \n        ></multi-axis>\n     `;\n  }\n}\n\nexport default MultiContainerAxis;\n","import { html } from 'lit-element';\nimport { default as MultiContainer } from './multi-container.js';\nimport { default as ScaleRender } from './mixin/scale-render-mixin.js';\nimport { default as Axes } from '../drawable/multi-radar-axes.js';\nimport { RelayTo} from '@preignition/preignition-mixin';\n\n// import { default as Scale } from '../d3-wrapper/d3-scale.js';\n// import { default as Axis } from '../d3-wrapper/d3-axis.js';\n// import { extendProperty } from '../helper/extend-property-mixin.js';\n// import { valueProperties as axisValueProperties } from './properties/container-axis.js';\n// import { default as axisProps } from '../drawable/properties/axis.js';\n\n\n/**\n * ## MultiContainerRadat\n *\n * A container for radar chart. It is responsible for drawing axes.\n *\n * @element multi-container-radar\n *\n * @prop {Array} axes - array of axis for radar chart. Example {label: 'label', key: 'key', max: max, class: 'class', xOffset, offset, yOffset: offset}\n */\nclass MultiContainerRadar extends \n  RelayTo(\n    ScaleRender(\n      MultiContainer)) {\n\n  getContentRender() {\n    return html `\n      ${super.getContentRender && super.getContentRender()}\n      ${this.getAxisRender()}\n      ${this.getScaleRender('radial')}\n    `;\n  }\n\n  static get properties() {\n\n    return {\n\n      ...super.properties,\n\n      ...Axes.properties,\n\n      /*\n       * `min` minumum value\n       * we need to set it, otherwise will be inferred  frmo data\n       */\n      min: {\n        type: Number,\n        value: 0\n      },\n\n      /*\n       * `valuePosition` position type for values.\n       * this is used to calculate scale vor values in `multi-data-group`\n       */\n      valuePosition: {\n        type: String,\n        attribute: 'value-position',\n        notify: true,\n        value: 'radial'\n      },\n      \n      /*\n       * `keyPosition` position type for keys.\n       * this is used to calculate scale vor values in `multi-data-group`\n       */\n      keyPosition: {\n        type: String,\n        attribute: 'key-position',\n        notify: true,\n        value: 'angle'\n      },\n\n\n    };\n  }\n\n  update(props) {\n    super.update(props);\n    this.relayTo(props, 'radar-axes');\n  }\n  // Note(cg): only relay properties (to multi-radar-axis) if they are \n  // part of multi-radar-axis properties.\n  shallRelayTo(key, name) {\n    this.log && console.info(`relaying ${key} to ${name}`)\n    return (key in Axes.properties) && name === 'radar-axes';\n  }\n\n  getAxisRender() {\n    return html `\n      <multi-radar-axes id=\"radar-axes\"></multi-radar-axes>\n     `;\n  }\n}\n\nexport default MultiContainerRadar;\n","import { dedupingMixin } from '@polymer/polymer/lib/utils/mixin.js';\nimport { cssTheme } from '@preignition/preignition-mixin';\nimport { select } from 'd3-selection';\n/**\n * ## MultiHighlight\n * \n *   adds a highlight class on shapes with same keys as `highlightedKeys`\n * \n * @memberof MultiChart.mixin\n * @polymer\n * @mixinFunction\n */\nconst MultiHighlight = dedupingMixin(superClass => {\n\n  /*\n   * @polymer\n   * @mixinClass\n   */\n  class Mixin extends superClass {\n\n    static get properties() {\n      return {\n\n        ...super.properties,\n\n        highlightedKeys: {\n          type: Array,\n          attribute: 'highlighted-keys'\n        },\n\n        highlightedCls: {\n          type: String,\n          value: 'highlighted',\n          attribute: 'highlighted-cls'\n        },\n\n        /* \n         * `layerId` id of the layer containing elements to be highlighted.\n         */\n        layerId: {\n          type: String,\n          value: 'slot-layer',\n          attribute: 'layer-id'\n        },\n\n        /* \n         * `highlightAccessor` accessor function to fetch keys to be highlighted\n         * default value supposes that we have elements like `<path data-key=\"tyhKey\"></path>`\n         */\n        highlightAccessor: {\n          type: Function,\n          attribute: 'highlight-accessor',\n          value: function() {\n            return function(d) {\n              return this.getAttribute('key');\n            };\n          }\n        }\n      };\n    }\n\n    get highlightedLayer() {\n      return this.$[this.layerId];\n    }\n\n    updated(props) {\n      super.updated(props);\n      if(props.has('highlightedKeys')) {\n        this._observeHighlightedKeys();\n      }\n    }\n\n    // static get observers() {\n    //   return [\n    //     '_observeHighlightedKeys(highlightedKeys, layer)'\n    //   ];\n    // }\n\n     _observeHighlightedKeys() {\n\n      if (!this.highlightedLayer) {\n        console.error('cannot get layer in highlightedKeys');\n      }\n      \n      const {highlightAccessor, highlightedKeys} = this;\n\n      select(this.highlightedLayer).selectAll('.selectable')\n        .classed(this.highlightedCls, function(d) {\n          return highlightedKeys.indexOf(highlightAccessor.call(this, d)) > -1;\n        });\n\n    }\n  }\n\n  return Mixin;\n});\n\n/* \n * @mixinClass\n */\nexport default MultiHighlight ;","import { default as MultiRegister } from './mixin/multi-register-mixin.js';\n// import { default as MultiData } from './mixin/multi-data-mixin.js';\nimport { default as DispatchSVG } from '../helper/dispatch-svg-mixin.js';\nimport { default as Registerable } from '../helper/multi-registerable-mixin.js';\nimport { default as MultiHighlight } from '../helper/multi-highlight-mixin.js';\nimport { CacheId } from '@preignition/preignition-mixin';\n// import { valueProperties as dataGroupValueProperties } from './properties/data-group.js';\nimport { Base } from '../base-class.js';\nimport { html } from 'lit-element';\n/**\n * # MultiContainerLayer\n * \n * `<multi-container-layer>` is a proxy for svg g element. \n * It will be inserted within `multi-container-svg#slot-chart` and can contain other svg content like geo layer. \n *\n *\n * ### Events\n * Fired when `multi-container-layer` is attached .\n *\n * @event multi-verse-added\n * @param {string} the name of the curret group.\n *\n * Fired when `multi-container-layer` is removed .\n *\n * @event multi-verse-removed\n * @param {string} the name of the current group.\n *\n *\n *\n * @memberof MultiChart\n * @appliesMixin  MultiChart.mixin.SVGHelper    \n * @appliesMixin  MultiChart.mixin.MultiRegister    \n * @appliesMixin  MultiChart.mixin.MultiRegisterable    \n * @appliesMixin  MultiChart.mixin.DispatchSVG    \n * @appliesMixin  MultiChart.mixin.SVGHelper    \n * @appliesMixin  MultiChart.mixin.Resizable    \n * @appliesMixin MultiChart.mixin.Accessor\n * @appliesMixin  MultiChart.mixin.MultiData    \n * @appliesMixin  MultiChart.mixin.PolymerExtends    \n * @customElement\n * @polymer\n **/\nclass MultiContainerLayer\n// extends Polymer.mixinBehaviors([Polymer.IronResizableBehavior],\nextends \n// SVGHelper(\n  DispatchSVG(\n      CacheId(\n        MultiHighlight(\n          // MultiData(\n            MultiRegister(\n              Registerable(\n                Base))))) {\nrender() {\n  return html `\n    <slot></slot>\n    <svg id=\"svg\">\n      <g slot-svg=\"slot-chart\" data-multi-position=\"${this.multiPosition}\" id=\"slot-layer\" .class=\"${this.layer}\"></g>\n    </svg>\n`;\n  }\n\n  static get properties() {\n    return {\n\n      ...super.properties,\n\n      /**\n       * `group` the name of the group (used when to registering this element under a multi-verse)\n       */\n      group: {\n        type: String,\n        value: 'default'\n      },\n\n      /* \n       * `layer` the name of the layer - is set to g#svg-slot\n       */\n      layer: {\n        type: String\n      }\n\n\n    };\n  }\n\n\n  firstUpdated(props) {\n    super.firstUpdated(props)\n    // Note(cg): chart container might be registered against multi-verse. We nee to notify their creation upwards.\n    this.dispatchEvent(new CustomEvent('multi-verse-added', { detail: this.group, bubbles: true, composed: true }));\n  }\n  disconnectedCallback() {\n    // TODO(cg): replace multi-removed -> multi-verse-remover\n    // XXX(cg): this event will never be caught! unregister from host instead like for drawablse\n    this.dispatchEvent(new CustomEvent('multi-verse-removed', { detail: this.group, bubbles: true, composed: true }));\n    super.disconnectedCallback();\n  }\n\n  /* \n   * `dataChanges` relay dataChanged to registeredItems\n   */\n  dataChanged() {\n    this.callRegistered('dataChanged', ...arguments);\n  }\n\n  // Note(cg): refresh drawable components for the chart. \n  debounceDraw() {\n    this.callRegistered('debounceDraw', ...arguments);\n  }\n\n  resize(width, height) {\n    super.resize && super.resize();\n    this.callRegistered('resize', width, height);\n  }\n}\n\nexport default MultiContainerLayer;\n","import { timeOut } from '@polymer/polymer/lib/utils/async.js';\nimport { Debouncer } from '@polymer/polymer/lib/utils/debounce.js';\nimport { extent, range, max, min } from 'd3-array';\nimport * as scale from 'd3-scale';\nimport { LitElement, html } from 'lit-element';\nimport * as accessor from '../helper/accessor.js';\nimport { default as Registerable } from '../helper/multi-registerable-mixin.js';\nimport { default as Register } from './mixin/multi-register-mixin.js';\nimport { DefaultValueMixin, DoNotSetUndefinedValue } from '@preignition/preignition-mixin';\nimport { LitNotify } from '@morbidick/lit-element-notify';\nimport { default as dataGroupProps } from './properties/data-group.js';\n\n// Note(cg): yet to do\n//\n// - [x] remove loops over groupName\n// - [x] remove groupName\n// - [x] force creation of scale depending on position (top / bottom / ...)\n// - [ ] integrate stack\n// - [x] properly bind config: it should be easy to set it from multi-container.\n//       easyt to set min max\n// - [x] remove config object\n// - [x] review axis listeners.\n\n// .\n\nclass MultiSerieGroup extends\nRegisterable(\n  Register(\n    DefaultValueMixin(\n      LitNotify(\n        DoNotSetUndefinedValue(\n          LitElement))))) {\n\n  /*\n   * `registerEventDispatch`  the name of the event to be fired when connected.\n   * A container with multi-register-mixin applied\n   * will listen to this event to register the component.\n   *\n   * @override Registerable\n   */\n  get registerEventDispatch() {\n    return 'multi-data-group-register';\n  }\n\n  static get properties() {\n\n    return {\n\n      ...super.properties,\n\n      ...dataGroupProps,\n\n      log: { type: Boolean },\n\n      /*\n       * `data` to display the chart\n       */\n      data: { type: Array },\n\n      /*\n       * `group` the name of the group. default for default group\n       */\n      group: { type: String },\n\n      /*\n       * `_registeredItems` the list of registerd Items under this group.\n       */\n      _registeredItems: { type: Array },\n\n      /*\n       * `series` the series belonging to this serie group\n       * `series` the list of data serie registered for this container.\n       * We can eiher pass a serie array like [{key: 'apple', label:'apple'}, accessor: d => +d.value.apple}, {key: 'orange', label:'orange'}, accessor: d => +d.value.orange}], \n       *  or use `<multi-serie>` component to register series via markup\n       *\n       */\n      series: {\n        type: Array,\n        value: []\n      },\n\n      /*\n       * `processType`  the type of process type, e.g. stack for bar Chart\n       */\n      processType: {\n        type: String,\n        attribute: 'process-type'\n      },\n\n    }\n  }\n\n  updated(props) {\n    super.updated(props);\n    if (props.has('data') || props.has('series')) {\n      this._debouceDataChanged();\n    }\n    if (props.has('min') || props.has('max')) {\n      this.setHostDomain(this.valuePosition, [...this.getDomainMinMax()]);\n    }\n    if (props.has('stacked')) {\n      this._handleStackedChanged();\n    }\n  }\n\n  _debouceDataChanged() {\n    this._debounceDataChanged = Debouncer.debounce(\n      this._debounceDataChanged, // initially undefined\n      timeOut.after(10),\n      () => {\n        this._processDataChanged();\n      });\n  }\n\n  // Note(cg): we need to re-set min-max value domain when stacked changes.\n  _handleStackedChanged() {\n    this.setHostDomain(this.valuePosition, [0, this.stacked ? this._stackedMax : this._max]);\n  }\n\n  _processDataChanged() {\n    if (!this.group) {\n      throw new Error(`group name has to be set for multi-data-group. `);\n    }\n    if (Array.isArray(this.data) && this.data.length) {\n\n      let multiData;\n\n      if (this.processType) {\n        multiData = this._processByType(this.processType, this.data);\n      } else if (this.series && this.series.length) {\n        multiData = this._processSeries();\n      }\n\n      // Note(cg): processByType and processSeries returns a new array\n      // we need to make sure charts will respond to mutation when\n      // no series and no processType (e.g. pie).\n      this._multiData = multiData || [...this.data];\n      this._callDataChanged(this._multiData);\n    }\n\n  }\n\n  _processByType(processType, data) {\n\n    if (processType === 'stack') {\n\n      const keyAccessor = this.keyAccessor;\n\n        // Note(cg): series and shaper stack data.\n        let tmpMax = -Infinity;\n        const _multiData = this.shaper(data).map((data, i) => {\n          const ret = data.map(([y0, y1], ii) => {\n            if ((y1 - y0) > tmpMax) {\n              tmpMax = (y1 - y0);\n            }\n            // return [y0, y1, i, data[ii].data.__key__];\n            return [y0, y1, i, keyAccessor(data[ii].data)];\n          });\n          ret.index = data.index;\n          ret.key = data.key;\n          return ret;\n        });\n\n        // Note(cg): cache domains to re-use when stacked changes eventually.\n        this._max = this.max ? this.max : tmpMax;\n        this._stackedMax = this.max ? this.max : max(_multiData[_multiData.length - 1], d => d[1]);\n\n      // this.setHostDomain(this.keyPosition, this.getOrdinalDomain(this.data, keyAccessor, serie.accessor, serie.continuous););\n      const valueScale = this.getHostValue(`${this.valuePosition}Scale`);\n      const keyScale = this.getHostValue(`${this.keyPosition}Scale`);\n      const isContinuous = keyScale.category === 'continuous';\n\n      this.setHostDomain(this.keyPosition, this.getOrdinalDomain(this.data, this.keyAccessor, this.accessor, isContinuous));\n      this.setHostDomain(this.valuePosition, [0, this.stacked ? this._stackedMax : this._max]);\n\n      this.dispatchEvent(new CustomEvent('data-group-rescaled', {\n        detail: {\n          group: this.group,\n          xScale: keyScale,\n          yScale: valueScale\n          // xAccessor: accessor.key,\n          // yAccessor: accessor.value\n        },\n        bubbles: true,\n        composed: true\n      }));\n\n      return _multiData;\n    }\n\n    if (processType === 'choropleth') {\n\n      const map = new Map();\n      const valueAccessor = this.valueAccessor;\n      const keyAccessor = this.keyAccessor;\n      const valuePosition = this.valuePosition;\n      const valueScale = this.getHostValue(`${valuePosition}Scale`);\n      \n      let min = Infinity;\n      let max = -Infinity;\n\n      this.data.forEach(d => {\n        const value = valueAccessor(d);\n        map.set(keyAccessor(d), value);\n        if (value < min) {\n          min = value;\n        }\n        if (value > max) {\n          max = value;\n        }\n      });\n\n      const domain = this.getDomainMinMax([min, max]);\n      if (valueScale) {\n        valueScale.domain(domain);\n      }\n      this.setValueDomain(domain);\n\n      this.dispatchEvent(new CustomEvent('data-group-rescaled', {\n        detail: {\n          group: this.group,\n          colorScale: valueScale,\n          colorDomain: domain,\n        },\n        bubbles: true,\n        composed: true\n      }));\n\n      // this._mapProcessed = true;\n      this.choroplethMap = map;\n      return map;\n\n    }\n    throw new Error(`Trying to process data throught an unknown type (${processType})`);\n  }\n\n  _processSeries() {\n    // Note(cg): we transform serie data differently for charts that expect stacked data or not.\n    const keyAccessor = this.keyAccessor;\n\n    // Note(cg): series, no stack.\n\n    const valueDomain = [Infinity, -Infinity];\n    const _multiData = this.series.map((serie, i) => {\n      if (!serie.key) {\n        this.log && console.warn('serie is missing a key', serie);\n        serie.key = i;\n      }\n      const data = this.data.map((d, i) => {\n        return {\n          key: keyAccessor(d, i),\n          value: serie.accessor(d, i)\n        };\n      });\n      const ext = extent(data, d => d.value);\n      if (ext[0] < valueDomain[0]) { valueDomain[0] = ext[0]; }\n      if (ext[1] > valueDomain[1]) { valueDomain[1] = ext[1]; }\n      return { key: serie.key, label: serie.label || serie.key, group: this.group, data: data };\n    });\n    if (valueDomain[0] === Infinity || valueDomain[1] === -Infinity) {\n      throw new Error('problem while computing value domain');\n    }\n    const ordinalDomain = this.getOrdinalDomain(this.data, keyAccessor);\n    // const cfg = this.serieConfig[name];\n    const valuePosition = this.valuePosition;\n    const keyPosition = this.keyPosition;\n    const valueScale = this.getHostValue(`${valuePosition}Scale`);\n    const keyScale = this.getHostValue(`${keyPosition}Scale`);\n\n    // Note(cg): resset domains.\n    this.setHostDomain(valuePosition, this.getDomainMinMax(valueDomain));\n    this.setHostDomain(keyPosition, ordinalDomain);\n\n    this.dispatchEvent(new CustomEvent('data-group-rescaled', {\n      detail: {\n        group: this.group,\n        xScale: keyScale,\n        yScale: valueScale,\n        xAccessor: accessor.key,\n        yAccessor: accessor.value\n      },\n      bubbles: true,\n      composed: true\n    }));\n\n    return _multiData;\n  }\n\n  getDomainMinMax(domain) {\n    const host = this.getRootNode().host; // Note(cg): this will be chart container.\n    const position = this.valuePosition;\n    domain = domain || host[`${position}Domain`];\n\n    const { min, max } = this;\n    if (min || min === 0) {\n      domain[0] = min;\n    }\n    if (max || max === 0) {\n      domain[1] = max;\n    }\n    return domain;\n  }\n\n  getHostValue(name) {\n    return this.getRootNode().host[name];\n  }\n\n  setValueDomain(domain) {\n    this.setHostDomain(this.valuePosition, domain);\n  }\n\n  setHostDomain(position, domain) {\n    const host = this.getRootNode().host; // Note(cg): this will be chart container.\n    host[`${position}Domain`] = domain;\n  }\n\n  // Note(cg): called by container while registering item.\n  onRegister(item) {\n    if (item.dataProcessType && !this.processType) {\n      this.processType = item.dataProcessType;\n    }\n    if (this._multiData && item.dataChanged) {\n      item.dataChanged(this._multiData, this.transition);\n    }\n  }\n\n  /*\n   * `shallNotify` should return true to actually render the component\n   */\n  shallNotify(data) {\n    return !!data;\n  }\n\n  _callDataChanged() {\n    if (this.shallNotify(this._multiData)) {\n      this.callRegistered('dataChanged', this._multiData, this.transition);\n    }\n  }\n\n  getOrdinalDomain(data, keyAccessor, valueAccessor, continuous) {\n    // Note(cg): for continuous scales (e.g. timeseries), domain is [min, max].\n    let map = [];\n    if (keyAccessor) {\n      data.forEach((d, i) => {\n        d.__key__ = keyAccessor(d, i);\n        if (valueAccessor) {\n          d.__value__ = valueAccessor(d, i);\n        }\n        map.push(d.__key__);\n      });\n    } else {\n      map = range(data.length);\n\n    }\n    if (continuous) {\n      map = [map[0], map[map.length - 1]];\n    }\n    return map;\n  }\n}\n\nexport default MultiSerieGroup","import { html } from 'lit-element';\nimport { default as MultiContainer } from '../container/multi-container.js';\nimport  { Pie, Arc }  from '../d3-wrapper/d3-shape.js';\n\n/**\n * ## MultiChartPie\n *\n *\n * @element multi-chart-pie\n * \n **/\nclass MultiChartPie extends MultiContainer {\n    \n    getContentRender() {\n    \n      return html`\n        <multi-drawable-pie \n          .log=\"${this.log}\"\n          .transition=\"${this.transition}\" \n          .value=\"${this.value}\" \n          .valuePath=\"${this.valuePath}\" \n          .padAngle=\"${this.padAngle}\" \n          .sort=\"${this.sort}\" \n          .sortValues=\"${this.sortValues}\" \n          .innerRadius=\"${this.innerRadius}\" \n          .outerRadius=\"${this.outerRadius}\" \n          .cornerRadius=\"${this.cornerRadius}\" \n          .pieWidth=\"${this.pieWidth}\" \n          .colorScale=\"${this.colorScale}\"\n        ></multi-drawable-pie>\n    `;\n  }\n\n\n  static get properties() {\n    return {\n\n      ...super.properties,\n\n      ...Pie.properties,\n\n      ...Arc.properties,\n\n\n      valuePath: {\n        type: String,\n        attribute: 'value-path'\n      },\n\n      /**\n       * `pieWidth` a way to indicate the width of the radius (either in % or absolute value). \n       * If set, inner radius will be inferred.\n       */\n      pieWidth: {\n        type: String,\n        attribute: 'pie-width'\n      }\n\n    };\n  }\n}\n\nexport default MultiChartPie;\n","import { html } from 'lit-element';\n// import { html } from '/node_modules/lit-element/lit-element.js';\n// import '../drawable/multi-drawable-line.js';\nimport { default as MultiContainer } from '../container/multi-container-axis.js';\nimport { Line } from '../d3-wrapper/d3-shape.js';\n\n/**\n * ## MultiChartLine\n *\n * `<multi-chart-line>` an element for displaying data as a line chart.\n *\n * ### Example\n *\n * ```html\n *    <multi-chart-line\n *        id=\"chart\"\n *        color-scale=\"[[colorScale]]\"\n *        data=\"[[data]]\"\n *        left-tick-format=\"[[leftTickFormat]]\">\n *      <dom-repeat items=\"{{keys}}\">\n *        <template>\n *         <!-- set the series inthe markup. We can also pass a series object directly to the chart. -->\n *         <multi-serie key=\"[[item.key]]\" label=\"[[item.label]]\" accessor=\"{{item.accessor}}\"></multi-serie>\n *         <!-- we need a accessor for y-scale -->\n *         <multi-accessor accessor=\"{{item.accessor}}\" path=\"+value.[[item.key]]\"></multi-accessor>\n *        </template>\n *      </dom-repeat>\n *    </multi-chart-line>\n * ```\n\n **/\nclass MultiChartLine extends MultiContainer {\n\n  getContentRender() {\n    return html`\n      ${super.getContentRender()}\n      <multi-drawable-line \n         id=\"drawable\"\n         .log=\"${this.log}\"\n         .colorScale=\"${this.colorScale}\"\n         .x=\"${this.x}\"\n         .y=\"${this.y}\"\n      ></multi-drawable-line>\n    `;\n  }\n\n  constructor() {\n    super();\n    this.addEventListener('data-group-rescaled', this.onDataGroupRescaled);\n  }\n\n  onDataGroupRescaled(e) {\n    this.log && console.log('data-group-rescaled', e);\n    this.x = this.getAccessor(e.detail.xScale, e.detail.xAccessor);\n    this.y = this.getAccessor(e.detail.yScale, e.detail.yAccessor);\n  }\n\n  static get properties() {\n    return {\n      ...super.properties,\n\n      ...Line.properties,\n\n      bottomScaleType: {\n        type: String,\n        value: 'point'\n      }\n    };\n  }\n\n}\n\nexport default MultiChartLine;\n","export default {\n  \n  /* \n   * `min` min value for the domain\n   */\n  min: {\n    type: Object,\n    notify: true\n  },\n\n  /* \n   * `min` min value for the domain\n   */\n  max: {\n    type: Object,\n    notify: true\n  }\n\n  \n};","import { html } from 'lit-element';\n// import '../drawable/multi-drawable-line.js';\nimport { default as MultiContainer } from '../container/multi-container-axis.js';\nimport { Line } from '../d3-wrapper/d3-shape.js';\nimport { default as Scale } from '../d3-wrapper/d3-scale.js';\nimport { default as Accessor } from '../helper/multi-accessor.js';\nimport { extendProperty } from '../helper/extend-property-mixin.js';\nimport { default as minMax } from '../container/properties/min-max.js'\n\n/**\n * ## MultiChartLine\n *\n * `<multi-chart-line>` an element for displaying data as a line chart. \n * \n * ### Example\n *\n * ```html\n *    <multi-chart-line \n *        id=\"chart\"  \n *        color-scale=\"[[colorScale]]\"\n *        data=\"[[data]]\"\n *        left-tick-format=\"[[leftTickFormat]]\">\n *      <dom-repeat items=\"{{keys}}\">\n *        <template>\n *         <!-- set the series inthe markup. We can also pass a series object directly to the chart. -->\n *         <multi-serie key=\"[[item.key]]\" label=\"[[item.label]]\" accessor=\"{{item.accessor}}\"></multi-serie>\n *         <!-- we need a accessor for y-scale -->\n *         <multi-accessor accessor=\"{{item.accessor}}\" path=\"+value.[[item.key]]\"></multi-accessor>\n *        </template>\n *      </dom-repeat>\n *    </multi-chart-line>   \n * ```\n\n **/\n\nconst zProperties = { ...extendProperty('z', Scale.properties, Accessor.properties, minMax)};\n  \nclass MultiChartLine extends MultiContainer {\n  \n  getContentRender() {\n    return html`\n     ${super.getContentRender()}\n      <d3-scale \n        id=\"zScale\"\n        .scaleType=\"${this.zScaleType}\"\n        .domain=\"${this.zDomain}\"\n        .range=\"${this.zRange}\"\n        @scale-changed=\"${e => this.zScale = e.detail.value}\"\n      ></d3-scale>\n      <multi-accessor \n        .path=\"${this.zPath}\"\n        @accessor-changed=\"${e => this.zAccessor = e.detail.value}\" \n     ></multi-accessor>\n      <multi-drawable-bubble \n         id=\"drawable\"\n         .log=\"${this.log}\"\n         .colorScale=\"${this.colorScale}\"\n         .x=\"${this.x}\"\n         .y=\"${this.y}\"\n         .z=\"${this.getAccessor(this.zScale, this.zAccessor)}\"\n      ></multi-drawable-bubble>\n    `\n  }\n\n  constructor() {\n    super();\n    this.addEventListener('data-group-rescaled', this.onDataGroupRescaled);\n  }\n\n  onDataGroupRescaled(e) {\n    this.x = this.getAccessor(e.detail.xScale, e.detail.xAccessor) ;\n    this.y = this.getAccessor(e.detail.yScale, e.detail.yAccessor) ;\n  }\n\n  // updated(props) {\n  //   super.updated(props)\n  //   if((props.has('zScale') && this.zScale) || props.has('zAccessor') && this.zAccessor) {\n  //     this.z = this.getAccessor(this.zScale, this.zAccessor) ;\n  //   }\n  // }\n\n  static get properties() {\n    return {\n      ...super.properties,\n\n      ...Line.properties,\n\n      ...zProperties,\n\n      zScaleType: {\n        type: String, \n        value: 'sqrt'\n      },\n\n      zScale: {\n        type: Function\n      },\n\n      bottomScaleType: {\n        type: String,\n        value: 'point'\n      }\n    };\n  }\n\n}\n\nexport default MultiChartLine;","import { html } from 'lit-element';\nimport { default as MultiContainer } from '../container/multi-container-axis.js';\nimport { Stack } from '../d3-wrapper/d3-shape.js';\n\n/**\n * ## MultiChartBar\n *\n * `<multi-chart-line>` an element for displaying data as a line chart. \n * \n * ### Example (Polymer)\n *\n * ```html\n *    <multi-chart-bar \n *        color-scale=\"[[colorScale]]\"\n *        data=\"[[data]]\"\n *        left-tick-format=\"[[leftTickFormat]]\">\n *      <dom-repeat items=\"{{keys}}\">\n *        <template>\n *         <!-- set the series inthe markup. We can also pass a series object directly to the chart. -->\n *         <multi-serie key=\"[[item.key]]\" label=\"[[item.label]]\" accessor=\"{{item.accessor}}\"></multi-serie>\n *         <!-- we need a accessor for y-scale -->\n *         <multi-accessor accessor=\"{{item.accessor}}\" path=\"+value.[[item.key]]\"></multi-accessor>\n *        </template>\n *      </dom-repeat>\n *    </multi-chart-bar>   \n * ```\n *\n * @element multi-chart-bar\n\n **/\nclass MultiBarLine extends MultiContainer {\n  \n  getContentRender() {\n    return html`\n      ${super.getContentRender()}\n      <multi-drawable-bar \n         id=\"drawable\"\n         .log=\"${this.log}\"\n         .colorScale=\"${this.colorScale}\"\n         .value=\"${this.value}\" \n         .valuePath=\"${this.valuePath}\" \n         .keys=\"${this.keys}\" \n         .order=\"${this.order}\" \n         .offset=\"${this.offset}\" \n         .stacked=\"${this.stacked}\"\n         .xScale=\"${this.xScale}\"\n         .yScale=\"${this.yScale}\"\n      ></multi-drawable-bar>\n    `\n  }\n\n  constructor() {\n    super();\n    this.addEventListener('data-group-rescaled', this.onDataGroupRescaled);\n  }\n\n  onDataGroupRescaled(e) {\n    this.log && console.log('data-group-rescaled for Bar', e);\n    this.xScale = e.detail.xScale;\n    this.yScale = e.detail.yScale;\n  }\n\n  static get properties() {\n    return {\n\n      ...super.properties,\n\n      ...Stack.properties,\n\n      /*\n       * `stacked` if true, draw a stack chart, otherwise, default bar chart\n       */\n      stacked: {\n        type: Boolean\n      },\n      /*\n       * `valuePath` we can pass a value path to calculate value accessor\n       */\n      valuePath: {\n        type: String,\n        attribute: 'value-path'\n      },\n\n      /**\n       * scale type for bottom axis. For a bar chart, it is \n       * set as `band` as default.\n       */\n      bottomScaleType: {\n        type: String,\n        value: 'band',\n        attribute: 'bottom-scale-type'\n      }\n    };\n  }\n\n}\n\nexport default MultiBarLine;\n","import { html } from 'lit-element';\nimport { default as MultiContainerRadar } from '../container/multi-container-radar.js';\nimport { scaleLinear, scaleOrdinal } from 'd3-scale';\nimport { curveCardinalClosed } from 'd3-shape';\nimport { LineRadial }  from '../d3-wrapper/d3-shape.js';\n\n\n/**\n * ## Radar Chart\n * A radar chart is a graphical method of displaying multivariate data in the form of a two-dimensional chart of three or more quantitative variables represented on axes starting from the same point. The relative position and angle of the axes is typically uninformative, but various heuristics, such as algorithms that plot data as the maximal total area, can be applied to sort the variables (axes) into relative positions that reveal distinct correlations, trade-offs, and a multitude of other comparative measures.\n *\n * @element multi-chart-radar\n */\nclass MultiChartRadar extends MultiContainerRadar {\n\n  getContentRender() {\n\n    return html `\n       ${super.getContentRender()}\n       <multi-drawable-radar \n         id=\"drawable\"\n         .log=\"${this.log}\"\n         .colorScale=\"${this.colorScale}\"\n         .angle=\"${this.angle}\"\n         .radius=\"${this.radius}\"\n         .curve=\"${curveCardinalClosed.tension(this.tension)}\"\n      ></multi-drawable-radar>\n    `;\n  }\n\n\n  static get properties() {\n    return {\n\n      ...super.properties,\n\n      ...LineRadial.properties,\n\n      /*\n       * `tension` tension for [curveCardinalClosed](https://github.com/d3/d3-shape#curveCardinalClosed)\n       * value between 0 an 1.\n       */\n      tension: {\n        type: Number,\n        value: 0.6\n      }\n    };\n  }\n\n  constructor() {\n    super();\n    this.addEventListener('data-group-rescaled', this.onDataGroupRescaled);\n  }\n \n  onDataGroupRescaled(e) {\n    this.log && console.log('data-group-rescaled', e);\n    const angleScale = scaleLinear().domain([0, this.axes.length]).range([0, 2 * Math.PI]);\n    this.angle = this.getAccessor(angleScale, e.detail.xAccessor);\n    this.radius = this.getAccessor(e.detail.yScale, e.detail.yAccessor);\n  }\n}\n\nexport default MultiChartRadar;\n","import { LitElement, html } from 'lit-element';\nimport { DefaultValueMixin, DoNotSetUndefinedValue } from '@preignition/preignition-mixin';\nimport { default as FormatMixin } from './d3-format-mixin.js';\nimport * as format from 'd3-format';\nimport * as time from 'd3-time-format';\n\n/**\n * ## d3-format\n *\n *  A lit-element wrapper around [d3-format](https://github.com/d3/d3-format).\n *  d3-format helps format numbers for human consumption. See also https://observablehq.com/@d3/d3-format.\n \n * ### Example\n * `<d3-format specifier=\".1f\" value=\"12.2135\"></d3-format>` will display `12.2`.\n *\n * ### Examples from [d3-format](https://github.com/d3/d3-format)\n * ```js\n * d3.format(\".0%\")(0.123);  // rounded percentage, \"12%\"\n * d3.format(\"($.2f\")(-3.5); // localized fixed-point currency, \"(3.50)\"\n * d3.format(\"+20\")(42);     // space-filled and signed, \"                 +42\"\n * d3.format(\".^20\")(42);    // dot-filled and centered, \".........42.........\"\n * d3.format(\".2s\")(42e6);   // SI-prefix with two significant digits, \"42M\"\n * d3.format(\"#x\")(48879);   // prefixed lowercase hexadecimal, \"0xbeef\"\n * d3.format(\",.2r\")(4223);  // grouped thousands with two significant digits, \"4,200\"\n * ```\n *\n * @element d3-format\n **/\nclass D3Format extends\nDefaultValueMixin(\n  DoNotSetUndefinedValue(\n    FormatMixin(\n      LitElement))) {\n\n  render() {\n    return html `${this.value !== undefined && this.value !== '' ? this._format(this.isTime ? new Date(this.value) : this.value) : ''}`;\n  }\n\n  static get properties() {\n    return {\n\n      /*\n       * the value to be formated\n       */\n      value: {\n        type: String\n      }\n\n    };\n  }\n}\n\nexport default D3Format;\n","function responseBlob(response) {\n  if (!response.ok) throw new Error(response.status + \" \" + response.statusText);\n  return response.blob();\n}\n\nexport default function(input, init) {\n  return fetch(input, init).then(responseBlob);\n}\n","function responseArrayBuffer(response) {\n  if (!response.ok) throw new Error(response.status + \" \" + response.statusText);\n  return response.arrayBuffer();\n}\n\nexport default function(input, init) {\n  return fetch(input, init).then(responseArrayBuffer);\n}\n","var EOL = {},\n    EOF = {},\n    QUOTE = 34,\n    NEWLINE = 10,\n    RETURN = 13;\n\nfunction objectConverter(columns) {\n  return new Function(\"d\", \"return {\" + columns.map(function(name, i) {\n    return JSON.stringify(name) + \": d[\" + i + \"] || \\\"\\\"\";\n  }).join(\",\") + \"}\");\n}\n\nfunction customConverter(columns, f) {\n  var object = objectConverter(columns);\n  return function(row, i) {\n    return f(object(row), i, columns);\n  };\n}\n\n// Compute unique columns in order of discovery.\nfunction inferColumns(rows) {\n  var columnSet = Object.create(null),\n      columns = [];\n\n  rows.forEach(function(row) {\n    for (var column in row) {\n      if (!(column in columnSet)) {\n        columns.push(columnSet[column] = column);\n      }\n    }\n  });\n\n  return columns;\n}\n\nfunction pad(value, width) {\n  var s = value + \"\", length = s.length;\n  return length < width ? new Array(width - length + 1).join(0) + s : s;\n}\n\nfunction formatYear(year) {\n  return year < 0 ? \"-\" + pad(-year, 6)\n    : year > 9999 ? \"+\" + pad(year, 6)\n    : pad(year, 4);\n}\n\nfunction formatDate(date) {\n  var hours = date.getUTCHours(),\n      minutes = date.getUTCMinutes(),\n      seconds = date.getUTCSeconds(),\n      milliseconds = date.getUTCMilliseconds();\n  return isNaN(date) ? \"Invalid Date\"\n      : formatYear(date.getUTCFullYear(), 4) + \"-\" + pad(date.getUTCMonth() + 1, 2) + \"-\" + pad(date.getUTCDate(), 2)\n      + (milliseconds ? \"T\" + pad(hours, 2) + \":\" + pad(minutes, 2) + \":\" + pad(seconds, 2) + \".\" + pad(milliseconds, 3) + \"Z\"\n      : seconds ? \"T\" + pad(hours, 2) + \":\" + pad(minutes, 2) + \":\" + pad(seconds, 2) + \"Z\"\n      : minutes || hours ? \"T\" + pad(hours, 2) + \":\" + pad(minutes, 2) + \"Z\"\n      : \"\");\n}\n\nexport default function(delimiter) {\n  var reFormat = new RegExp(\"[\\\"\" + delimiter + \"\\n\\r]\"),\n      DELIMITER = delimiter.charCodeAt(0);\n\n  function parse(text, f) {\n    var convert, columns, rows = parseRows(text, function(row, i) {\n      if (convert) return convert(row, i - 1);\n      columns = row, convert = f ? customConverter(row, f) : objectConverter(row);\n    });\n    rows.columns = columns || [];\n    return rows;\n  }\n\n  function parseRows(text, f) {\n    var rows = [], // output rows\n        N = text.length,\n        I = 0, // current character index\n        n = 0, // current line number\n        t, // current token\n        eof = N <= 0, // current token followed by EOF?\n        eol = false; // current token followed by EOL?\n\n    // Strip the trailing newline.\n    if (text.charCodeAt(N - 1) === NEWLINE) --N;\n    if (text.charCodeAt(N - 1) === RETURN) --N;\n\n    function token() {\n      if (eof) return EOF;\n      if (eol) return eol = false, EOL;\n\n      // Unescape quotes.\n      var i, j = I, c;\n      if (text.charCodeAt(j) === QUOTE) {\n        while (I++ < N && text.charCodeAt(I) !== QUOTE || text.charCodeAt(++I) === QUOTE);\n        if ((i = I) >= N) eof = true;\n        else if ((c = text.charCodeAt(I++)) === NEWLINE) eol = true;\n        else if (c === RETURN) { eol = true; if (text.charCodeAt(I) === NEWLINE) ++I; }\n        return text.slice(j + 1, i - 1).replace(/\"\"/g, \"\\\"\");\n      }\n\n      // Find next delimiter or newline.\n      while (I < N) {\n        if ((c = text.charCodeAt(i = I++)) === NEWLINE) eol = true;\n        else if (c === RETURN) { eol = true; if (text.charCodeAt(I) === NEWLINE) ++I; }\n        else if (c !== DELIMITER) continue;\n        return text.slice(j, i);\n      }\n\n      // Return last token before EOF.\n      return eof = true, text.slice(j, N);\n    }\n\n    while ((t = token()) !== EOF) {\n      var row = [];\n      while (t !== EOL && t !== EOF) row.push(t), t = token();\n      if (f && (row = f(row, n++)) == null) continue;\n      rows.push(row);\n    }\n\n    return rows;\n  }\n\n  function preformatBody(rows, columns) {\n    return rows.map(function(row) {\n      return columns.map(function(column) {\n        return formatValue(row[column]);\n      }).join(delimiter);\n    });\n  }\n\n  function format(rows, columns) {\n    if (columns == null) columns = inferColumns(rows);\n    return [columns.map(formatValue).join(delimiter)].concat(preformatBody(rows, columns)).join(\"\\n\");\n  }\n\n  function formatBody(rows, columns) {\n    if (columns == null) columns = inferColumns(rows);\n    return preformatBody(rows, columns).join(\"\\n\");\n  }\n\n  function formatRows(rows) {\n    return rows.map(formatRow).join(\"\\n\");\n  }\n\n  function formatRow(row) {\n    return row.map(formatValue).join(delimiter);\n  }\n\n  function formatValue(value) {\n    return value == null ? \"\"\n        : value instanceof Date ? formatDate(value)\n        : reFormat.test(value += \"\") ? \"\\\"\" + value.replace(/\"/g, \"\\\"\\\"\") + \"\\\"\"\n        : value;\n  }\n\n  return {\n    parse: parse,\n    parseRows: parseRows,\n    format: format,\n    formatBody: formatBody,\n    formatRows: formatRows,\n    formatRow: formatRow,\n    formatValue: formatValue\n  };\n}\n","import dsv from \"./dsv.js\";\n\nvar csv = dsv(\",\");\n\nexport var csvParse = csv.parse;\nexport var csvParseRows = csv.parseRows;\nexport var csvFormat = csv.format;\nexport var csvFormatBody = csv.formatBody;\nexport var csvFormatRows = csv.formatRows;\nexport var csvFormatRow = csv.formatRow;\nexport var csvFormatValue = csv.formatValue;\n","import dsv from \"./dsv.js\";\n\nvar tsv = dsv(\"\\t\");\n\nexport var tsvParse = tsv.parse;\nexport var tsvParseRows = tsv.parseRows;\nexport var tsvFormat = tsv.format;\nexport var tsvFormatBody = tsv.formatBody;\nexport var tsvFormatRows = tsv.formatRows;\nexport var tsvFormatRow = tsv.formatRow;\nexport var tsvFormatValue = tsv.formatValue;\n","function responseText(response) {\n  if (!response.ok) throw new Error(response.status + \" \" + response.statusText);\n  return response.text();\n}\n\nexport default function(input, init) {\n  return fetch(input, init).then(responseText);\n}\n","import {csvParse, dsvFormat, tsvParse} from \"d3-dsv\";\nimport text from \"./text\";\n\nfunction dsvParse(parse) {\n  return function(input, init, row) {\n    if (arguments.length === 2 && typeof init === \"function\") row = init, init = undefined;\n    return text(input, init).then(function(response) {\n      return parse(response, row);\n    });\n  };\n}\n\nexport default function dsv(delimiter, input, init, row) {\n  if (arguments.length === 3 && typeof init === \"function\") row = init, init = undefined;\n  var format = dsvFormat(delimiter);\n  return text(input, init).then(function(response) {\n    return format.parse(response, row);\n  });\n}\n\nexport var csv = dsvParse(csvParse);\nexport var tsv = dsvParse(tsvParse);\n","function responseJson(response) {\n  if (!response.ok) throw new Error(response.status + \" \" + response.statusText);\n  return response.json();\n}\n\nexport default function(input, init) {\n  return fetch(input, init).then(responseJson);\n}\n","import text from \"./text\";\n\nfunction parser(type) {\n  return function(input, init)  {\n    return text(input, init).then(function(text) {\n      return (new DOMParser).parseFromString(text, type);\n    });\n  };\n}\n\nexport default parser(\"application/xml\");\n\nexport var html = parser(\"text/html\");\n\nexport var svg = parser(\"image/svg+xml\");\n","export default function(input, init) {\n  return new Promise(function(resolve, reject) {\n    var image = new Image;\n    for (var key in init) image[key] = init[key];\n    image.onerror = reject;\n    image.onload = function() { resolve(image); };\n    image.src = input;\n  });\n}\n","import { MultiNotify } from '../base-class.js';\n\nimport * as fetch from 'd3-fetch';\n\n/**\n * ## d3-fetch\n *\n * A wrapper aroud [d3-fetch](https://github.com/d3/d3-fetch), a module providing convenient parsing on top of [Fetch](https://fetch.spec.whatwg.org/).\n *\n * @fires loading-changed - Event fired when loading property changes\n * @fires data-changed - Event fired when data is set\n * @fires error-changed - Event fired when there is an error\n * @element d3-fetch\n */\nclass Fetch extends MultiNotify {\n\n  static get properties() {\n\n    return {\n\n      /*\n       * expected data type\n       * @type {'blob'|'buffer'|'csv'|'dsv'|'html'|'image'|'json'|'svg'|'text'|'tsv'|'xml'}\n       */\n      type: {\n        type: String\n      },\n\n      /*\n       * the url to fetch data from\n       */\n      url: {\n        type: String\n      },\n\n      /*\n       * `loading` true when loading\n       */\n      loading: {\n        type: Boolean,\n        value: false,\n        notify: true\n      },\n\n      /*\n       * `data` fetched data\n       */\n      data: {\n        type: Array,\n        notify: true,\n        attribute: false\n      },\n\n      /*\n       * `error`\n       */\n      error: {\n        type: Object,\n        notify: true\n      }\n    };\n  }\n\n  update(props) {\n    this.log && console.info(`d3-fetch ${this.type} update`, props);\n    super.update(props);\n    if (!this.type && !props.has('type')) {\n      this.type = 'json';\n    }\n\n    if (!this.fetcher || props.has('type')) {\n      this.fetcher = fetch[this.type];\n    }\n\n    if (props.has('url')) {\n      if (this.url) {\n        this.loading = true;\n        this.fetcher(this.url)\n          .then(data => {\n            this.loading = false;\n            this.error = null;\n            this.data = data;\n          })\n          .catch(error => {\n            this.log && console.error(error);\n            this.loading = false;\n            this.error = error;\n            this.data = null;\n          });\n      } else {\n        this.error = null;\n        this.data = null;\n      }\n    }\n  }\n}\n\nexport default Fetch;\n","import { LitElement, html } from 'lit-element';\nimport { default as Registerable } from '../helper/multi-registerable-mixin.js';\nimport { DefaultValueMixin, DoNotSetUndefinedValue } from '@preignition/preignition-mixin';\n\nclass MultiSerie extends\nRegisterable(\n  DefaultValueMixin(\n    DoNotSetUndefinedValue(\n      LitElement))) {\n\n  /* \n   * `registerEventDispatch`  the name of the event to be fired when connected. \n   * A container with multi-register-mixin applied \n   * will listen to this event to register the component.\n   *\n   * @override Registerable\n   */\n  get registerEventDispatch() {\n    return 'multi-serie-register'\n  }\n\n  render() {\n    return html `\n        ${this.path ? this.getPathRender() : ''}\n        ${this.keyPath ? this.getKeyPathRender() : ''}\n      `;\n  }\n  getPathRender() {\n    return html `\n       <multi-accessor \n        @accessor-changed=\"${ e => {this.accessor = e.detail.value}}\"\n        path=\"${this.path}\" \n        ></multi-accessor>\n    `;\n  }\n  getKeyPathRender() {\n    return html `\n       <multi-accessor \n        @accessor-changed=\"${ e => this.keyAccessor = e.detail.value}\"\n        path=\"${this.keyPath}\" \n        ></multi-accessor>\n    `;\n  }\n\n\n  static get properties() {\n\n    return {\n\n      ...super.properties,\n\n      /* \n       * `key` the key used for this data serie\n       */\n      key: { type: String },\n\n\n      /* \n       * `label` a label describing the serie\n       */\n      label: { type: String },\n\n      /**\n       * `path` the path from which the value accessor function is built\n       * For instance `+value.count` will create `d => {return +d.value.count}` function.\n       */\n      path: { type: String , reflect: true},\n\n      subPath: { type: Boolean },\n\n      /* \n       * `accessor` the accessor function for transforming data. \n       */\n      accessor: { \n        type: Function\n      },\n\n      /**\n       * `keyPath` the path from which the key accessor function is built\n       * For instance `key` will create `d => {return d.key}` function.\n       */\n      keyPath: {\n        type: String,\n        attribute: 'key-path'\n      },\n\n      /* \n       * `keyAccessor` the accessor function for accessiong key. \n       * Data will be reshaped as  `[{key: key, label: label, value: data.map(d=>accessor(d))}]\n       */\n      keyAccessor: {\n        type: Function,\n        attribute: 'key-accessor'\n      },\n\n      /* \n       * `group` name of the group against which this serie is registeredthe serie\n       */\n      group: { type: String }\n\n\n    }\n  }\n}\n\nexport default MultiSerie","import { dedupingMixin } from '@polymer/polymer/lib/utils/mixin.js';\nimport { select } from 'd3-selection';\n/**\n * ##  TrackHover\n * \n * track which element is being hovered\n * \n * @memberof MultiChart.mixin\n * @polymer\n * @mixinFunction\n */\nconst TrackHover = dedupingMixin(superClass => {\n\n  return class extends superClass {\n\n    static get properties() {\n      return {\n\n        ...super.properties,\n\n        /* \n         * `trackHover` set true if selector listen to mouseenter/mouseleave events and set hoveredItem accordingly. \n         * When true, this element also and fires `multi-mouseenter` and multi-mouseleave. \n         */\n        trackHover: {\n          type: Boolean,\n          value: false\n        },\n\n        /* \n         * `hovered` the hovered item, tracked when `trackHover` is set to true. \n         * This is usefull for instance when we want to highlight the legend being hovered\n         */\n        hovered: {\n          type: String,\n          notify: true,\n          observer: '_observerHovered'\n        },\n      };\n    }\n\n    /* \n     * `attachListeners` listen to click, mouseenter and mouseleave and \n     * fires their respective `multi` events (`multi-tap`, `multi-mouse-enter` and `multi-mouse-leave`)\n     */\n    attachListeners(sel) {\n      const me = this;\n      if (this.trackHover) {\n        sel\n          .on('mouseenter', function(d, i) { me.onMouseenter(d, i, this); })\n          .on('mouseleave', function(d, i) { me.onMouseleave(d, i, this); });\n      }\n    }\n\n    detatchListeners(sel) {\n      sel\n        .on('mouseenter', null)\n        .on('mouseleave', null);\n    }\n\n    onMouseenter(d, i, el) {\n      this.hovered = this.getKey(d, el);\n      this.dispatchEvent(new CustomEvent('multi-mouseenter', { detail: { data: d, index: i, element: el }, bubbles: true, composed: true }));\n    }\n\n    onMouseleave(d, i, el) {\n      this.hovered = null;\n      this.dispatchEvent(new CustomEvent('multi-mouseleave', { detail: { data: d, index: i, element: el }, bubbles: true, composed: true }));\n    }\n\n    getKey(d) {\n      return d.data ? d.data.key : d.key ? d.key : d;\n    }\n\n    /* \n     * `_observerHoveredItem` add `.hovered` class to all items with same key as hovered\n     */\n    _observerHovered(hovered) {\n      if (this.svgHost) {\n        const me = this;\n        select(this.svgHost).attr('is-hovered', hovered ? true : null);\n        select(this.svgHost.renderRoot).selectAll('.selectable, .cell')\n          .attr('hovered', function(d) {\n            return me.getKey(d, this) === hovered ? true : null;\n          });\n      }\n    }\n  };\n});\n\nexport default TrackHover;","import { html, css } from 'lit-element'\nimport { timeOut } from '@polymer/polymer/lib/utils/async.js';\nimport { Debouncer } from '@polymer/polymer/lib/utils/debounce.js';\nimport { default as Registerable } from './multi-registerable-mixin.js';\nimport { default as DispatchSVG } from './dispatch-svg-mixin.js';\nimport { default as Legend } from '../d3-wrapper/d3-legend.js';\nimport { RelayTo, CacheId } from '@preignition/preignition-mixin';\nimport { MultiChartBase } from '../base-class.js';\nimport { default as TrackHover } from './track-hover-mixin.js';\nimport { select } from 'd3-selection';\n\n/**\n * ## MultiLegend\n *\n * `<multi-legend>` a element for displaying chart legends\n * Relying on [d3-legend](https://d3-legend.susielu.com/), A library to make legends in svg-land easy as pie.\n *\n * @element multi-legend\n *\n * @cssprop --multi-legend-color -  text color for legends (#292929)\n * @cssprop --multi-legend-background -  background color for legenx box (`#efefef`)\n * @cssprop --multi-legend-stroke -  stroke color for legend box\n * @cssprop --multi-legend-opacity -  opacity for legend box  (`0.6`)\n *\n * @fires width-changed - Event fired when width changes\n * @fires height-changed - Event fired when height changes\n *\n **/\nclass MultiLegend extends\nDispatchSVG(\n  TrackHover(\n    RelayTo(\n      CacheId(\n        Registerable(\n          MultiChartBase))))) {\n\n  // Note(cg): style to add to svghost while dispatching SVG.\n  static get hostStyles() {\n    return css `\n\n    #legend.legend .legendCells {\n      fill: var(--multi-legend-color, #292929);\n    }\n\n    #legend .legendTitle {\n      transform: translate(0px,12px);\n    }\n\n    #legendRect {\n      pointer-events: none;\n      fill: var(--multi-legend-background, #efefef);\n      stroke: var(--multi-legend-stroke, none);\n      opacity: var(--multi-legend-opacity, 0.6);\n    }`;\n  }\n\n  render() {\n    return html `\n\n    <d3-legend\n      id=\"d3-legend\"\n      @legend-changed=\"${e => this.setLegend(e.detail.value)}\"\n     ></d3-legend>\n\n    <svg>\n      <rect id=\"legendRect\" opacity=\"${this._opacity}\"  slot-svg=\"slot-legend\" class=\"legend-rect\"></rect>\n      <g id=\"legend\" part=\"legend\" opacity=\"${this._opacity}\" slot-svg=\"slot-legend\" transform=\"translate(${this._x || 0},${this._y || 0})scale(${this.scaleFactor || 1})\" class=\"legend\"></g>\n    </svg>\n`;\n  }\n\n\n  static get properties() {\n    return {\n\n      ...super.properties,\n\n      ...Legend.properties,\n\n      /**\n       * legend `type` the type of legend \n       * @type {'color'|'size'|'symbol'}\n       * for instantiating the legend ([d3-legend](http://d3-legend.susielu.com/).\n       */\n      type: {\n        type: String,\n        value: 'color'\n      },\n\n      /**\n       * legend width\n       */\n      width: {\n        type: Number,\n        notify: true\n      },\n\n      /**\n       * legend height\n       */\n      height: {\n        type: Number,\n        notify: true\n      },\n\n      /**\n       * opacity used to hide legend before its size is \n       * computed \n       */\n      _opacity: {\n        type: Number,\n        value: 0\n      },\n\n      /*\n       * `retOffset` the offset for legend rect\n       */\n      rectOffset: {\n        type: Number,\n        attribute: 'rect-offset',\n        value: 5\n      },\n\n      /**\n       * factor between 0 to 1 to help make legend smaller\n       */\n      scaleFactor: {\n        type: Number,\n        attribute: 'scale-factor',\n        value: 0.7\n      },\n\n      /**\n       * `position` this position within the chart. e.g. top-right, bottom-left\n       * position is recalculated on resize.\n       */\n      position: {\n        type: String,\n        value: 'top-right'\n      },\n\n      /**\n       * `padding` the padding to be applied when calculation the position\n       */\n      padding: {\n        type: Number,\n        value: 10\n      },\n\n      /**\n       * x position\n       */\n      _x: {\n        type: Number,\n        value: 0\n      },\n\n      /**\n       * y position\n       */\n      _y: {\n        type: Number,\n        value: 0\n      },\n\n    };\n  }\n\n  /**\n   * From RelayTo mixin, used to automatically relay properties to child components\n   */\n  shallRelayTo(key, name) {\n    if (name === 'd3-legend') {\n      return Legend.properties[key];\n    }\n  }\n\n  update(props) {\n    super.update(props);\n    this.relayTo(props, 'd3-legend');\n  }\n\n  updated(props) {\n    super.updated(props);\n    if (props.has('position')) {\n      this.debounceDraw();\n    }\n  }\n\n  resize() {\n    this.debounceDraw();\n  }\n\n  debounceDraw() {\n    this._debounceDraw = Debouncer.debounce(\n      this._debounceDraw, // initially undefined\n      timeOut.after(10),\n      () => {\n        this.draw(this._shaped);\n        // this._isDrawn = true;\n      });\n  }\n\n  dataChanged() {\n    this.debounceDraw();\n  }\n\n  draw() {\n    if (!this._isDrawn) {\n      setTimeout(() => {\n        // Note(cg): async as we need to make sure legend is drawn before we can calculate real size and adjust position.\n        // this.selectShadow('#legend').call(this.legend);\n        select(this.$.legend).call(this.legend);\n        setTimeout(() => { this.setPosition(); }, 400);\n      }, 50);\n    } else {\n      setTimeout(() => { this.setPosition(); }, 60);\n    }\n  }\n\n  setLegend(legend) {\n    if (legend) {\n      legend.on('cellclick', d => {\n        this.dispatchEvent(new CustomEvent('multi-cell-click', { detail: d, bubbles: true, composed: true }));\n      });\n      legend.on('cellover', d => { this.hovered = d; });\n      legend.on('cellout', d => { this.hovered = null; });\n      this.legend = legend;\n      this.debounceDraw();\n    }\n  }\n\n  setPosition() {\n\n    // const legendEl = this.queryShadow('#legend');\n    const legendEl = this.$.legend;\n    const size = legendEl.getBoundingClientRect();\n    //if (!size.width || !size.height || !this.svgHost) {\n    if (!size.width || !size.height) {\n      return;\n    }\n\n    const position = this.position;\n    const isRight = ~position.indexOf('right');\n    const isBottom = ~position.indexOf('bottom');\n\n    const chartSize = legendEl.ownerSVGElement.getBoundingClientRect();\n\n    this._y = this.rectOffset + this.padding;\n    this._x = this.rectOffset + this.padding;\n\n    if (isRight) {\n      // console.info('SIZE: ', size,chartWidth, padding )\n      this._x = chartSize.width - size.width - this.padding + this.rectOffset;\n    }\n\n\n    if (isBottom) {\n      this._y = chartSize.height - size.height - this.padding + this.rectOffset;\n    }\n    this._isDrawn = true;\n    this._opacity = 1;\n    select(this.$.legendRect)\n      .attr('transform', `translate(${this._x - this.rectOffset}, ${this._y - this.rectOffset})`)\n      .attr('width', size.width + 2 * this.rectOffset)\n      .attr('height', size.height + 2 * this.rectOffset - 3);\n\n    this.width = size.width;\n    this.height = size.height;\n  }\n}\n\nexport default MultiLegend;\n","import { css } from 'lit-element';\nimport { select, selectAll } from 'd3-selection';\nimport { MultiChartBase } from '../base-class.js';\n// import { LitNotify } from '@morbidick/lit-element-notify';\n// import { DoNotSetUndefinedValue } from '@preignition/preignition-mixin';\nimport { default as DispatchSVG } from './dispatch-svg-mixin.js';\nimport { default as MultiRegisterable } from './multi-registerable-mixin.js';\nimport { default as TrackHover } from './track-hover-mixin.js';\n\nconst properties = {\n  /**\n   * Gets or sets the selected element. The default is to use the index of the\n   * item.\n   * @type {string|number}\n   */\n  selected: { type: String, notify: true },\n\n  /**\n   * Returns the currently selected item.\n   *\n   * @type {?Object}\n   */\n  selectedItem: { type: Object, notify: true },\n\n  /**\n   * If true, multiple selections are allowed.\n   */\n  multi: { type: Boolean, value: false },\n\n  /**\n   * Gets or sets the selected elements. This is used instead of `selected`\n   * when `multi` is true.\n   */\n  selectedValues: {\n    type: Array,\n    attribute: 'selected-values',\n    notify: true,\n    value: []\n  },\n\n  /**\n   * Returns an array of currently selected items.\n   */\n  selectedItems: {\n    type: Array,\n    attribute: 'selected-items',\n    notify: true,\n    value: []\n  },\n\n  /* \n   * `selecType` for charts that can implement brush and select at the same time (e.g. bar), set 'brush' to acticate brush. \n   * Otherwise, default behavior is 'select'\n   */\n  selectType: {\n    attribute: 'select-tpye',\n    type: String,\n    value: ''\n  }\n\n}\n\n/**\n * ## MultiSelect\n *\n * `<multi-select>` is an element for selecting ranges or chart shapes. \n *  \n *\n * @memberof MultiChart\n * @customElement\n * @polymer\n * @appliesMixin MultiChart.mixin.DispatchSVG\n * @appliesMixin MultiChart.mixin.MultiRegisterable\n * @appliesMixin MultiChart.mixin.TrackHover\n * @demo\n **/\nclass MultiSelect extends\nDispatchSVG(\n  MultiRegisterable(\n    TrackHover(\n      MultiChartBase))) {\n\n  // Note(cg): style to add to svghost while dispatching SVG.\n  static get hostStyles() {\n    return css `\n      .selectable {\n        cursor: pointer;\n      }\n      \n      :host([has-selection]) .selectable {\n        opacity: 0.7;\n      }\n\n      :host([has-selection]) [selected] {\n        opacity: 1;\n      }\n\n      :host([is-hovered]) rect, :host([is-hovered]) .selectable\n      {\n        opacity: 0.7;\n      }    \n\n      :host([is-hovered]) [hovered] rect,  :host([is-hovered]) .selectable[hovered] {\n        opacity: 1;\n      }    \n\n    `\n  }\n\n  static get properties() {\n    return {\n\n      ...super.properties,\n\n      ...properties,\n\n      /**\n       * If you want to use an attribute value or property of an element for\n       * `selected` instead of the index, set this to the name of the attribute\n       * or property. Hyphenated values are converted to camel case when used to\n       * look up the property of a selectable element. Camel cased values are\n       * *not* converted to hyphenated values for attribute lookup. It's\n       * recommended that you provide the hyphenated form of the name so that\n       * selection works in both cases. (Use `attr-or-property-name` instead of\n       * `attrOrPropertyName`.)\n       */\n      attrForSelected: {\n        type: String,\n        attribute: 'attr-for-selected',\n        value: 'key'\n      },\n\n\n      /**\n       * The attribute to set on elements when selected.\n       */\n      selectedAttribute: {\n        type: String,\n        attribute: 'selected-attribute',\n        value: 'selected'\n      }\n    };\n  }\n  /* \n   * `registerOrder` - registerable elements are sorted on the basis of this property. \n   * `multi-select` need to be last in the list of registered items, so that we attach \n   * events after all shapes are drawn.\n   */\n  get registerOrder() {\n    return 100;\n  }\n\n  update(props) {\n    super.update(props)\n    if (props.has('selectedValues')) {\n      this.updateSelectedValues();\n    }\n    if (props.has('selected')) {\n      this.updateSelected();\n    }\n  }\n\n  dataChanged() {\n    this.attachListeners();\n  }\n\n  onDrawn() {\n    this.attachListeners();\n    this.reSelect();\n  }\n\n  reSelect() {\n    if (this.multi) {\n      this.updateSelectedValues(true);\n    } else {\n      this.updateSelected(true);\n    }\n\n    // if (this.selectedItems.length) {\n    //   this.selectedItems.forEach(item => this.select(item));\n    // } else if (this.selected) {\n    //   const s = this.selected;\n    //   this.select(null);\n    //   this.select(s);\n    // }\n\n  }\n\n  postRemove() {\n    this.detatchListeners();\n  }\n\n  /* \n   * `attachListeners` listen to click, mouseenter and mouseleave and \n   * fires their respective `multi` events (`multi-tap`, `multi-mouse-enter` and `multi-mouse-leave`)\n   */\n  attachListeners() {\n    const me = this;\n    const sel = this.selectableItems\n      .on('click', function(d, i) { me.onClick(d, i, this); });\n\n    // attach Listeners in TrackHover\n    if (super.attachListeners) {\n      super.attachListeners(sel);\n    }\n  }\n\n  detatchListeners() {\n    const sel = this.selectableItems.on('click', null);\n\n    // detatch Listeners in TrackHover\n    if (super.detatchListeners) {\n      super.detatchListeners(sel);\n    }\n  }\n\n  getKey(d, el) {\n    const keyHolder = this.attrForSelected;\n    return d.data ? d.data[keyHolder] : d[keyHolder] || d.__key__ || el.getAttribute(keyHolder) || el.dataset[keyHolder] || d;\n  }\n\n  onClick(d, i, el) {\n    // handle selection \n    const key = this.getKey(d, el);\n    if (!key) {\n      this._error(`unable to fetch key`);\n    }\n    if (!this.multi && key === this.selected) {\n      this.select(null);\n    } else {\n      this.select(key);\n    }\n    // let the world know we have a multi-tap event.\n    this.dispatchEvent(new CustomEvent('multi-tap', { detail: { data: d, index: i, element: el }, bubbles: true, composed: true }));\n  }\n\n  select(value) {\n    if (this.multi) {\n      let wasSelected = false;\n      const selectedValues = this.selectedValues.filter(val => {\n        if (val === value) {\n          wasSelected = true;\n          return false\n        }\n        return true\n      })\n      if (!wasSelected) {\n        selectedValues.push(value);\n      }\n      this.selectedValues = selectedValues;\n      return;\n    }\n    this.selected = value;\n  }\n\n  get selectableItems() {\n    return this.svgHost && select(this.svgHost.renderRoot).selectAll('.selectable') || selectAll();\n  }\n\n  updateSelected(silent) {\n    const selected = this.selected;\n    const me = this;\n    let item = null;\n    this.selectableItems.attr(this.selectedAttribute, function(d, i) {\n      if (me.getKey(d, this) === selected) {\n        item = this;\n        return true;\n      }\n      return null;\n    })\n    this.selectedItem = item;\n    this._updateSelected(silent)\n  }\n\n  updateSelectedValues(silent) {\n    const selected = this.selectedValues;\n    const me = this;\n    const items = [];\n    this.selectableItems.attr(this.selectedAttribute, function(d, i) {\n      if (selected.indexOf(me.getKey(d, this)) > -1) {\n        items.push(this);\n        return true;\n      }\n      return null;\n    })\n    this.selectedItems = items;\n    this._updateSelected(silent)\n  }\n\n  get _hasSelection() {\n    return this.multi ? this.selectedValues && this.selectedValues.length : !!this.selected;\n  }\n  /* \n   * `_updateSelected` will set `has-selection` attribute to svgHost. \n   * This is used in multi-container-svg css rules.\n   */\n  _updateSelected(silent) {\n    if (this.svgHost) {\n      select(this.svgHost).attr('has-selection', this._hasSelection ? true : null);\n    }\n    // Note(cg): use multi select event to potentially inform multi-verse elementes that we have a selection\n    // this should not happen when we relesect onDraw (infinite loop otherwise.)\n    if (!silent) {\n      this.dispatchEvent(new CustomEvent('multi-select', {\n        detail: {\n          isRange: false,\n          selection: this.multi ? [...this.selectedValues] : this.selected\n        },\n        bubbles: true,\n        composed: true\n      }));\n    }\n  }\n}\n\nexport default MultiSelect;","import {Selection, root} from \"./selection/index\";\n\nexport default function(selector) {\n  return typeof selector === \"string\"\n      ? new Selection([document.querySelectorAll(selector)], [document.documentElement])\n      : new Selection([selector == null ? [] : selector], root);\n}\n","import { html, css } from 'lit-element';\nimport { select, event as d3Event } from 'd3-selection';\nimport { extent } from 'd3-array';\nimport { scaleLinear } from 'd3-scale';\nimport { MultiChartBase } from '../base-class.js';\nimport { default as DispatchSVG } from './dispatch-svg-mixin.js';\nimport { default as Brush } from '../d3-wrapper/d3-brush.js';\nimport { RelayTo, CacheId } from '@preignition/preignition-mixin';\nimport { default as Registerable } from './multi-registerable-mixin.js';\nimport { camelToDashCase } from '@polymer/polymer/lib/utils/case-map.js';\nimport { microTask } from '@polymer/polymer/lib/utils/async.js';\nimport { Debouncer } from '@polymer/polymer/lib/utils/debounce.js';\n\n\n/**\n * ## MultiBrush\n *\n * `<multi-brush>` implements a brush selection as in  [d3-brush](https://github.com/d3/d3-brush)\n *\n * @element multi-brush\n * @fires selected-values-changed - Event fired when selectedValues changes\n * @fires is-range-changed - Event fired when isRange changes\n * @fires has-selection-changed - Event fired when selection changes\n * \n **/\nclass MultiBrush extends\nDispatchSVG(\n  Registerable(\n    CacheId(\n      RelayTo(\n        MultiChartBase)))) {\n\n  // Note(cg): style to add to svghost while dispatching SVG.\n  static get hostStyles() {\n    return css `\n      #brush rect.extent {\n        fill: steelblue;\n        fill-opacity: .125;\n      }\n\n      #brush .resize path {\n        fill: #eee;\n        stroke: #666;\n      }\n    `;\n  }\n  render() {\n    return html `\n    <d3-brush\n      id=\"d3-brush\"\n      @brush-changed=\"${e => this.setBrush(e.detail.value)}\"\n     ></d3-legend>\n\n    <svg>\n      <g id=\"brush\" slot-svg=\"slot-brush\" class=\"selector brush\">\n      </g>\n    </svg>\n`;\n  }\n\n\n  static get properties() {\n\n    return {\n\n\n      ...super.properties,\n\n      ...Brush.properties,\n\n\n      /**\n       * Returns an array of currently selected items.\n       */\n      selectedValues: {\n        type: Array,\n        notify: true,\n        value: []\n      },\n\n      xScale: { type: Function, },\n\n      yScale: { type: Function, },\n\n\n      /**\n       * `brush` brushing for mouse or touch event implementation [d3-brush](https://github.com/d3/d3-brush) \n       */\n      brush: { type: Function, },\n\n      /**\n       * extent of the brush  as per https://github.com/d3/d3-brush#brush_extent\n       */\n      extent: { type: Array },\n\n      /**\n       * `isSelection` is true when a selection is being done (e.g. by brushing). The attribute is used for css rules.\n       * This property is aimed at being bound to a multi-container-svg\n       */\n      isSelecting: {\n        type: Boolean,\n        value: false\n      },\n\n      /**\n       * `hasSelection`  is true when a selection exists. The attribute is used for css rules.\n       * This property is aimed at being bound to a multi-container-svg\n       */\n      hasSelection: {\n        type: Boolean,\n        notify: true\n      },\n\n      /**\n       * true when brush is implemented with a range scale\n       * @type {Object}\n       */\n      isRange: {\n        type: Boolean,\n        notify: true,\n      },\n      /**\n       * `xContinuous` indicate true if we have a `continuous` scale on X when the xScale is `ordinal` (e.g. a scaleBand for bar charts). If true a `xContinuousScale` is computed\n       */\n      xContinuous: {\n        type: Boolean,\n        attribute: 'x-continuous'\n      },\n\n      /**\n       * `xContinuousScale` the continuous scale to use when selecting ranges \n       */\n      xContinuousScale: {\n        type: Function,\n        value: function() {\n          return scaleLinear();\n        }\n      },\n    };\n  }\n\n  /**\n   * From RelayTo mixin, used to automatically relay properties to child components\n   */\n  shallRelayTo(key, name) {\n    if (name === 'd3-brush') {\n      return Brush.properties[key];\n    }\n  }\n\n  update(props) {\n    super.update(props);\n    this.relayTo(props, 'd3-brush');\n    if (props.has('isSelecting')) {\n      this.reflectToHost('isSelecting')\n    }\n    if (props.has('hasSelection')) {\n      this.reflectToHost('hasSelection')\n    }\n    if (props.has('selectedValues')) {\n      this._observeSelectedValues()\n    }\n\n\n  }\n\n  _observeSelectedValues() {\n    this._debounceSelect = Debouncer.debounce(\n      this._debounceSelect, // initially undefined\n      microTask,\n      () => {\n        this.log && console.log('brush selection', this.selectedValues);\n        this.dispatchEvent(new CustomEvent('multi-select', {\n          detail: {\n            isRange: this.isRange,\n            selection: this.selectedValues\n          },\n          bubbles: true,\n          composed: true\n        }));\n      });\n  }\n\n  resize(width, height) {\n    this.width = width;\n    this.height = height;\n    this.extent = [\n      [0, 0],\n      [this.width, this.height]\n    ];\n  }\n\n  get targetElement() {\n    return this.$.brush;\n  }\n\n  reflectToHost(name) {\n    if (this.svgHost) {\n      select(this.svgHost).attr(camelToDashCase(name), this[name] ? true : null);\n    }\n  }\n\n  clearSelection() {\n    // this.brush.move(null);\n    if (this.brush && this.brush.move) {\n      select(this.targetElement).call(this.brush.move, null);\n    }\n    this.selectedValues = [];\n  }\n\n  setBrush(brush) {\n    if (brush) {\n      var me = this;\n\n      brush\n        .on('start', function() {\n          me.onMultiBrushStart();\n        })\n        .on('end', function() {\n          me.onMultiBrushEnd();\n        })\n        .on('brush', function() {\n          me.onMultiBrush();\n        });\n      select(this.targetElement).call(brush);\n    } else {\n      select(this.targetElement).selectAll('*').remove();\n    }\n  }\n\n  onMultiBrush() {\n    if (!d3Event.sourceEvent || this._clearing) {\n      return;\n    }\n    const selection = d3Event.selection;\n\n    if (!selection) {\n      return this.clearSelection();\n    }\n\n    let scale = this.effectiveScale;\n    // var isRange = false;\n\n    const xScale = this.xScale;\n    let sel;\n\n    if (scale = scale.x) {\n      sel = scale.y ? selection[0] : selection;\n      if (scale.invert) {\n        // isRange = true;\n        this.isRange = true;\n        sel = sel.map(scale.invert);\n        // console.info('SEL', sel);\n        if (this.selectedValues[0] !== sel[0] || this.selectedValues[1] !== sel[1]) {\n          // only call the splice when needed \n          this.selectedValues = [sel[0], sel[1]]\n        }\n      } else {\n        sel = xScale.domain().filter(function(d) {\n          return sel[0] <= (d = xScale(d)) && d <= sel[1];\n        });\n        if (this.selectedValues.length !== sel.length || this.selectedValues[0] !== sel[0] || this.selectedValues[1] !== sel[1]) {\n          // only call the splice when needed \n          this.selectedValues = [...sel];\n          // this.splice.apply(this, ['selectedValues', 0, this.selectedValues.length + 1].concat(sel));\n        }\n      }\n    }\n  }\n\n  onMultiBrushStart() {\n    this._refreshContiunousScale(this.xScale);\n    // this.effectiveScale = this._getEffectiveScale();\n    this.isSelecting = true;\n  }\n\n  onMultiBrushEnd() {\n    if (!d3Event.selection && !this._clearing) {\n      this._clearing = true;\n      this.clearSelection();\n    }\n\n    delete this._clearing;\n    this.isSelecting = false;\n  }\n\n  _refreshContiunousScale(scale) {\n    if (scale) {\n      if (scale && !scale.invert && this.xContinuous) {\n        var range = scale.range();\n        if (scale.bandwidth) {\n          // it is a scaleBand; we need to re-adjust the range taking bandWIdth and padding into account (see https://github.com/d3/d3-scale#band-scales)\n          var step = scale.step();\n          range = [range[0] + step / 2, range[1] - step / 2];\n        }\n        this.__xContinuous = this.xContinuousScale.domain(extent(scale.domain())).range(range);\n      } else {\n        this.__xContinuous = null;\n      }\n    }\n  }\n\n  get effectiveScale() {\n    return {\n      x: (this.brushType === 'brushY') ? null : this.__xContinuous || this.xScale,\n      y: (this.brushType === 'brushX') ? null : this.__yContinuous || this.yScale,\n    };\n  }\n}\n\nexport default MultiBrush;\n","\nexport { default as RegisterMixin } from './container/mixin/multi-register-mixin.js'\nexport { default as ObserverResizeMixin } from './container/mixin/observe-resize-mixin.js'\nexport { default as RegisterableMixin } from './helper/multi-registerable-mixin.js'\nexport { default as FormatMixin } from './helper/d3-format-mixin.js'\nexport { default as DispatchMixin } from './helper/dispatch-svg-mixin.js'\nexport { default as ExtendPropertyMixin } from './helper/extend-property-mixin.js'\n\nexport * from './d3-wrapper/index.js';\nexport * from './drawable/index.js';\nexport * from './container/index.js';\nexport * from './chart/index.js';\nexport * from './helper/index.js';\nexport * from './chart/index.js';\n\nexport const define = (name, cls) => {\n  if(customElements.get(name)) {\n    return console.warn(`custom element ${name} has already been registered`);\n  }\n  customElements.define(name, cls);\n}","export const d3 = 'd3';\nexport const multi = 'multi';","import {define, D3Axis } from '../src/index.js'\nimport {d3} from '../src/prefix.js'\n\ndefine(`${d3}-axis`, D3Axis);\n","import {define, D3Legend } from '../src/index.js'\nimport {d3} from '../src/prefix.js'\n\ndefine(`${d3}-legend`, D3Legend);","import { Line } from '../src/d3-wrapper/d3-shape.js'\nimport { define } from '../src/index.js'\nimport { d3 } from '../src/prefix.js'\n\ndefine(`${d3}-shape-line`, Line);","import { LineRadial } from '../src/d3-wrapper/d3-shape.js'\nimport { define } from '../src/index.js'\nimport { d3 } from '../src/prefix.js'\n\ndefine(`${d3}-shape-line-radial`, LineRadial);\n","import {define, Accessor } from '../src/index.js'\nimport {multi} from '../src/prefix.js'\n\ndefine(`${multi}-accessor`, Accessor);","import {define, Bubble } from '../src/index.js'\nimport {multi} from '../src/prefix.js'\n\ndefine(`${multi}-chart-bubble`, Bubble);","import {define, Container } from '../src/index.js'\nimport {multi} from '../src/prefix.js'\n\ndefine(`${multi}-container`, Container);","import {define, DrawableBubble } from '../src/index.js'\nimport {multi} from '../src/prefix.js'\n\ndefine(`${multi}-drawable-bubble`, DrawableBubble);","import {define, Legend } from '../src/index.js'\nimport {multi} from '../src/prefix.js'\n\ndefine(`${multi}-legend`, Legend);","import {define, D3Brush } from '../src/index.js'\nimport {d3} from '../src/prefix.js'\n\ndefine(`${d3}-brush`, D3Brush);","import {define, D3Scale } from '../src/index.js'\nimport {d3} from '../src/prefix.js'\n\ndefine(`${d3}-scale`, D3Scale);","import { Pie } from '../src/d3-wrapper/d3-shape.js'\nimport { define } from '../src/index.js'\nimport { d3 } from '../src/prefix.js'\n\ndefine(`${d3}-shape-pie`, Pie);","import {define, DrawableAxis } from '../src/index.js'\nimport {multi} from '../src/prefix.js'\n\ndefine(`${multi}-axis`, DrawableAxis);","import {define, DrawableRadarAxes } from '../src/index.js';\nimport {multi} from '../src/prefix.js';\n\ndefine(`${multi}-radar-axes`, DrawableRadarAxes);\n","import {define, DrawableRadar } from '../src/index.js'\nimport {multi} from '../src/prefix.js'\n\ndefine(`${multi}-drawable-radar`, DrawableRadar);","import {define, Line } from '../src/index.js'\nimport {multi} from '../src/prefix.js'\n\ndefine(`${multi}-chart-line`, Line);","import {define, Radar } from '../src/index.js'\nimport {multi} from '../src/prefix.js'\n\ndefine(`${multi}-chart-radar`, Radar);","import {define, Layer } from '../src/index.js'\nimport {multi} from '../src/prefix.js'\n\ndefine(`${multi}-container-layer`, Layer);","import {define, DrawableLine } from '../src/index.js'\nimport {multi} from '../src/prefix.js'\n\ndefine(`${multi}-drawable-line`, DrawableLine);","import {define, Select } from '../src/index.js'\nimport {multi} from '../src/prefix.js'\n\ndefine(`${multi}-select`, Select);","import {define, Fetch } from '../src/index.js'\nimport {d3} from '../src/prefix.js'\n\ndefine(`${d3}-fetch`, Fetch);","import {Arc } from '../src/d3-wrapper/d3-shape.js'\nimport {define } from '../src/index.js'\nimport {d3} from '../src/prefix.js'\n\ndefine(`${d3}-shape-arc`, Arc);","import { Stack } from '../src/d3-wrapper/d3-shape.js'\nimport { define } from '../src/index.js'\nimport { d3 } from '../src/prefix.js'\n\ndefine(`${d3}-shape-stack`, Stack);","import {define, Brush } from '../src/index.js'\nimport {multi} from '../src/prefix.js'\n\ndefine(`${multi}-brush`, Brush);","import {define, Pie } from '../src/index.js'\nimport {multi} from '../src/prefix.js'\n\ndefine(`${multi}-chart-pie`, Pie);","import {define, DataGroup } from '../src/index.js'\nimport {multi} from '../src/prefix.js'\n\ndefine(`${multi}-data-group`, DataGroup);","import {define, DrawableLinePath } from '../src/index.js'\nimport {multi} from '../src/prefix.js'\n\ndefine(`${multi}-drawable-line-path`, DrawableLinePath);","import {define, Serie } from '../src/index.js'\nimport {multi} from '../src/prefix.js'\n\ndefine(`${multi}-serie`, Serie);","import {define, Format } from '../src/index.js'\nimport {d3} from '../src/prefix.js'\n\ndefine(`${d3}-format`, Format);","import { Area } from '../src/d3-wrapper/d3-shape.js'\nimport { define } from '../src/index.js'\nimport { d3 } from '../src/prefix.js'\n\ndefine(`${d3}-shape-area`, Area);","import {define, D3Transition } from '../src/index.js'\nimport {d3} from '../src/prefix.js'\n\ndefine(`${d3}-transition`, D3Transition);","import {define, Bar } from '../src/index.js'\nimport {multi} from '../src/prefix.js'\n\ndefine(`${multi}-chart-bar`, Bar);","import {define, ContainerAxis } from '../src/index.js'\nimport {multi} from '../src/prefix.js'\n\ndefine(`${multi}-container-axis`, ContainerAxis);","import {define, ContainerRadar } from '../src/index.js'\nimport {multi} from '../src/prefix.js'\n\ndefine(`${multi}-container-radar`, ContainerRadar);","import {define, DrawableBar } from '../src/index.js'\nimport {multi} from '../src/prefix.js'\n\ndefine(`${multi}-drawable-bar`, DrawableBar);","import {define, DrawablePie } from '../src/index.js'\nimport {multi} from '../src/prefix.js'\n\ndefine(`${multi}-drawable-pie`, DrawablePie);"],"names":["window","JSCompiler_renameProperty","prop","obj","dedupeId","dedupingMixin","mixin","mixinApplications","__mixinApplications","WeakMap","mixinDedupeId","base","baseSet","__mixinSet","map","extended","get","set","mixinSet","Object","create","MultiRegister","superClass","super","properties","registerContainerName","type","String","attribute","value","constructor","addEventListener","this","registerEventListen","_onMultiRegister","_registerItem","name","item","includes","push","onRegister","afterRegister","e","log","console","info","composedPath","detail","group","target","stopPropagation","unregister","registered","onUnegister","onUnregister","_registeredItems","filter","afterUnregister","callRegistered","methodName","splice","call","arguments","args","registeredItems","el","sort","a","b","registerOrder","forEach","apply","ro","ResizeObserver","entries","observer","entry","index","onResize","Resizable","width","Number","height","connectedCallback","observe","disconnectedCallback","unobserve","Error","Registerable","multiPosition","firstUpdated","props","dispatchEvent","CustomEvent","registerEventDispatch","bubbles","composed","postRemove","x","p","i","toExponential","indexOf","coefficient","slice","length","formatDecimal","Math","abs","NaN","prefixExponent","re","formatSpecifier","specifier","match","exec","FormatSpecifier","fill","align","sign","symbol","zero","comma","precision","trim","undefined","d","exponent","Array","join","prototype","toString","max","toFixed","round","toPrecision","formatRounded","min","floor","n","toUpperCase","locale","format","formatPrefix","prefixes","grouping","thousands","identity","t","j","g","substring","reverse","currencyPrefix","currency","currencySuffix","decimal","numerals","replace","formatNumerals","percent","minus","nan","newFormat","formatTypes","prefix","test","toLowerCase","suffix","formatType","maybeSuffix","c","valuePrefix","valueSuffix","valueNegative","isNaN","s","out","i1","i0","formatTrim","charCodeAt","Infinity","padding","f","k","pow","step","formatLocale","t0","Date","t1","newInterval","floori","offseti","count","field","interval","date","ceil","d0","d1","offset","range","start","stop","previous","setTime","end","every","isFinite","millisecond","second","getMilliseconds","getUTCSeconds","minute","getSeconds","getMinutes","hour","getHours","day","setHours","setDate","getDate","getTimezoneOffset","weekday","getDay","sunday","monday","thursday","month","setMonth","getMonth","getFullYear","year","setFullYear","utcMinute","setUTCSeconds","getUTCMinutes","utcHour","setUTCMinutes","getUTCHours","utcDay","setUTCHours","setUTCDate","getUTCDate","utcWeekday","getUTCDay","utcSunday","utcMonday","utcThursday","utcMonth","setUTCMonth","getUTCMonth","getUTCFullYear","utcYear","setUTCFullYear","localDate","y","m","H","M","S","L","utcDate","UTC","newDate","timeFormat","utcFormat","pads","numberRe","percentRe","requoteRe","pad","string","requote","formatRe","names","RegExp","formatLookup","parseWeekdayNumberSunday","w","parseWeekdayNumberMonday","u","parseWeekNumberSunday","U","parseWeekNumberISO","V","parseWeekNumberMonday","W","parseFullYear","parseYear","parseZone","Z","parseQuarter","q","parseMonthNumber","parseDayOfMonth","parseDayOfYear","parseHour24","parseMinutes","parseSeconds","parseMilliseconds","parseMicroseconds","parseLiteralPercent","parseUnixTimestamp","Q","parseUnixTimestampSeconds","formatDayOfMonth","formatHour24","formatHour12","formatDayOfYear","timeDay","timeYear","formatMilliseconds","formatMicroseconds","formatMonthNumber","formatMinutes","formatSeconds","formatWeekdayNumberMonday","formatWeekNumberSunday","timeSunday","formatWeekNumberISO","timeThursday","formatWeekdayNumberSunday","formatWeekNumberMonday","timeMonday","formatYear","formatFullYear","formatZone","z","formatUTCDayOfMonth","formatUTCHour24","formatUTCHour12","formatUTCDayOfYear","formatUTCMilliseconds","getUTCMilliseconds","formatUTCMicroseconds","formatUTCMonthNumber","formatUTCMinutes","formatUTCSeconds","formatUTCWeekdayNumberMonday","dow","formatUTCWeekNumberSunday","formatUTCWeekNumberISO","formatUTCWeekdayNumberSunday","formatUTCWeekNumberMonday","formatUTCYear","formatUTCFullYear","formatUTCZone","formatLiteralPercent","formatUnixTimestamp","formatUnixTimestampSeconds","definition","locale_dateTime","dateTime","locale_date","locale_time","time","locale_periods","periods","locale_weekdays","days","locale_shortWeekdays","shortDays","locale_months","months","locale_shortMonths","shortMonths","periodRe","periodLookup","weekdayRe","weekdayLookup","shortWeekdayRe","shortWeekdayLookup","monthRe","monthLookup","shortMonthRe","shortMonthLookup","formats","utcFormats","parses","parseSpecifier","charAt","newParse","week","parse","X","utcParse","defaultLocale","Format","isTime","Boolean","xhtml","svg","xlink","xml","xmlns","namespaces","hasOwnProperty","space","local","creatorInherit","document","ownerDocument","uri","namespaceURI","documentElement","createElement","createElementNS","creatorFixed","fullname","namespace","none","selector","querySelector","empty","querySelectorAll","matches","update","EnterNode","parent","datum","_next","_parent","__data__","appendChild","child","insertBefore","next","bindIndex","enter","exit","data","node","groupLength","dataLength","bindKey","key","keyValue","nodeByKeyValue","keyValues","ascending","attrRemove","removeAttribute","attrRemoveNS","removeAttributeNS","attrConstant","setAttribute","attrConstantNS","setAttributeNS","attrFunction","v","attrFunctionNS","defaultView","styleRemove","style","removeProperty","styleConstant","priority","setProperty","styleFunction","styleValue","getPropertyValue","getComputedStyle","propertyRemove","propertyConstant","propertyFunction","classArray","split","classList","ClassList","_node","_names","getAttribute","classedAdd","list","add","classedRemove","remove","classedTrue","classedFalse","classedFunction","textRemove","textContent","textConstant","textFunction","htmlRemove","innerHTML","htmlConstant","htmlFunction","raise","nextSibling","parentNode","lower","previousSibling","firstChild","constantNull","removeChild","selection_cloneShallow","clone","cloneNode","selection_cloneDeep","contains","filterEvents","event","mouseenter","mouseleave","filterContextListener","listener","contextListener","related","relatedTarget","compareDocumentPosition","event1","event0","parseTypenames","typenames","onRemove","typename","on","__on","o","removeEventListener","capture","onAdd","wrap","customEvent","that","sourceEvent","params","createEvent","initEvent","cancelable","dispatchConstant","dispatchFunction","root","Selection","groups","parents","_groups","_parents","selection","source","current","ownerSVGElement","createSVGPoint","point","clientX","clientY","matrixTransform","getScreenCTM","inverse","rect","getBoundingClientRect","left","clientLeft","top","clientTop","changedTouches","touches","identifier","touch","select","subgroups","subnode","subgroup","selectAll","selectorAll","matcher","size","each","bind","constant","enterGroup","updateGroup","_enter","_exit","sparse","onenter","onupdate","onexit","append","merge","order","groups0","groups1","m0","m1","merges","group0","group1","compare","compareNode","sortgroups","sortgroup","callback","nodes","attr","getAttributeNS","property","classed","text","html","creator","insert","before","deep","dispatch","DispatchSVG","svgHost","_hostedNodes","getHostedNode","has","resize","observeSvgHost","host","old","renderRoot","$","id","position","dataset","childNodes","some","setHostStyle","keys","getRootHost","hostStyles","st","cssText","containerName","caseMap","DASH_TO_CAMEL","CAMEL_TO_DASH","dashToCamelCase","dash","camelToDashCase","camel","capitalize","str","fitTo","factor","duration","sel","transition","sourceRect","dx","dy","targetRect","right","bottom","xOffset","yOffset","scale","translate","shapeProperties","Function","words","parseFloat","word","line","lineNumber","tspan","pop","getComputedTextLength","extendProperty","namedProperties","assign","ExtendProperty","directives","isDirective","isCEPolyfill","customElements","polyfillWrapFlushCallback","removeNodes","container","noChange","nothing","marker","random","nodeMarker","markerRegex","Template","[object Object]","result","element","parts","nodesToRemove","stack","walker","createTreeWalker","content","lastPartIndex","partIndex","strings","values","nextNode","nodeType","hasAttributes","attributes","endsWith","stringForPart","lastAttributeNameRegex","attributeLookupName","attributeValue","statics","tagName","currentNode","lastIndex","createMarker","createTextNode","isTemplatePartActive","part","createComment","TemplateInstance","template","processor","options","__parts","setValue","commit","fragment","importNode","nodeIndex","nodeName","handleTextExpression","insertAfterNode","handleAttributeExpressions","adoptNode","upgrade","commentMarker","TemplateResult","l","isCommentBinding","commentOpen","lastIndexOf","attributeMatch","substr","getHTML","isPrimitive","isIterable","isArray","Symbol","iterator","AttributeCommitter","dirty","_createPart","AttributePart","_getValue","committer","directive","NodePart","__pendingValue","startNode","endNode","ref","__insert","__commitText","__commitTemplateResult","Node","__commitNode","__commitIterable","clear","valueAsString","templateFactory","instance","_clone","itemParts","itemPart","appendIntoPart","insertAfterPart","BooleanAttributePart","PropertyCommitter","single","PropertyPart","eventOptionsSupported","_e","EventPart","eventName","eventContext","__boundHandleEvent","handleEvent","newListener","oldListener","shouldRemoveListener","once","passive","shouldAddListener","__options","getOptions","defaultTemplateProcessor","templateCache","templateCaches","stringsArray","keyString","Map","getTemplateElement","removeNodesFromTemplate","nextActiveIndexInTemplateParts","removeCount","nodesToRemoveInTemplate","currentRemovingNode","countNodes","startIndex","getTemplateCacheKey","scopeName","compatibleShadyCSSVersion","ShadyCSS","prepareTemplateDom","warn","shadyTemplateFactory","cacheKey","TEMPLATE_TYPES","shadyRenderSet","Set","prepareTemplateStyles","renderedDOM","templateElement","styles","condensedStyle","templates","from","removeStylesFromLitTemplates","refNode","insertCount","walkerIndex","insertNodeIntoTemplate","nativeShadow","removes","_obj","defaultConverter","JSON","stringify","notEqual","defaultPropertyDeclaration","converter","reflect","hasChanged","microtaskPromise","Promise","resolve","UpdatingElement","HTMLElement","_updateState","_instanceProperties","_updatePromise","_hasConnectedResolver","_changedProperties","_reflectingProperties","initialize","finalize","_classProperties","_attributeNameForProperty","_attributeToPropertyMap","superProperties","getPrototypeOf","_ensureClassProperties","noAccessor","defineProperty","oldValue","_requestUpdate","configurable","enumerable","superCtor","propKeys","getOwnPropertyNames","getOwnPropertySymbols","createProperty","fromAttribute","toAttribute","_saveInstanceProperties","_v","_attributeToProperty","ctor","attrValue","_propertyValueToAttribute","propName","_propertyValueFromAttribute","shouldRequestUpdate","_valueHasChanged","_hasRequestedUpdate","_enqueueUpdate","updateComplete","reject","previousUpdatePromise","res","rej","_hasConnected","performUpdate","_applyInstanceProperties","shouldUpdate","changedProperties","_markUpdated","updated","_getUpdateComplete","_propertyToAttribute","supportsAdoptingStyleSheets","Document","CSSStyleSheet","constructionToken","CSSResult","safeToken","_styleSheet","replaceSync","css","reduce","acc","idx","textFromCSSResult","flattenStyles","flat","arrayFlat","LitElement","_styles","_getUniqueStyles","userStyles","reduceRight","unshift","createRenderRoot","ShadowRoot","adoptStyles","attachShadow","mode","adoptedStyleSheets","styleSheet","_needsShimAdoptedStyleSheets","ScopingShim","prepareAdoptedCssText","localName","hasUpdated","styleElement","templateResult","render","hasRendered","needsScoping","firstScopeRender","renderContainer","createDocumentFragment","appendInto","litRender","delete","translateX","translateY","number","center","bandwidth","entering","__axis","axis","orient","tickArguments","tickValues","tickFormat","tickSizeInner","tickSizeOuter","tickPadding","transform","context","ticks","domain","spacing","range0","range1","copy","path","tick","tickExit","tickEnter","_","tickSize","axisTop","D3Axis","__init","updateWrapper","shallNotify","Transition","delay","ease","pr","lo","hi","mid","bisectRight","bisector","valueof","e10","sqrt","e5","e2","tickIncrement","power","LN10","error","tickStep","step0","step1","swap","array","quantile","Float64Array","numbers","value0","quickselect","exp","sd","subarray","initRange","initInterpolator","interpolator","implicit","ordinal","unknown","band","ordinalRange","r0","r1","paddingInner","paddingOuter","rescale","sequence","rangeRound","pointish","factory","extend","Color","reI","reN","reP","reHex","reRgbInteger","reRgbPercent","reRgbaInteger","reRgbaPercent","reHslPercent","reHslaPercent","named","aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkgrey","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkslategrey","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dimgrey","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","green","greenyellow","grey","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightgrey","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightslategrey","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","rebeccapurple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","slategrey","snow","springgreen","steelblue","tan","teal","thistle","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen","color_formatHex","rgb","formatHex","color_formatRgb","formatRgb","color","parseInt","rgbn","Rgb","rgba","hsla","r","rgbConvert","opacity","rgb_formatHex","hex","rgb_formatRgb","h","Hsl","hslConvert","hsl2rgb","m2","define","channels","displayable","formatHsl","brighter","darker","deg2rad","PI","rad2deg","A","B","C","D","E","ED","EB","BC_DA","cubehelixConvert","Cubehelix","bl","atan2","cubehelix","linear","gamma","nogamma","exponential","cosh","cos","sinh","sin","rgbGamma","colorRgb","genericArray","nb","na","reA","reB","am","bm","bs","bi","one","ArrayBuffer","isView","DataView","isNumberArray","numberArray","valueOf","object","cssNode","cssRoot","cssView","svgNode","degrees","rotate","skewX","scaleX","scaleY","atan","interpolateTransform","pxComma","pxParen","degParen","xa","ya","xb","yb","interpolateTransformCss","decompose","interpolateTransformSvg","baseVal","consolidate","matrix","rho","SQRT2","p0","p1","ux0","uy0","w0","ux1","uy1","w1","d2","b0","b1","coshr0","tanh","hue","cubehelixGamma","colorCubehelix","cubehelixLong","piecewise","interpolate","I","unit","normalize","bimap","polymap","bisect","clamp","transformer","untransform","output","input","interpolateValue","clamper","invert","interpolateNumber","interpolateRound","continuous","precisionPrefix","precisionRound","precisionFixed","linearish","nice","x0","x1","transformLog","transformExp","transformLogn","transformExpn","pow10","loggish","logs","pows","log10","log2","logp","powp","transformSymlog","log1p","transformSymexp","expm1","symlogish","transformPow","transformSqrt","transformSquare","powish","square","unsquare","calendar","formatMillisecond","formatSecond","formatMinute","formatHour","formatDay","formatWeek","formatMonth","tickIntervals","durationSecond","durationMinute","durationHour","durationDay","tickInterval","k10","sequentialPow","t2","k21","x2","r2","divergingPow","symlog","radial","squared","thresholds","threshold","invertExtent","quantiles","quantize","timeMonth","timeWeek","timeHour","timeMinute","timeSecond","timeMillisecond","utcWeek","utcSecond","utcMillisecond","sequential","sequentialLog","sequentialSymlog","sequentialQuantile","diverging","divergingLog","divergingSymlog","scaleNames","val","scales","D3Scale","scaleType","category","vendorMatches","webkitMatchesSelector","msMatchesSelector","mozMatchesSelector","oMatchesSelector","noop","Dispatch","types","concat","T","proto","deinterpolateLinear","deinterpolate","reinterpolate","deinterpolateClamp","reinterpolateClamp","interpolateCubehelixLong","ramp","colors","ascendingComparator","d3_identity","d3_reverse","arr","mirror","d3_textWrapping","lineHeight","helper","shape","shapes","shapeHeight","shapeWidth","shapeRadius","labels","classPrefix","labelWidth","all","then","resolvedLabels","cells","labelFormat","labelDelimiter","d3_quantLegend","increment","d3_linearLegend","d3_ordinalLegend","gen","_typeof","customLabels","genLength","_i","d3_mergeLabels","cellFilter","filterCells","label","dataValues","labelValues","cell","cellTrans","textTrans","labelAlign","dispatcher","cellDispatcher","title","titleWidth","cellsSvg","legend","D3Legend","preventDefault","stopImmediatePropagation","view","noevent","__noselect","MozUserSelect","yesdrag","noclick","setTimeout","taskHead","taskTail","frame","timeout","clockLast","clockNow","clockSkew","clock","performance","now","setFrame","requestAnimationFrame","clearNow","Timer","_call","_time","timer","restart","wake","timerFlush","sleep","nap","poke","clearTimeout","clearInterval","setInterval","elapsed","TypeError","emptyOn","emptyTween","timing","schedules","__transition","self","tween","state","init","schedule","active","tweenRemove","tween0","tween1","tweenFunction","tweenValue","_id","interpolateRgb","interpolateString","value1","string00","interpolate0","string1","string0","string10","attrInterpolate","attrInterpolateNS","attrTweenNS","_value","attrTween","delayFunction","delayConstant","durationFunction","durationConstant","easeConstant","onFunction","on0","on1","sit","styleInterpolate","styleTween","textInterpolate","textTween","_name","newId","selection_prototype","children","inherit","id0","id1","styleNull","listener0","styleMaybeRemove","removeFunction","cancel","interrupt","defaultTiming","nopropagation","MODE_DRAG","MODE_SPACE","MODE_HANDLE","MODE_CENTER","number1","number2","toucher","handles","xy","Y","XY","cursors","overlay","nw","ne","se","sw","flipX","flipY","signsX","signsY","defaultFilter","ctrlKey","button","defaultExtent","hasAttribute","viewBox","defaultTouchable","navigator","maxTouchPoints","__brush","extent","brush","dim","touchending","touchable","listeners","handleSize","handle","redraw","started","touchmoved","touchended","emitter","clean","Emitter","n0","n1","e0","e1","s0","s1","moving","lockX","lockY","metaKey","altKey","signX","signY","N","shifting","shiftKey","pointer","mouse","point0","emit","beforestart","moved","ended","keydowned","keyupped","dragDisable","point1","move","dragEnable","keyCode","selection0","selection1","starting","BrushEvent","keyModifiers","D3Brush","doNotSetUndefinedValue","baseElement","selectMixin","superclass","selectShadow","queryShadow","defaultValue","propertyName","RelayTo","shallRelayTo","relayTo","CacheId","microtaskCurrHandle","microtaskLastHandle","microtaskCallbacks","microtaskNodeContent","microtaskNode","MutationObserver","len","cb","characterData","timeOut","after","run","fn","microTask","Debouncer","_asyncModule","_callback","_timer","setConfig","asyncModule","debouncerQueue","isActive","_cancelAsync","flush","debouncer","Draw","_shaped","setData","debounceDraw","_debounceDraw","debounce","isDrawn","draw","_isDrawn","dataChanged","applyTransition","chart","onEndTransition","LitNotify","_propertyEventMap","notify","eventNameForProperty","changedProps","eventProp","action","Base","DefaultValueMixin","SelectMixin","DoNotSetUndefinedValue","MultiNotify","MultiChartBase","MultiDrawable","colorScale","scaleOrdinal","schemeCategory10","drawable","textAngle","xText","yText","MultiAxis","_x","_y","_xText","_yText","Axis","axisProperty","shallTransition","attrsFunction","attrsObject","stylesFunction","stylesObject","propertiesFunction","propertiesObject","attrs","MultiRadarAxes","axes","labelAccessor","levels","hideAxis","hideCircles","circleConfig","axisTextConfig","axisLineConfig","axisLabelConfig","wrapWidth","labelFactor","scaleFactor","radialDomain","radialScale","axisWrapper","radius","maxValue","angleSlice","grids","MultiDrawableSerie","selectSerie","drawSerieElement","drawSerieGroup","shapeName","shapeClass","cls","targetElement","drawableData","Shaper","shaper","onSetShaper","pi","tau","tauEpsilon","Path","_x0","_y0","_x1","_y1","moveTo","closePath","lineTo","quadraticCurveTo","y1","bezierCurveTo","y2","arcTo","y0","x21","y21","x01","y01","l01_2","x20","y20","l21_2","l20_2","l21","l01","acos","t01","t21","arc","a0","a1","ccw","cw","da","halfPi","asin","arcInnerRadius","innerRadius","arcOuterRadius","outerRadius","arcStartAngle","startAngle","arcEndAngle","endAngle","arcPadAngle","padAngle","intersect","x3","y3","x10","y10","x32","y32","cornerTangents","rc","ox","oy","x11","y11","x00","y00","cx0","cy0","cx1","cy1","dx0","dy0","dx1","dy1","cx","cy","Linear","_context","pointX","pointY","defined","curve","curveLinear","buffer","defined0","lineStart","lineEnd","area","x0z","y0z","areaStart","areaEnd","arealine","lineX0","lineY0","lineY1","lineX1","_line","_point","curveRadialLinear","curveRadial","Radial","_curve","lineRadial","angle","lineStartAngle","lineEndAngle","lineInnerRadius","lineOuterRadius","linkSource","linkTarget","link","argv","curveHorizontal","curveVertical","pointRadial","p2","p3","tan30","tan30_2","kr","kx","ky","sqrt3","symbols","circle","cross","diamond","star","triangle","wye","Basis","BasisClosed","BasisOpen","Bundle","beta","_basis","_beta","_x2","_x3","_x4","_y2","_y3","_y4","custom","bundle","_k","Cardinal","tension","cardinal","CardinalClosed","_x5","_y5","CardinalOpen","_l01_a","_l01_2a","_l12_a","_l12_2a","_l23_a","_l23_2a","CatmullRom","alpha","_alpha","x23","y23","catmullRom","CatmullRomClosed","CatmullRomOpen","LinearClosed","slope3","h0","h1","slope2","MonotoneX","MonotoneY","ReflectContext","Natural","controlPoints","Step","_t","series","stackValue","peaks","peak","vi","vj","sums","sum","_t0","px","py","cornerRadius","padRadius","a01","a11","a00","a10","da0","da1","ap","rp","rc0","rc1","oc","ax","ay","bx","by","kc","lc","centroid","sortValues","descending","pie","arcs","pa","orderNone","offsetNone","oz","kz","sz","sij","ki","si","yp","yn","s2","sij0","s3","sk","appearance","tops","bottoms","shapeType","classes","WrapperBase","Pie","Arc","Area","Stack","Line","LineRadial","MultiDrawableRadar","DrawableSerie","MultiAccessor","accessor","subPath","_observePath","_signature","isAdd","MultiDrawablePie","valuePath","getPieWidth","getOuterRadius","pieWidth","minSize","_current","MultiDrawableLine","MultiDrawableLinePath","MultiDrawableBubble","MultiDrawableBar","stacked","serieName","xScale","yScale","scaleBand","MultiData","_serieGroup","_onMultiSerieRegister","_onMultiSerieGroupRegister","_onShapeChanged","serieGroup","_processDataChanged","enableZoom","scaleExtent","ZoomEvent","Transform","applyX","applyY","location","invertX","invertY","rescaleX","rescaleY","SVGElement","clientWidth","clientHeight","defaultTransform","__zoom","defaultWheelDelta","deltaY","deltaMode","defaultConstrain","translateExtent","Zoomable","zoomableProperty","_observeEnableZoom","_zoom","enable","zoomed","zoomedEl","d3Event","touchstarting","constrain","wheelDelta","interpolateZoom","clickDistance2","zoom","wheeled","mousedowned","dblclicked","touchstarted","gesture","__zooming","Gesture","taps","wheel","wheelidled","mousemoved","mouseupped","k1","touch0","touch1","l0","l1","dp","dl","collection","scaleBy","scaleTo","k0","translateBy","translateTo","clickDistance","pattern","valueAccessor","keyAccessor","valuePosition","keyPosition","valueProperties","MultiContainer","ObserveResize","getContentRender","processType","leftMargin","topMargin","getAccessor","dataGroupValueProperties","rightMargin","bottomMargin","multiVerseGroup","onDrawn","_onScalePosition","assignSlottedSVG","refresh","getSize","assignedNodes","loop","NodeFilter","SHOW_ELEMENT","acceptNode","FILTER_ACCEPT","treeWalker","ScaleRender","getScaleRender","getRange","topAxis","rightAxis","bottomAxis","leftAxis","topHasScale","rightHasScale","bottomHasScale","leftHasScale","leftTextAngle","leftYText","leftDy","bottomDy","MultiContainerAxis","getAxisRender","Scale","axisProps","axisValueProperties","MultiContainerRadar","Axes","MultiHighlight","highlightedKeys","highlightedCls","layerId","highlightAccessor","_observeHighlightedKeys","highlightedLayer","MultiContainerLayer","layer","MultiSerieGroup","Register","dataGroupProps","_debouceDataChanged","setHostDomain","getDomainMinMax","_handleStackedChanged","_debounceDataChanged","_stackedMax","_max","multiData","_processByType","_processSeries","_multiData","_callDataChanged","tmpMax","ret","ii","valueScale","getHostValue","keyScale","isContinuous","getOrdinalDomain","setValueDomain","colorDomain","choroplethMap","valueDomain","serie","ext","ordinalDomain","xAccessor","yAccessor","getRootNode","dataProcessType","__key__","__value__","MultiChartPie","MultiChartLine","onDataGroupRescaled","bottomScaleType","zProperties","Accessor","minMax","zScaleType","zDomain","zRange","zScale","zPath","zAccessor","MultiBarLine","MultiChartRadar","curveCardinalClosed","angleScale","scaleLinear","D3Format","FormatMixin","_format","responseBlob","response","ok","status","statusText","blob","responseArrayBuffer","arrayBuffer","EOL","EOF","objectConverter","columns","inferColumns","rows","columnSet","row","column","formatDate","hours","minutes","seconds","milliseconds","delimiter","reFormat","DELIMITER","parseRows","eof","eol","token","preformatBody","formatValue","formatRow","convert","customConverter","formatBody","formatRows","csvParse","dsv","tsvParse","responseText","fetch","dsvParse","csv","tsv","responseJson","json","parser","DOMParser","parseFromString","dsvFormat","image","Image","onerror","onload","src","Fetch","url","loading","fetcher","catch","MultiSerie","getPathRender","keyPath","getKeyPathRender","TrackHover","trackHover","hovered","attachListeners","me","onMouseenter","onMouseleave","detatchListeners","getKey","_observerHovered","MultiLegend","setLegend","_opacity","Legend","rectOffset","setPosition","legendEl","isRight","isBottom","chartSize","legendRect","selected","selectedItem","multi","selectedValues","selectedItems","selectType","MultiSelect","MultiRegisterable","attrForSelected","selectedAttribute","updateSelectedValues","updateSelected","reSelect","selectableItems","onClick","keyHolder","_error","wasSelected","silent","_updateSelected","items","_hasSelection","isRange","MultiBrush","setBrush","Brush","isSelecting","hasSelection","xContinuous","xContinuousScale","reflectToHost","_observeSelectedValues","_debounceSelect","clearSelection","onMultiBrushStart","onMultiBrushEnd","onMultiBrush","_clearing","effectiveScale","_refreshContiunousScale","__xContinuous","brushType","__yContinuous","d3","Bubble","Container","DrawableBubble","DrawableAxis","DrawableRadarAxes","DrawableRadar","Radar","Layer","DrawableLine","Select","DataGroup","DrawableLinePath","Serie","D3Transition","Bar","ContainerAxis","ContainerRadar","DrawableBar","DrawablePie"],"mappings":"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"}