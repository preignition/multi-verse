{"version":3,"file":"multi-geo.js","sources":["../../../multi-geo/node_modules/.pnpm/registry.npmjs.org/lit-html/1.1.2/node_modules/lit-html/lib/directive.js","../../../multi-geo/node_modules/.pnpm/registry.npmjs.org/lit-html/1.1.2/node_modules/lit-html/lib/dom.js","../../../multi-geo/node_modules/.pnpm/registry.npmjs.org/lit-html/1.1.2/node_modules/lit-html/lib/part.js","../../../multi-geo/node_modules/.pnpm/registry.npmjs.org/lit-html/1.1.2/node_modules/lit-html/lib/template.js","../../../multi-geo/node_modules/.pnpm/registry.npmjs.org/lit-html/1.1.2/node_modules/lit-html/lib/template-instance.js","../../../multi-geo/node_modules/.pnpm/registry.npmjs.org/lit-html/1.1.2/node_modules/lit-html/lib/template-result.js","../../../multi-geo/node_modules/.pnpm/registry.npmjs.org/lit-html/1.1.2/node_modules/lit-html/lib/parts.js","../../../multi-geo/node_modules/.pnpm/registry.npmjs.org/lit-html/1.1.2/node_modules/lit-html/lib/default-template-processor.js","../../../multi-geo/node_modules/.pnpm/registry.npmjs.org/lit-html/1.1.2/node_modules/lit-html/lib/template-factory.js","../../../multi-geo/node_modules/.pnpm/registry.npmjs.org/lit-html/1.1.2/node_modules/lit-html/lib/render.js","../../../multi-geo/node_modules/.pnpm/registry.npmjs.org/lit-html/1.1.2/node_modules/lit-html/lit-html.js","../../../multi-geo/node_modules/.pnpm/registry.npmjs.org/lit-html/1.1.2/node_modules/lit-html/lib/modify-template.js","../../../multi-geo/node_modules/.pnpm/registry.npmjs.org/lit-html/1.1.2/node_modules/lit-html/lib/shady-render.js","../../../multi-geo/node_modules/.pnpm/registry.npmjs.org/lit-element/2.2.1/node_modules/lit-element/lib/updating-element.js","../../../multi-geo/node_modules/.pnpm/registry.npmjs.org/lit-element/2.2.1/node_modules/lit-element/lib/css-tag.js","../../../multi-geo/node_modules/.pnpm/registry.npmjs.org/lit-element/2.2.1/node_modules/lit-element/lit-element.js","../../../multi-geo/node_modules/.pnpm/registry.npmjs.org/@morbidick/lit-element-notify/1.0.2_lit-element@2.2.1+lit-html@1.1.2/node_modules/@morbidick/lit-element-notify/notify.js","../../../multi-geo/src/base-class.js","../../../multi-geo/src/topojson/topojson-base.js","../../../multi-geo/node_modules/.pnpm/registry.npmjs.org/topojson-client/3.0.1/node_modules/topojson-client/src/identity.js","../../../multi-geo/node_modules/.pnpm/registry.npmjs.org/topojson-client/3.0.1/node_modules/topojson-client/src/feature.js","../../../multi-geo/node_modules/.pnpm/registry.npmjs.org/topojson-client/3.0.1/node_modules/topojson-client/src/transform.js","../../../multi-geo/node_modules/.pnpm/registry.npmjs.org/topojson-client/3.0.1/node_modules/topojson-client/src/reverse.js","../../../multi-geo/node_modules/.pnpm/registry.npmjs.org/topojson-client/3.0.1/node_modules/topojson-client/src/stitch.js","../../../multi-geo/node_modules/.pnpm/registry.npmjs.org/topojson-client/3.0.1/node_modules/topojson-client/src/mesh.js","../../../multi-geo/src/topojson/topojson-feature.js","../../../multi-geo/src/topojson/topojson-mesh.js","../../../multi-geo/node_modules/.pnpm/registry.npmjs.org/d3-selection/1.4.0/node_modules/d3-selection/src/namespaces.js","../../../multi-geo/node_modules/.pnpm/registry.npmjs.org/d3-selection/1.4.0/node_modules/d3-selection/src/namespace.js","../../../multi-geo/node_modules/.pnpm/registry.npmjs.org/d3-selection/1.4.0/node_modules/d3-selection/src/creator.js","../../../multi-geo/node_modules/.pnpm/registry.npmjs.org/d3-selection/1.4.0/node_modules/d3-selection/src/selector.js","../../../multi-geo/node_modules/.pnpm/registry.npmjs.org/d3-selection/1.4.0/node_modules/d3-selection/src/selectorAll.js","../../../multi-geo/node_modules/.pnpm/registry.npmjs.org/d3-selection/1.4.0/node_modules/d3-selection/src/matcher.js","../../../multi-geo/node_modules/.pnpm/registry.npmjs.org/d3-selection/1.4.0/node_modules/d3-selection/src/selection/sparse.js","../../../multi-geo/node_modules/.pnpm/registry.npmjs.org/d3-selection/1.4.0/node_modules/d3-selection/src/selection/enter.js","../../../multi-geo/node_modules/.pnpm/registry.npmjs.org/d3-selection/1.4.0/node_modules/d3-selection/src/selection/data.js","../../../multi-geo/node_modules/.pnpm/registry.npmjs.org/d3-selection/1.4.0/node_modules/d3-selection/src/selection/sort.js","../../../multi-geo/node_modules/.pnpm/registry.npmjs.org/d3-selection/1.4.0/node_modules/d3-selection/src/selection/attr.js","../../../multi-geo/node_modules/.pnpm/registry.npmjs.org/d3-selection/1.4.0/node_modules/d3-selection/src/window.js","../../../multi-geo/node_modules/.pnpm/registry.npmjs.org/d3-selection/1.4.0/node_modules/d3-selection/src/selection/style.js","../../../multi-geo/node_modules/.pnpm/registry.npmjs.org/d3-selection/1.4.0/node_modules/d3-selection/src/selection/property.js","../../../multi-geo/node_modules/.pnpm/registry.npmjs.org/d3-selection/1.4.0/node_modules/d3-selection/src/selection/classed.js","../../../multi-geo/node_modules/.pnpm/registry.npmjs.org/d3-selection/1.4.0/node_modules/d3-selection/src/selection/text.js","../../../multi-geo/node_modules/.pnpm/registry.npmjs.org/d3-selection/1.4.0/node_modules/d3-selection/src/selection/html.js","../../../multi-geo/node_modules/.pnpm/registry.npmjs.org/d3-selection/1.4.0/node_modules/d3-selection/src/selection/raise.js","../../../multi-geo/node_modules/.pnpm/registry.npmjs.org/d3-selection/1.4.0/node_modules/d3-selection/src/selection/lower.js","../../../multi-geo/node_modules/.pnpm/registry.npmjs.org/d3-selection/1.4.0/node_modules/d3-selection/src/selection/insert.js","../../../multi-geo/node_modules/.pnpm/registry.npmjs.org/d3-selection/1.4.0/node_modules/d3-selection/src/selection/remove.js","../../../multi-geo/node_modules/.pnpm/registry.npmjs.org/d3-selection/1.4.0/node_modules/d3-selection/src/selection/clone.js","../../../multi-geo/node_modules/.pnpm/registry.npmjs.org/d3-selection/1.4.0/node_modules/d3-selection/src/selection/on.js","../../../multi-geo/node_modules/.pnpm/registry.npmjs.org/d3-selection/1.4.0/node_modules/d3-selection/src/selection/dispatch.js","../../../multi-geo/node_modules/.pnpm/registry.npmjs.org/d3-selection/1.4.0/node_modules/d3-selection/src/selection/index.js","../../../multi-geo/node_modules/.pnpm/registry.npmjs.org/d3-selection/1.4.0/node_modules/d3-selection/src/select.js","../../../multi-geo/node_modules/.pnpm/registry.npmjs.org/d3-selection/1.4.0/node_modules/d3-selection/src/selection/select.js","../../../multi-geo/node_modules/.pnpm/registry.npmjs.org/d3-selection/1.4.0/node_modules/d3-selection/src/selection/selectAll.js","../../../multi-geo/node_modules/.pnpm/registry.npmjs.org/d3-selection/1.4.0/node_modules/d3-selection/src/selection/filter.js","../../../multi-geo/node_modules/.pnpm/registry.npmjs.org/d3-selection/1.4.0/node_modules/d3-selection/src/constant.js","../../../multi-geo/node_modules/.pnpm/registry.npmjs.org/d3-selection/1.4.0/node_modules/d3-selection/src/selection/exit.js","../../../multi-geo/node_modules/.pnpm/registry.npmjs.org/d3-selection/1.4.0/node_modules/d3-selection/src/selection/join.js","../../../multi-geo/node_modules/.pnpm/registry.npmjs.org/d3-selection/1.4.0/node_modules/d3-selection/src/selection/merge.js","../../../multi-geo/node_modules/.pnpm/registry.npmjs.org/d3-selection/1.4.0/node_modules/d3-selection/src/selection/order.js","../../../multi-geo/node_modules/.pnpm/registry.npmjs.org/d3-selection/1.4.0/node_modules/d3-selection/src/selection/call.js","../../../multi-geo/node_modules/.pnpm/registry.npmjs.org/d3-selection/1.4.0/node_modules/d3-selection/src/selection/nodes.js","../../../multi-geo/node_modules/.pnpm/registry.npmjs.org/d3-selection/1.4.0/node_modules/d3-selection/src/selection/node.js","../../../multi-geo/node_modules/.pnpm/registry.npmjs.org/d3-selection/1.4.0/node_modules/d3-selection/src/selection/size.js","../../../multi-geo/node_modules/.pnpm/registry.npmjs.org/d3-selection/1.4.0/node_modules/d3-selection/src/selection/empty.js","../../../multi-geo/node_modules/.pnpm/registry.npmjs.org/d3-selection/1.4.0/node_modules/d3-selection/src/selection/each.js","../../../multi-geo/node_modules/.pnpm/registry.npmjs.org/d3-selection/1.4.0/node_modules/d3-selection/src/selection/append.js","../../../multi-geo/node_modules/.pnpm/registry.npmjs.org/d3-selection/1.4.0/node_modules/d3-selection/src/selection/datum.js","../../../multi-geo/node_modules/.pnpm/registry.npmjs.org/d3-dispatch/1.0.5/node_modules/d3-dispatch/src/dispatch.js","../../../multi-geo/node_modules/.pnpm/registry.npmjs.org/d3-timer/1.0.9/node_modules/d3-timer/src/timer.js","../../../multi-geo/node_modules/.pnpm/registry.npmjs.org/d3-timer/1.0.9/node_modules/d3-timer/src/timeout.js","../../../multi-geo/node_modules/.pnpm/registry.npmjs.org/d3-transition/1.2.0/node_modules/d3-transition/src/transition/schedule.js","../../../multi-geo/node_modules/.pnpm/registry.npmjs.org/d3-color/1.4.0/node_modules/d3-color/src/define.js","../../../multi-geo/node_modules/.pnpm/registry.npmjs.org/d3-color/1.4.0/node_modules/d3-color/src/color.js","../../../multi-geo/node_modules/.pnpm/registry.npmjs.org/d3-interpolate/1.3.2/node_modules/d3-interpolate/src/constant.js","../../../multi-geo/node_modules/.pnpm/registry.npmjs.org/d3-interpolate/1.3.2/node_modules/d3-interpolate/src/color.js","../../../multi-geo/node_modules/.pnpm/registry.npmjs.org/d3-interpolate/1.3.2/node_modules/d3-interpolate/src/rgb.js","../../../multi-geo/node_modules/.pnpm/registry.npmjs.org/d3-interpolate/1.3.2/node_modules/d3-interpolate/src/basis.js","../../../multi-geo/node_modules/.pnpm/registry.npmjs.org/d3-interpolate/1.3.2/node_modules/d3-interpolate/src/number.js","../../../multi-geo/node_modules/.pnpm/registry.npmjs.org/d3-interpolate/1.3.2/node_modules/d3-interpolate/src/string.js","../../../multi-geo/node_modules/.pnpm/registry.npmjs.org/d3-interpolate/1.3.2/node_modules/d3-interpolate/src/transform/decompose.js","../../../multi-geo/node_modules/.pnpm/registry.npmjs.org/d3-interpolate/1.3.2/node_modules/d3-interpolate/src/transform/parse.js","../../../multi-geo/node_modules/.pnpm/registry.npmjs.org/d3-interpolate/1.3.2/node_modules/d3-interpolate/src/transform/index.js","../../../multi-geo/node_modules/.pnpm/registry.npmjs.org/d3-transition/1.2.0/node_modules/d3-transition/src/transition/tween.js","../../../multi-geo/node_modules/.pnpm/registry.npmjs.org/d3-transition/1.2.0/node_modules/d3-transition/src/transition/interpolate.js","../../../multi-geo/node_modules/.pnpm/registry.npmjs.org/d3-transition/1.2.0/node_modules/d3-transition/src/transition/attr.js","../../../multi-geo/node_modules/.pnpm/registry.npmjs.org/d3-transition/1.2.0/node_modules/d3-transition/src/transition/attrTween.js","../../../multi-geo/node_modules/.pnpm/registry.npmjs.org/d3-transition/1.2.0/node_modules/d3-transition/src/transition/delay.js","../../../multi-geo/node_modules/.pnpm/registry.npmjs.org/d3-transition/1.2.0/node_modules/d3-transition/src/transition/duration.js","../../../multi-geo/node_modules/.pnpm/registry.npmjs.org/d3-transition/1.2.0/node_modules/d3-transition/src/transition/ease.js","../../../multi-geo/node_modules/.pnpm/registry.npmjs.org/d3-transition/1.2.0/node_modules/d3-transition/src/transition/on.js","../../../multi-geo/node_modules/.pnpm/registry.npmjs.org/d3-transition/1.2.0/node_modules/d3-transition/src/transition/selection.js","../../../multi-geo/node_modules/.pnpm/registry.npmjs.org/d3-transition/1.2.0/node_modules/d3-transition/src/transition/style.js","../../../multi-geo/node_modules/.pnpm/registry.npmjs.org/d3-transition/1.2.0/node_modules/d3-transition/src/transition/styleTween.js","../../../multi-geo/node_modules/.pnpm/registry.npmjs.org/d3-transition/1.2.0/node_modules/d3-transition/src/transition/index.js","../../../multi-geo/node_modules/.pnpm/registry.npmjs.org/d3-transition/1.2.0/node_modules/d3-transition/src/transition/select.js","../../../multi-geo/node_modules/.pnpm/registry.npmjs.org/d3-transition/1.2.0/node_modules/d3-transition/src/transition/selectAll.js","../../../multi-geo/node_modules/.pnpm/registry.npmjs.org/d3-transition/1.2.0/node_modules/d3-transition/src/transition/filter.js","../../../multi-geo/node_modules/.pnpm/registry.npmjs.org/d3-transition/1.2.0/node_modules/d3-transition/src/transition/merge.js","../../../multi-geo/node_modules/.pnpm/registry.npmjs.org/d3-transition/1.2.0/node_modules/d3-transition/src/transition/transition.js","../../../multi-geo/node_modules/.pnpm/registry.npmjs.org/d3-transition/1.2.0/node_modules/d3-transition/src/transition/text.js","../../../multi-geo/node_modules/.pnpm/registry.npmjs.org/d3-transition/1.2.0/node_modules/d3-transition/src/transition/remove.js","../../../multi-geo/node_modules/.pnpm/registry.npmjs.org/d3-transition/1.2.0/node_modules/d3-transition/src/transition/end.js","../../../multi-geo/node_modules/.pnpm/registry.npmjs.org/d3-transition/1.2.0/node_modules/d3-transition/src/selection/transition.js","../../../multi-geo/node_modules/.pnpm/registry.npmjs.org/d3-ease/1.0.5/node_modules/d3-ease/src/cubic.js","../../../multi-geo/node_modules/.pnpm/registry.npmjs.org/d3-selection-multi/1.0.1/node_modules/d3-selection-multi/src/selection/attrs.js","../../../multi-geo/node_modules/.pnpm/registry.npmjs.org/d3-selection-multi/1.0.1/node_modules/d3-selection-multi/src/transition/attrs.js","../../../multi-geo/node_modules/.pnpm/registry.npmjs.org/d3-transition/1.2.0/node_modules/d3-transition/src/selection/index.js","../../../multi-geo/node_modules/.pnpm/registry.npmjs.org/d3-transition/1.2.0/node_modules/d3-transition/src/selection/interrupt.js","../../../multi-geo/node_modules/.pnpm/registry.npmjs.org/d3-transition/1.2.0/node_modules/d3-transition/src/interrupt.js","../../../multi-geo/src/helper/utils.js","../../../multi-geo/node_modules/.pnpm/registry.npmjs.org/@polymer/polymer/3.3.0/node_modules/@polymer/polymer/lib/utils/boot.js","../../../multi-geo/node_modules/.pnpm/registry.npmjs.org/@polymer/polymer/3.3.0/node_modules/@polymer/polymer/lib/utils/mixin.js","../../../multi-geo/src/drawable/mixin/drawable-geo-mixin.js","../../../multi-geo/src/drawable/drawable-feature.js","../../../multi-geo/node_modules/.pnpm/registry.npmjs.org/d3-array/2.3.3/node_modules/d3-array/src/ascending.js","../../../multi-geo/node_modules/.pnpm/registry.npmjs.org/d3-array/2.3.3/node_modules/d3-array/src/bisect.js","../../../multi-geo/node_modules/.pnpm/registry.npmjs.org/d3-array/2.3.3/node_modules/d3-array/src/bisector.js","../../../multi-geo/node_modules/.pnpm/registry.npmjs.org/d3-array/2.3.3/node_modules/d3-array/src/ticks.js","../../../multi-geo/src/drawable/drawable-choropleth.js","../../../multi-geo/src/drawable/drawable-path.js","../../../multi-geo/node_modules/.pnpm/registry.npmjs.org/d3-hexbin/0.2.2/node_modules/d3-hexbin/src/hexbin.js","../../../multi-geo/src/d3-wrapper/d3-hexbin.js","../../../multi-geo/node_modules/.pnpm/registry.npmjs.org/d3-scale/3.1.0/node_modules/d3-scale/src/init.js","../../../multi-geo/node_modules/.pnpm/registry.npmjs.org/d3-scale/3.1.0/node_modules/d3-scale/src/continuous.js","../../../multi-geo/node_modules/.pnpm/registry.npmjs.org/d3-format/1.4.1/node_modules/d3-format/src/formatDecimal.js","../../../multi-geo/node_modules/.pnpm/registry.npmjs.org/d3-format/1.4.1/node_modules/d3-format/src/exponent.js","../../../multi-geo/node_modules/.pnpm/registry.npmjs.org/d3-format/1.4.1/node_modules/d3-format/src/formatSpecifier.js","../../../multi-geo/node_modules/.pnpm/registry.npmjs.org/d3-format/1.4.1/node_modules/d3-format/src/formatPrefixAuto.js","../../../multi-geo/node_modules/.pnpm/registry.npmjs.org/d3-format/1.4.1/node_modules/d3-format/src/formatRounded.js","../../../multi-geo/node_modules/.pnpm/registry.npmjs.org/d3-format/1.4.1/node_modules/d3-format/src/formatTypes.js","../../../multi-geo/node_modules/.pnpm/registry.npmjs.org/d3-format/1.4.1/node_modules/d3-format/src/identity.js","../../../multi-geo/node_modules/.pnpm/registry.npmjs.org/d3-format/1.4.1/node_modules/d3-format/src/locale.js","../../../multi-geo/node_modules/.pnpm/registry.npmjs.org/d3-format/1.4.1/node_modules/d3-format/src/defaultLocale.js","../../../multi-geo/node_modules/.pnpm/registry.npmjs.org/d3-format/1.4.1/node_modules/d3-format/src/formatGroup.js","../../../multi-geo/node_modules/.pnpm/registry.npmjs.org/d3-format/1.4.1/node_modules/d3-format/src/formatNumerals.js","../../../multi-geo/node_modules/.pnpm/registry.npmjs.org/d3-format/1.4.1/node_modules/d3-format/src/formatTrim.js","../../../multi-geo/node_modules/.pnpm/registry.npmjs.org/d3-scale/3.1.0/node_modules/d3-scale/src/tickFormat.js","../../../multi-geo/node_modules/.pnpm/registry.npmjs.org/d3-format/1.4.1/node_modules/d3-format/src/precisionPrefix.js","../../../multi-geo/node_modules/.pnpm/registry.npmjs.org/d3-format/1.4.1/node_modules/d3-format/src/precisionRound.js","../../../multi-geo/node_modules/.pnpm/registry.npmjs.org/d3-format/1.4.1/node_modules/d3-format/src/precisionFixed.js","../../../multi-geo/node_modules/.pnpm/registry.npmjs.org/d3-scale/3.1.0/node_modules/d3-scale/src/linear.js","../../../multi-geo/node_modules/.pnpm/registry.npmjs.org/d3-scale/3.1.0/node_modules/d3-scale/src/sequential.js","../../../multi-geo/node_modules/.pnpm/registry.npmjs.org/d3-scale-chromatic/1.5.0/node_modules/d3-scale-chromatic/src/colors.js","../../../multi-geo/node_modules/.pnpm/registry.npmjs.org/d3-scale-chromatic/1.5.0/node_modules/d3-scale-chromatic/src/sequential-single/Blues.js","../../../multi-geo/node_modules/.pnpm/registry.npmjs.org/d3-scale-chromatic/1.5.0/node_modules/d3-scale-chromatic/src/sequential-multi/viridis.js","../../../multi-geo/node_modules/.pnpm/registry.npmjs.org/d3-scale-chromatic/1.5.0/node_modules/d3-scale-chromatic/src/ramp.js","../../../multi-geo/src/drawable/drawable-hexbin.js","../../../multi-geo/node_modules/.pnpm/registry.npmjs.org/d3-geo/1.11.6/node_modules/d3-geo/src/adder.js","../../../multi-geo/node_modules/.pnpm/registry.npmjs.org/d3-geo/1.11.6/node_modules/d3-geo/src/math.js","../../../multi-geo/node_modules/.pnpm/registry.npmjs.org/d3-geo/1.11.6/node_modules/d3-geo/src/noop.js","../../../multi-geo/node_modules/.pnpm/registry.npmjs.org/d3-geo/1.11.6/node_modules/d3-geo/src/stream.js","../../../multi-geo/node_modules/.pnpm/registry.npmjs.org/d3-geo/1.11.6/node_modules/d3-geo/src/area.js","../../../multi-geo/node_modules/.pnpm/registry.npmjs.org/d3-geo/1.11.6/node_modules/d3-geo/src/cartesian.js","../../../multi-geo/node_modules/.pnpm/registry.npmjs.org/d3-geo/1.11.6/node_modules/d3-geo/src/bounds.js","../../../multi-geo/node_modules/.pnpm/registry.npmjs.org/d3-geo/1.11.6/node_modules/d3-geo/src/centroid.js","../../../multi-geo/node_modules/.pnpm/registry.npmjs.org/d3-geo/1.11.6/node_modules/d3-geo/src/constant.js","../../../multi-geo/node_modules/.pnpm/registry.npmjs.org/d3-geo/1.11.6/node_modules/d3-geo/src/compose.js","../../../multi-geo/node_modules/.pnpm/registry.npmjs.org/d3-geo/1.11.6/node_modules/d3-geo/src/rotation.js","../../../multi-geo/node_modules/.pnpm/registry.npmjs.org/d3-geo/1.11.6/node_modules/d3-geo/src/circle.js","../../../multi-geo/node_modules/.pnpm/registry.npmjs.org/d3-geo/1.11.6/node_modules/d3-geo/src/clip/buffer.js","../../../multi-geo/node_modules/.pnpm/registry.npmjs.org/d3-geo/1.11.6/node_modules/d3-geo/src/pointEqual.js","../../../multi-geo/node_modules/.pnpm/registry.npmjs.org/d3-geo/1.11.6/node_modules/d3-geo/src/clip/rejoin.js","../../../multi-geo/node_modules/.pnpm/registry.npmjs.org/d3-geo/1.11.6/node_modules/d3-geo/src/polygonContains.js","../../../multi-geo/node_modules/.pnpm/registry.npmjs.org/d3-array/1.2.4/node_modules/d3-array/src/ascending.js","../../../multi-geo/node_modules/.pnpm/registry.npmjs.org/d3-array/1.2.4/node_modules/d3-array/src/bisector.js","../../../multi-geo/node_modules/.pnpm/registry.npmjs.org/d3-array/1.2.4/node_modules/d3-array/src/bisect.js","../../../multi-geo/node_modules/.pnpm/registry.npmjs.org/d3-array/1.2.4/node_modules/d3-array/src/range.js","../../../multi-geo/node_modules/.pnpm/registry.npmjs.org/d3-array/1.2.4/node_modules/d3-array/src/merge.js","../../../multi-geo/node_modules/.pnpm/registry.npmjs.org/d3-geo/1.11.6/node_modules/d3-geo/src/clip/index.js","../../../multi-geo/node_modules/.pnpm/registry.npmjs.org/d3-geo/1.11.6/node_modules/d3-geo/src/clip/antimeridian.js","../../../multi-geo/node_modules/.pnpm/registry.npmjs.org/d3-geo/1.11.6/node_modules/d3-geo/src/clip/circle.js","../../../multi-geo/node_modules/.pnpm/registry.npmjs.org/d3-geo/1.11.6/node_modules/d3-geo/src/clip/rectangle.js","../../../multi-geo/node_modules/.pnpm/registry.npmjs.org/d3-geo/1.11.6/node_modules/d3-geo/src/clip/line.js","../../../multi-geo/node_modules/.pnpm/registry.npmjs.org/d3-geo/1.11.6/node_modules/d3-geo/src/length.js","../../../multi-geo/node_modules/.pnpm/registry.npmjs.org/d3-geo/1.11.6/node_modules/d3-geo/src/distance.js","../../../multi-geo/node_modules/.pnpm/registry.npmjs.org/d3-geo/1.11.6/node_modules/d3-geo/src/contains.js","../../../multi-geo/node_modules/.pnpm/registry.npmjs.org/d3-geo/1.11.6/node_modules/d3-geo/src/graticule.js","../../../multi-geo/node_modules/.pnpm/registry.npmjs.org/d3-geo/1.11.6/node_modules/d3-geo/src/identity.js","../../../multi-geo/node_modules/.pnpm/registry.npmjs.org/d3-geo/1.11.6/node_modules/d3-geo/src/path/area.js","../../../multi-geo/node_modules/.pnpm/registry.npmjs.org/d3-geo/1.11.6/node_modules/d3-geo/src/path/bounds.js","../../../multi-geo/node_modules/.pnpm/registry.npmjs.org/d3-geo/1.11.6/node_modules/d3-geo/src/path/centroid.js","../../../multi-geo/node_modules/.pnpm/registry.npmjs.org/d3-geo/1.11.6/node_modules/d3-geo/src/path/context.js","../../../multi-geo/node_modules/.pnpm/registry.npmjs.org/d3-geo/1.11.6/node_modules/d3-geo/src/path/measure.js","../../../multi-geo/node_modules/.pnpm/registry.npmjs.org/d3-geo/1.11.6/node_modules/d3-geo/src/path/string.js","../../../multi-geo/node_modules/.pnpm/registry.npmjs.org/d3-geo/1.11.6/node_modules/d3-geo/src/path/index.js","../../../multi-geo/node_modules/.pnpm/registry.npmjs.org/d3-geo/1.11.6/node_modules/d3-geo/src/transform.js","../../../multi-geo/node_modules/.pnpm/registry.npmjs.org/d3-geo/1.11.6/node_modules/d3-geo/src/projection/fit.js","../../../multi-geo/node_modules/.pnpm/registry.npmjs.org/d3-geo/1.11.6/node_modules/d3-geo/src/projection/resample.js","../../../multi-geo/node_modules/.pnpm/registry.npmjs.org/d3-geo/1.11.6/node_modules/d3-geo/src/projection/index.js","../../../multi-geo/node_modules/.pnpm/registry.npmjs.org/d3-geo/1.11.6/node_modules/d3-geo/src/projection/conic.js","../../../multi-geo/node_modules/.pnpm/registry.npmjs.org/d3-geo/1.11.6/node_modules/d3-geo/src/projection/conicEqualArea.js","../../../multi-geo/node_modules/.pnpm/registry.npmjs.org/d3-geo/1.11.6/node_modules/d3-geo/src/projection/cylindricalEqualArea.js","../../../multi-geo/node_modules/.pnpm/registry.npmjs.org/d3-geo/1.11.6/node_modules/d3-geo/src/projection/albers.js","../../../multi-geo/node_modules/.pnpm/registry.npmjs.org/d3-geo/1.11.6/node_modules/d3-geo/src/projection/azimuthal.js","../../../multi-geo/node_modules/.pnpm/registry.npmjs.org/d3-geo/1.11.6/node_modules/d3-geo/src/projection/azimuthalEqualArea.js","../../../multi-geo/node_modules/.pnpm/registry.npmjs.org/d3-geo/1.11.6/node_modules/d3-geo/src/projection/azimuthalEquidistant.js","../../../multi-geo/node_modules/.pnpm/registry.npmjs.org/d3-geo/1.11.6/node_modules/d3-geo/src/projection/mercator.js","../../../multi-geo/node_modules/.pnpm/registry.npmjs.org/d3-geo/1.11.6/node_modules/d3-geo/src/projection/conicConformal.js","../../../multi-geo/node_modules/.pnpm/registry.npmjs.org/d3-geo/1.11.6/node_modules/d3-geo/src/projection/equirectangular.js","../../../multi-geo/node_modules/.pnpm/registry.npmjs.org/d3-geo/1.11.6/node_modules/d3-geo/src/projection/conicEquidistant.js","../../../multi-geo/node_modules/.pnpm/registry.npmjs.org/d3-geo/1.11.6/node_modules/d3-geo/src/projection/equalEarth.js","../../../multi-geo/node_modules/.pnpm/registry.npmjs.org/d3-geo/1.11.6/node_modules/d3-geo/src/projection/gnomonic.js","../../../multi-geo/node_modules/.pnpm/registry.npmjs.org/d3-geo/1.11.6/node_modules/d3-geo/src/projection/identity.js","../../../multi-geo/node_modules/.pnpm/registry.npmjs.org/d3-geo/1.11.6/node_modules/d3-geo/src/projection/naturalEarth1.js","../../../multi-geo/node_modules/.pnpm/registry.npmjs.org/d3-geo/1.11.6/node_modules/d3-geo/src/projection/orthographic.js","../../../multi-geo/node_modules/.pnpm/registry.npmjs.org/d3-geo/1.11.6/node_modules/d3-geo/src/projection/stereographic.js","../../../multi-geo/node_modules/.pnpm/registry.npmjs.org/d3-geo/1.11.6/node_modules/d3-geo/src/projection/transverseMercator.js","../../../multi-geo/node_modules/.pnpm/registry.npmjs.org/d3-geo/1.11.6/node_modules/d3-geo/src/clip/extent.js","../../../multi-geo/node_modules/.pnpm/registry.npmjs.org/d3-geo/1.11.6/node_modules/d3-geo/src/interpolate.js","../../../multi-geo/node_modules/.pnpm/registry.npmjs.org/d3-geo/1.11.6/node_modules/d3-geo/src/projection/albersUsa.js","../../../multi-geo/src/d3-wrapper/d3-geo-path.js","../../../multi-geo/src/d3-wrapper/d3-projection.js","../../../multi-geo/src/helper/multi-project.js","../../../multi-geo/src/container/multi-container-geo.js","../../../multi-geo/src/chart/multi-chart-choropleth.js","../../../multi-geo/node_modules/.pnpm/registry.npmjs.org/d3-scale/3.1.0/node_modules/d3-scale/src/quantize.js","../../../multi-geo/src/index.js","../../../multi-geo/elements/d3-geo-path.js","../../../multi-geo/src/prefix.js","../../../multi-geo/elements/d3-projection.js","../../../multi-geo/elements/d3-hexbin.js","../../../multi-geo/elements/multi-chart-choropleth.js","../../../multi-geo/elements/multi-container-geo.js","../../../multi-geo/elements/multi-drawable-choropleth.js","../../../multi-geo/elements/multi-drawable-feature.js","../../../multi-geo/elements/multi-drawable-path.js","../../../multi-geo/elements/multi-drawable-hexbin.js","../../../multi-geo/elements/multi-project.js","../../../multi-geo/elements/topojson-feature.js","../../../multi-geo/elements/topojson-mesh.js"],"sourcesContent":["/**\n * @license\n * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.\n * This code may only be used under the BSD style license found at\n * http://polymer.github.io/LICENSE.txt\n * The complete set of authors may be found at\n * http://polymer.github.io/AUTHORS.txt\n * The complete set of contributors may be found at\n * http://polymer.github.io/CONTRIBUTORS.txt\n * Code distributed by Google as part of the polymer project is also\n * subject to an additional IP rights grant found at\n * http://polymer.github.io/PATENTS.txt\n */\nconst directives = new WeakMap();\n/**\n * Brands a function as a directive factory function so that lit-html will call\n * the function during template rendering, rather than passing as a value.\n *\n * A _directive_ is a function that takes a Part as an argument. It has the\n * signature: `(part: Part) => void`.\n *\n * A directive _factory_ is a function that takes arguments for data and\n * configuration and returns a directive. Users of directive usually refer to\n * the directive factory as the directive. For example, \"The repeat directive\".\n *\n * Usually a template author will invoke a directive factory in their template\n * with relevant arguments, which will then return a directive function.\n *\n * Here's an example of using the `repeat()` directive factory that takes an\n * array and a function to render an item:\n *\n * ```js\n * html`<ul><${repeat(items, (item) => html`<li>${item}</li>`)}</ul>`\n * ```\n *\n * When `repeat` is invoked, it returns a directive function that closes over\n * `items` and the template function. When the outer template is rendered, the\n * return directive function is called with the Part for the expression.\n * `repeat` then performs it's custom logic to render multiple items.\n *\n * @param f The directive factory function. Must be a function that returns a\n * function of the signature `(part: Part) => void`. The returned function will\n * be called with the part object.\n *\n * @example\n *\n * import {directive, html} from 'lit-html';\n *\n * const immutable = directive((v) => (part) => {\n *   if (part.value !== v) {\n *     part.setValue(v)\n *   }\n * });\n */\nexport const directive = (f) => ((...args) => {\n    const d = f(...args);\n    directives.set(d, true);\n    return d;\n});\nexport const isDirective = (o) => {\n    return typeof o === 'function' && directives.has(o);\n};\n//# sourceMappingURL=directive.js.map","/**\n * @license\n * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.\n * This code may only be used under the BSD style license found at\n * http://polymer.github.io/LICENSE.txt\n * The complete set of authors may be found at\n * http://polymer.github.io/AUTHORS.txt\n * The complete set of contributors may be found at\n * http://polymer.github.io/CONTRIBUTORS.txt\n * Code distributed by Google as part of the polymer project is also\n * subject to an additional IP rights grant found at\n * http://polymer.github.io/PATENTS.txt\n */\n/**\n * True if the custom elements polyfill is in use.\n */\nexport const isCEPolyfill = window.customElements !== undefined &&\n    window.customElements.polyfillWrapFlushCallback !==\n        undefined;\n/**\n * Reparents nodes, starting from `start` (inclusive) to `end` (exclusive),\n * into another container (could be the same container), before `before`. If\n * `before` is null, it appends the nodes to the container.\n */\nexport const reparentNodes = (container, start, end = null, before = null) => {\n    while (start !== end) {\n        const n = start.nextSibling;\n        container.insertBefore(start, before);\n        start = n;\n    }\n};\n/**\n * Removes nodes, starting from `start` (inclusive) to `end` (exclusive), from\n * `container`.\n */\nexport const removeNodes = (container, start, end = null) => {\n    while (start !== end) {\n        const n = start.nextSibling;\n        container.removeChild(start);\n        start = n;\n    }\n};\n//# sourceMappingURL=dom.js.map","/**\n * @license\n * Copyright (c) 2018 The Polymer Project Authors. All rights reserved.\n * This code may only be used under the BSD style license found at\n * http://polymer.github.io/LICENSE.txt\n * The complete set of authors may be found at\n * http://polymer.github.io/AUTHORS.txt\n * The complete set of contributors may be found at\n * http://polymer.github.io/CONTRIBUTORS.txt\n * Code distributed by Google as part of the polymer project is also\n * subject to an additional IP rights grant found at\n * http://polymer.github.io/PATENTS.txt\n */\n/**\n * A sentinel value that signals that a value was handled by a directive and\n * should not be written to the DOM.\n */\nexport const noChange = {};\n/**\n * A sentinel value that signals a NodePart to fully clear its content.\n */\nexport const nothing = {};\n//# sourceMappingURL=part.js.map","/**\n * @license\n * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.\n * This code may only be used under the BSD style license found at\n * http://polymer.github.io/LICENSE.txt\n * The complete set of authors may be found at\n * http://polymer.github.io/AUTHORS.txt\n * The complete set of contributors may be found at\n * http://polymer.github.io/CONTRIBUTORS.txt\n * Code distributed by Google as part of the polymer project is also\n * subject to an additional IP rights grant found at\n * http://polymer.github.io/PATENTS.txt\n */\n/**\n * An expression marker with embedded unique key to avoid collision with\n * possible text in templates.\n */\nexport const marker = `{{lit-${String(Math.random()).slice(2)}}}`;\n/**\n * An expression marker used text-positions, multi-binding attributes, and\n * attributes with markup-like text values.\n */\nexport const nodeMarker = `<!--${marker}-->`;\nexport const markerRegex = new RegExp(`${marker}|${nodeMarker}`);\n/**\n * Suffix appended to all bound attribute names.\n */\nexport const boundAttributeSuffix = '$lit$';\n/**\n * An updateable Template that tracks the location of dynamic parts.\n */\nexport class Template {\n    constructor(result, element) {\n        this.parts = [];\n        this.element = element;\n        const nodesToRemove = [];\n        const stack = [];\n        // Edge needs all 4 parameters present; IE11 needs 3rd parameter to be null\n        const walker = document.createTreeWalker(element.content, 133 /* NodeFilter.SHOW_{ELEMENT|COMMENT|TEXT} */, null, false);\n        // Keeps track of the last index associated with a part. We try to delete\n        // unnecessary nodes, but we never want to associate two different parts\n        // to the same index. They must have a constant node between.\n        let lastPartIndex = 0;\n        let index = -1;\n        let partIndex = 0;\n        const { strings, values: { length } } = result;\n        while (partIndex < length) {\n            const node = walker.nextNode();\n            if (node === null) {\n                // We've exhausted the content inside a nested template element.\n                // Because we still have parts (the outer for-loop), we know:\n                // - There is a template in the stack\n                // - The walker will find a nextNode outside the template\n                walker.currentNode = stack.pop();\n                continue;\n            }\n            index++;\n            if (node.nodeType === 1 /* Node.ELEMENT_NODE */) {\n                if (node.hasAttributes()) {\n                    const attributes = node.attributes;\n                    const { length } = attributes;\n                    // Per\n                    // https://developer.mozilla.org/en-US/docs/Web/API/NamedNodeMap,\n                    // attributes are not guaranteed to be returned in document order.\n                    // In particular, Edge/IE can return them out of order, so we cannot\n                    // assume a correspondence between part index and attribute index.\n                    let count = 0;\n                    for (let i = 0; i < length; i++) {\n                        if (endsWith(attributes[i].name, boundAttributeSuffix)) {\n                            count++;\n                        }\n                    }\n                    while (count-- > 0) {\n                        // Get the template literal section leading up to the first\n                        // expression in this attribute\n                        const stringForPart = strings[partIndex];\n                        // Find the attribute name\n                        const name = lastAttributeNameRegex.exec(stringForPart)[2];\n                        // Find the corresponding attribute\n                        // All bound attributes have had a suffix added in\n                        // TemplateResult#getHTML to opt out of special attribute\n                        // handling. To look up the attribute value we also need to add\n                        // the suffix.\n                        const attributeLookupName = name.toLowerCase() + boundAttributeSuffix;\n                        const attributeValue = node.getAttribute(attributeLookupName);\n                        node.removeAttribute(attributeLookupName);\n                        const statics = attributeValue.split(markerRegex);\n                        this.parts.push({ type: 'attribute', index, name, strings: statics });\n                        partIndex += statics.length - 1;\n                    }\n                }\n                if (node.tagName === 'TEMPLATE') {\n                    stack.push(node);\n                    walker.currentNode = node.content;\n                }\n            }\n            else if (node.nodeType === 3 /* Node.TEXT_NODE */) {\n                const data = node.data;\n                if (data.indexOf(marker) >= 0) {\n                    const parent = node.parentNode;\n                    const strings = data.split(markerRegex);\n                    const lastIndex = strings.length - 1;\n                    // Generate a new text node for each literal section\n                    // These nodes are also used as the markers for node parts\n                    for (let i = 0; i < lastIndex; i++) {\n                        let insert;\n                        let s = strings[i];\n                        if (s === '') {\n                            insert = createMarker();\n                        }\n                        else {\n                            const match = lastAttributeNameRegex.exec(s);\n                            if (match !== null && endsWith(match[2], boundAttributeSuffix)) {\n                                s = s.slice(0, match.index) + match[1] +\n                                    match[2].slice(0, -boundAttributeSuffix.length) + match[3];\n                            }\n                            insert = document.createTextNode(s);\n                        }\n                        parent.insertBefore(insert, node);\n                        this.parts.push({ type: 'node', index: ++index });\n                    }\n                    // If there's no text, we must insert a comment to mark our place.\n                    // Else, we can trust it will stick around after cloning.\n                    if (strings[lastIndex] === '') {\n                        parent.insertBefore(createMarker(), node);\n                        nodesToRemove.push(node);\n                    }\n                    else {\n                        node.data = strings[lastIndex];\n                    }\n                    // We have a part for each match found\n                    partIndex += lastIndex;\n                }\n            }\n            else if (node.nodeType === 8 /* Node.COMMENT_NODE */) {\n                if (node.data === marker) {\n                    const parent = node.parentNode;\n                    // Add a new marker node to be the startNode of the Part if any of\n                    // the following are true:\n                    //  * We don't have a previousSibling\n                    //  * The previousSibling is already the start of a previous part\n                    if (node.previousSibling === null || index === lastPartIndex) {\n                        index++;\n                        parent.insertBefore(createMarker(), node);\n                    }\n                    lastPartIndex = index;\n                    this.parts.push({ type: 'node', index });\n                    // If we don't have a nextSibling, keep this node so we have an end.\n                    // Else, we can remove it to save future costs.\n                    if (node.nextSibling === null) {\n                        node.data = '';\n                    }\n                    else {\n                        nodesToRemove.push(node);\n                        index--;\n                    }\n                    partIndex++;\n                }\n                else {\n                    let i = -1;\n                    while ((i = node.data.indexOf(marker, i + 1)) !== -1) {\n                        // Comment node has a binding marker inside, make an inactive part\n                        // The binding won't work, but subsequent bindings will\n                        // TODO (justinfagnani): consider whether it's even worth it to\n                        // make bindings in comments work\n                        this.parts.push({ type: 'node', index: -1 });\n                        partIndex++;\n                    }\n                }\n            }\n        }\n        // Remove text binding nodes after the walk to not disturb the TreeWalker\n        for (const n of nodesToRemove) {\n            n.parentNode.removeChild(n);\n        }\n    }\n}\nconst endsWith = (str, suffix) => {\n    const index = str.length - suffix.length;\n    return index >= 0 && str.slice(index) === suffix;\n};\nexport const isTemplatePartActive = (part) => part.index !== -1;\n// Allows `document.createComment('')` to be renamed for a\n// small manual size-savings.\nexport const createMarker = () => document.createComment('');\n/**\n * This regex extracts the attribute name preceding an attribute-position\n * expression. It does this by matching the syntax allowed for attributes\n * against the string literal directly preceding the expression, assuming that\n * the expression is in an attribute-value position.\n *\n * See attributes in the HTML spec:\n * https://www.w3.org/TR/html5/syntax.html#elements-attributes\n *\n * \" \\x09\\x0a\\x0c\\x0d\" are HTML space characters:\n * https://www.w3.org/TR/html5/infrastructure.html#space-characters\n *\n * \"\\0-\\x1F\\x7F-\\x9F\" are Unicode control characters, which includes every\n * space character except \" \".\n *\n * So an attribute is:\n *  * The name: any character except a control character, space character, ('),\n *    (\"), \">\", \"=\", or \"/\"\n *  * Followed by zero or more space characters\n *  * Followed by \"=\"\n *  * Followed by zero or more space characters\n *  * Followed by:\n *    * Any character except space, ('), (\"), \"<\", \">\", \"=\", (`), or\n *    * (\") then any non-(\"), or\n *    * (') then any non-(')\n */\nexport const lastAttributeNameRegex = /([ \\x09\\x0a\\x0c\\x0d])([^\\0-\\x1F\\x7F-\\x9F \"'>=/]+)([ \\x09\\x0a\\x0c\\x0d]*=[ \\x09\\x0a\\x0c\\x0d]*(?:[^ \\x09\\x0a\\x0c\\x0d\"'`<>=]*|\"[^\"]*|'[^']*))$/;\n//# sourceMappingURL=template.js.map","/**\n * @license\n * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.\n * This code may only be used under the BSD style license found at\n * http://polymer.github.io/LICENSE.txt\n * The complete set of authors may be found at\n * http://polymer.github.io/AUTHORS.txt\n * The complete set of contributors may be found at\n * http://polymer.github.io/CONTRIBUTORS.txt\n * Code distributed by Google as part of the polymer project is also\n * subject to an additional IP rights grant found at\n * http://polymer.github.io/PATENTS.txt\n */\n/**\n * @module lit-html\n */\nimport { isCEPolyfill } from './dom.js';\nimport { isTemplatePartActive } from './template.js';\n/**\n * An instance of a `Template` that can be attached to the DOM and updated\n * with new values.\n */\nexport class TemplateInstance {\n    constructor(template, processor, options) {\n        this.__parts = [];\n        this.template = template;\n        this.processor = processor;\n        this.options = options;\n    }\n    update(values) {\n        let i = 0;\n        for (const part of this.__parts) {\n            if (part !== undefined) {\n                part.setValue(values[i]);\n            }\n            i++;\n        }\n        for (const part of this.__parts) {\n            if (part !== undefined) {\n                part.commit();\n            }\n        }\n    }\n    _clone() {\n        // There are a number of steps in the lifecycle of a template instance's\n        // DOM fragment:\n        //  1. Clone - create the instance fragment\n        //  2. Adopt - adopt into the main document\n        //  3. Process - find part markers and create parts\n        //  4. Upgrade - upgrade custom elements\n        //  5. Update - set node, attribute, property, etc., values\n        //  6. Connect - connect to the document. Optional and outside of this\n        //     method.\n        //\n        // We have a few constraints on the ordering of these steps:\n        //  * We need to upgrade before updating, so that property values will pass\n        //    through any property setters.\n        //  * We would like to process before upgrading so that we're sure that the\n        //    cloned fragment is inert and not disturbed by self-modifying DOM.\n        //  * We want custom elements to upgrade even in disconnected fragments.\n        //\n        // Given these constraints, with full custom elements support we would\n        // prefer the order: Clone, Process, Adopt, Upgrade, Update, Connect\n        //\n        // But Safari dooes not implement CustomElementRegistry#upgrade, so we\n        // can not implement that order and still have upgrade-before-update and\n        // upgrade disconnected fragments. So we instead sacrifice the\n        // process-before-upgrade constraint, since in Custom Elements v1 elements\n        // must not modify their light DOM in the constructor. We still have issues\n        // when co-existing with CEv0 elements like Polymer 1, and with polyfills\n        // that don't strictly adhere to the no-modification rule because shadow\n        // DOM, which may be created in the constructor, is emulated by being placed\n        // in the light DOM.\n        //\n        // The resulting order is on native is: Clone, Adopt, Upgrade, Process,\n        // Update, Connect. document.importNode() performs Clone, Adopt, and Upgrade\n        // in one step.\n        //\n        // The Custom Elements v1 polyfill supports upgrade(), so the order when\n        // polyfilled is the more ideal: Clone, Process, Adopt, Upgrade, Update,\n        // Connect.\n        const fragment = isCEPolyfill ?\n            this.template.element.content.cloneNode(true) :\n            document.importNode(this.template.element.content, true);\n        const stack = [];\n        const parts = this.template.parts;\n        // Edge needs all 4 parameters present; IE11 needs 3rd parameter to be null\n        const walker = document.createTreeWalker(fragment, 133 /* NodeFilter.SHOW_{ELEMENT|COMMENT|TEXT} */, null, false);\n        let partIndex = 0;\n        let nodeIndex = 0;\n        let part;\n        let node = walker.nextNode();\n        // Loop through all the nodes and parts of a template\n        while (partIndex < parts.length) {\n            part = parts[partIndex];\n            if (!isTemplatePartActive(part)) {\n                this.__parts.push(undefined);\n                partIndex++;\n                continue;\n            }\n            // Progress the tree walker until we find our next part's node.\n            // Note that multiple parts may share the same node (attribute parts\n            // on a single element), so this loop may not run at all.\n            while (nodeIndex < part.index) {\n                nodeIndex++;\n                if (node.nodeName === 'TEMPLATE') {\n                    stack.push(node);\n                    walker.currentNode = node.content;\n                }\n                if ((node = walker.nextNode()) === null) {\n                    // We've exhausted the content inside a nested template element.\n                    // Because we still have parts (the outer for-loop), we know:\n                    // - There is a template in the stack\n                    // - The walker will find a nextNode outside the template\n                    walker.currentNode = stack.pop();\n                    node = walker.nextNode();\n                }\n            }\n            // We've arrived at our part's node.\n            if (part.type === 'node') {\n                const part = this.processor.handleTextExpression(this.options);\n                part.insertAfterNode(node.previousSibling);\n                this.__parts.push(part);\n            }\n            else {\n                this.__parts.push(...this.processor.handleAttributeExpressions(node, part.name, part.strings, this.options));\n            }\n            partIndex++;\n        }\n        if (isCEPolyfill) {\n            document.adoptNode(fragment);\n            customElements.upgrade(fragment);\n        }\n        return fragment;\n    }\n}\n//# sourceMappingURL=template-instance.js.map","/**\n * @license\n * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.\n * This code may only be used under the BSD style license found at\n * http://polymer.github.io/LICENSE.txt\n * The complete set of authors may be found at\n * http://polymer.github.io/AUTHORS.txt\n * The complete set of contributors may be found at\n * http://polymer.github.io/CONTRIBUTORS.txt\n * Code distributed by Google as part of the polymer project is also\n * subject to an additional IP rights grant found at\n * http://polymer.github.io/PATENTS.txt\n */\n/**\n * @module lit-html\n */\nimport { reparentNodes } from './dom.js';\nimport { boundAttributeSuffix, lastAttributeNameRegex, marker, nodeMarker } from './template.js';\nconst commentMarker = ` ${marker} `;\n/**\n * The return type of `html`, which holds a Template and the values from\n * interpolated expressions.\n */\nexport class TemplateResult {\n    constructor(strings, values, type, processor) {\n        this.strings = strings;\n        this.values = values;\n        this.type = type;\n        this.processor = processor;\n    }\n    /**\n     * Returns a string of HTML used to create a `<template>` element.\n     */\n    getHTML() {\n        const l = this.strings.length - 1;\n        let html = '';\n        let isCommentBinding = false;\n        for (let i = 0; i < l; i++) {\n            const s = this.strings[i];\n            // For each binding we want to determine the kind of marker to insert\n            // into the template source before it's parsed by the browser's HTML\n            // parser. The marker type is based on whether the expression is in an\n            // attribute, text, or comment poisition.\n            //   * For node-position bindings we insert a comment with the marker\n            //     sentinel as its text content, like <!--{{lit-guid}}-->.\n            //   * For attribute bindings we insert just the marker sentinel for the\n            //     first binding, so that we support unquoted attribute bindings.\n            //     Subsequent bindings can use a comment marker because multi-binding\n            //     attributes must be quoted.\n            //   * For comment bindings we insert just the marker sentinel so we don't\n            //     close the comment.\n            //\n            // The following code scans the template source, but is *not* an HTML\n            // parser. We don't need to track the tree structure of the HTML, only\n            // whether a binding is inside a comment, and if not, if it appears to be\n            // the first binding in an attribute.\n            const commentOpen = s.lastIndexOf('<!--');\n            // We're in comment position if we have a comment open with no following\n            // comment close. Because <-- can appear in an attribute value there can\n            // be false positives.\n            isCommentBinding = (commentOpen > -1 || isCommentBinding) &&\n                s.indexOf('-->', commentOpen + 1) === -1;\n            // Check to see if we have an attribute-like sequence preceeding the\n            // expression. This can match \"name=value\" like structures in text,\n            // comments, and attribute values, so there can be false-positives.\n            const attributeMatch = lastAttributeNameRegex.exec(s);\n            if (attributeMatch === null) {\n                // We're only in this branch if we don't have a attribute-like\n                // preceeding sequence. For comments, this guards against unusual\n                // attribute values like <div foo=\"<!--${'bar'}\">. Cases like\n                // <!-- foo=${'bar'}--> are handled correctly in the attribute branch\n                // below.\n                html += s + (isCommentBinding ? commentMarker : nodeMarker);\n            }\n            else {\n                // For attributes we use just a marker sentinel, and also append a\n                // $lit$ suffix to the name to opt-out of attribute-specific parsing\n                // that IE and Edge do for style and certain SVG attributes.\n                html += s.substr(0, attributeMatch.index) + attributeMatch[1] +\n                    attributeMatch[2] + boundAttributeSuffix + attributeMatch[3] +\n                    marker;\n            }\n        }\n        html += this.strings[l];\n        return html;\n    }\n    getTemplateElement() {\n        const template = document.createElement('template');\n        template.innerHTML = this.getHTML();\n        return template;\n    }\n}\n/**\n * A TemplateResult for SVG fragments.\n *\n * This class wraps HTML in an `<svg>` tag in order to parse its contents in the\n * SVG namespace, then modifies the template to remove the `<svg>` tag so that\n * clones only container the original fragment.\n */\nexport class SVGTemplateResult extends TemplateResult {\n    getHTML() {\n        return `<svg>${super.getHTML()}</svg>`;\n    }\n    getTemplateElement() {\n        const template = super.getTemplateElement();\n        const content = template.content;\n        const svgElement = content.firstChild;\n        content.removeChild(svgElement);\n        reparentNodes(content, svgElement.firstChild);\n        return template;\n    }\n}\n//# sourceMappingURL=template-result.js.map","/**\n * @license\n * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.\n * This code may only be used under the BSD style license found at\n * http://polymer.github.io/LICENSE.txt\n * The complete set of authors may be found at\n * http://polymer.github.io/AUTHORS.txt\n * The complete set of contributors may be found at\n * http://polymer.github.io/CONTRIBUTORS.txt\n * Code distributed by Google as part of the polymer project is also\n * subject to an additional IP rights grant found at\n * http://polymer.github.io/PATENTS.txt\n */\n/**\n * @module lit-html\n */\nimport { isDirective } from './directive.js';\nimport { removeNodes } from './dom.js';\nimport { noChange, nothing } from './part.js';\nimport { TemplateInstance } from './template-instance.js';\nimport { TemplateResult } from './template-result.js';\nimport { createMarker } from './template.js';\nexport const isPrimitive = (value) => {\n    return (value === null ||\n        !(typeof value === 'object' || typeof value === 'function'));\n};\nexport const isIterable = (value) => {\n    return Array.isArray(value) ||\n        // tslint:disable-next-line:no-any\n        !!(value && value[Symbol.iterator]);\n};\n/**\n * Writes attribute values to the DOM for a group of AttributeParts bound to a\n * single attibute. The value is only set once even if there are multiple parts\n * for an attribute.\n */\nexport class AttributeCommitter {\n    constructor(element, name, strings) {\n        this.dirty = true;\n        this.element = element;\n        this.name = name;\n        this.strings = strings;\n        this.parts = [];\n        for (let i = 0; i < strings.length - 1; i++) {\n            this.parts[i] = this._createPart();\n        }\n    }\n    /**\n     * Creates a single part. Override this to create a differnt type of part.\n     */\n    _createPart() {\n        return new AttributePart(this);\n    }\n    _getValue() {\n        const strings = this.strings;\n        const l = strings.length - 1;\n        let text = '';\n        for (let i = 0; i < l; i++) {\n            text += strings[i];\n            const part = this.parts[i];\n            if (part !== undefined) {\n                const v = part.value;\n                if (isPrimitive(v) || !isIterable(v)) {\n                    text += typeof v === 'string' ? v : String(v);\n                }\n                else {\n                    for (const t of v) {\n                        text += typeof t === 'string' ? t : String(t);\n                    }\n                }\n            }\n        }\n        text += strings[l];\n        return text;\n    }\n    commit() {\n        if (this.dirty) {\n            this.dirty = false;\n            this.element.setAttribute(this.name, this._getValue());\n        }\n    }\n}\n/**\n * A Part that controls all or part of an attribute value.\n */\nexport class AttributePart {\n    constructor(committer) {\n        this.value = undefined;\n        this.committer = committer;\n    }\n    setValue(value) {\n        if (value !== noChange && (!isPrimitive(value) || value !== this.value)) {\n            this.value = value;\n            // If the value is a not a directive, dirty the committer so that it'll\n            // call setAttribute. If the value is a directive, it'll dirty the\n            // committer if it calls setValue().\n            if (!isDirective(value)) {\n                this.committer.dirty = true;\n            }\n        }\n    }\n    commit() {\n        while (isDirective(this.value)) {\n            const directive = this.value;\n            this.value = noChange;\n            directive(this);\n        }\n        if (this.value === noChange) {\n            return;\n        }\n        this.committer.commit();\n    }\n}\n/**\n * A Part that controls a location within a Node tree. Like a Range, NodePart\n * has start and end locations and can set and update the Nodes between those\n * locations.\n *\n * NodeParts support several value types: primitives, Nodes, TemplateResults,\n * as well as arrays and iterables of those types.\n */\nexport class NodePart {\n    constructor(options) {\n        this.value = undefined;\n        this.__pendingValue = undefined;\n        this.options = options;\n    }\n    /**\n     * Appends this part into a container.\n     *\n     * This part must be empty, as its contents are not automatically moved.\n     */\n    appendInto(container) {\n        this.startNode = container.appendChild(createMarker());\n        this.endNode = container.appendChild(createMarker());\n    }\n    /**\n     * Inserts this part after the `ref` node (between `ref` and `ref`'s next\n     * sibling). Both `ref` and its next sibling must be static, unchanging nodes\n     * such as those that appear in a literal section of a template.\n     *\n     * This part must be empty, as its contents are not automatically moved.\n     */\n    insertAfterNode(ref) {\n        this.startNode = ref;\n        this.endNode = ref.nextSibling;\n    }\n    /**\n     * Appends this part into a parent part.\n     *\n     * This part must be empty, as its contents are not automatically moved.\n     */\n    appendIntoPart(part) {\n        part.__insert(this.startNode = createMarker());\n        part.__insert(this.endNode = createMarker());\n    }\n    /**\n     * Inserts this part after the `ref` part.\n     *\n     * This part must be empty, as its contents are not automatically moved.\n     */\n    insertAfterPart(ref) {\n        ref.__insert(this.startNode = createMarker());\n        this.endNode = ref.endNode;\n        ref.endNode = this.startNode;\n    }\n    setValue(value) {\n        this.__pendingValue = value;\n    }\n    commit() {\n        while (isDirective(this.__pendingValue)) {\n            const directive = this.__pendingValue;\n            this.__pendingValue = noChange;\n            directive(this);\n        }\n        const value = this.__pendingValue;\n        if (value === noChange) {\n            return;\n        }\n        if (isPrimitive(value)) {\n            if (value !== this.value) {\n                this.__commitText(value);\n            }\n        }\n        else if (value instanceof TemplateResult) {\n            this.__commitTemplateResult(value);\n        }\n        else if (value instanceof Node) {\n            this.__commitNode(value);\n        }\n        else if (isIterable(value)) {\n            this.__commitIterable(value);\n        }\n        else if (value === nothing) {\n            this.value = nothing;\n            this.clear();\n        }\n        else {\n            // Fallback, will render the string representation\n            this.__commitText(value);\n        }\n    }\n    __insert(node) {\n        this.endNode.parentNode.insertBefore(node, this.endNode);\n    }\n    __commitNode(value) {\n        if (this.value === value) {\n            return;\n        }\n        this.clear();\n        this.__insert(value);\n        this.value = value;\n    }\n    __commitText(value) {\n        const node = this.startNode.nextSibling;\n        value = value == null ? '' : value;\n        // If `value` isn't already a string, we explicitly convert it here in case\n        // it can't be implicitly converted - i.e. it's a symbol.\n        const valueAsString = typeof value === 'string' ? value : String(value);\n        if (node === this.endNode.previousSibling &&\n            node.nodeType === 3 /* Node.TEXT_NODE */) {\n            // If we only have a single text node between the markers, we can just\n            // set its value, rather than replacing it.\n            // TODO(justinfagnani): Can we just check if this.value is primitive?\n            node.data = valueAsString;\n        }\n        else {\n            this.__commitNode(document.createTextNode(valueAsString));\n        }\n        this.value = value;\n    }\n    __commitTemplateResult(value) {\n        const template = this.options.templateFactory(value);\n        if (this.value instanceof TemplateInstance &&\n            this.value.template === template) {\n            this.value.update(value.values);\n        }\n        else {\n            // Make sure we propagate the template processor from the TemplateResult\n            // so that we use its syntax extension, etc. The template factory comes\n            // from the render function options so that it can control template\n            // caching and preprocessing.\n            const instance = new TemplateInstance(template, value.processor, this.options);\n            const fragment = instance._clone();\n            instance.update(value.values);\n            this.__commitNode(fragment);\n            this.value = instance;\n        }\n    }\n    __commitIterable(value) {\n        // For an Iterable, we create a new InstancePart per item, then set its\n        // value to the item. This is a little bit of overhead for every item in\n        // an Iterable, but it lets us recurse easily and efficiently update Arrays\n        // of TemplateResults that will be commonly returned from expressions like:\n        // array.map((i) => html`${i}`), by reusing existing TemplateInstances.\n        // If _value is an array, then the previous render was of an\n        // iterable and _value will contain the NodeParts from the previous\n        // render. If _value is not an array, clear this part and make a new\n        // array for NodeParts.\n        if (!Array.isArray(this.value)) {\n            this.value = [];\n            this.clear();\n        }\n        // Lets us keep track of how many items we stamped so we can clear leftover\n        // items from a previous render\n        const itemParts = this.value;\n        let partIndex = 0;\n        let itemPart;\n        for (const item of value) {\n            // Try to reuse an existing part\n            itemPart = itemParts[partIndex];\n            // If no existing part, create a new one\n            if (itemPart === undefined) {\n                itemPart = new NodePart(this.options);\n                itemParts.push(itemPart);\n                if (partIndex === 0) {\n                    itemPart.appendIntoPart(this);\n                }\n                else {\n                    itemPart.insertAfterPart(itemParts[partIndex - 1]);\n                }\n            }\n            itemPart.setValue(item);\n            itemPart.commit();\n            partIndex++;\n        }\n        if (partIndex < itemParts.length) {\n            // Truncate the parts array so _value reflects the current state\n            itemParts.length = partIndex;\n            this.clear(itemPart && itemPart.endNode);\n        }\n    }\n    clear(startNode = this.startNode) {\n        removeNodes(this.startNode.parentNode, startNode.nextSibling, this.endNode);\n    }\n}\n/**\n * Implements a boolean attribute, roughly as defined in the HTML\n * specification.\n *\n * If the value is truthy, then the attribute is present with a value of\n * ''. If the value is falsey, the attribute is removed.\n */\nexport class BooleanAttributePart {\n    constructor(element, name, strings) {\n        this.value = undefined;\n        this.__pendingValue = undefined;\n        if (strings.length !== 2 || strings[0] !== '' || strings[1] !== '') {\n            throw new Error('Boolean attributes can only contain a single expression');\n        }\n        this.element = element;\n        this.name = name;\n        this.strings = strings;\n    }\n    setValue(value) {\n        this.__pendingValue = value;\n    }\n    commit() {\n        while (isDirective(this.__pendingValue)) {\n            const directive = this.__pendingValue;\n            this.__pendingValue = noChange;\n            directive(this);\n        }\n        if (this.__pendingValue === noChange) {\n            return;\n        }\n        const value = !!this.__pendingValue;\n        if (this.value !== value) {\n            if (value) {\n                this.element.setAttribute(this.name, '');\n            }\n            else {\n                this.element.removeAttribute(this.name);\n            }\n            this.value = value;\n        }\n        this.__pendingValue = noChange;\n    }\n}\n/**\n * Sets attribute values for PropertyParts, so that the value is only set once\n * even if there are multiple parts for a property.\n *\n * If an expression controls the whole property value, then the value is simply\n * assigned to the property under control. If there are string literals or\n * multiple expressions, then the strings are expressions are interpolated into\n * a string first.\n */\nexport class PropertyCommitter extends AttributeCommitter {\n    constructor(element, name, strings) {\n        super(element, name, strings);\n        this.single =\n            (strings.length === 2 && strings[0] === '' && strings[1] === '');\n    }\n    _createPart() {\n        return new PropertyPart(this);\n    }\n    _getValue() {\n        if (this.single) {\n            return this.parts[0].value;\n        }\n        return super._getValue();\n    }\n    commit() {\n        if (this.dirty) {\n            this.dirty = false;\n            // tslint:disable-next-line:no-any\n            this.element[this.name] = this._getValue();\n        }\n    }\n}\nexport class PropertyPart extends AttributePart {\n}\n// Detect event listener options support. If the `capture` property is read\n// from the options object, then options are supported. If not, then the thrid\n// argument to add/removeEventListener is interpreted as the boolean capture\n// value so we should only pass the `capture` property.\nlet eventOptionsSupported = false;\ntry {\n    const options = {\n        get capture() {\n            eventOptionsSupported = true;\n            return false;\n        }\n    };\n    // tslint:disable-next-line:no-any\n    window.addEventListener('test', options, options);\n    // tslint:disable-next-line:no-any\n    window.removeEventListener('test', options, options);\n}\ncatch (_e) {\n}\nexport class EventPart {\n    constructor(element, eventName, eventContext) {\n        this.value = undefined;\n        this.__pendingValue = undefined;\n        this.element = element;\n        this.eventName = eventName;\n        this.eventContext = eventContext;\n        this.__boundHandleEvent = (e) => this.handleEvent(e);\n    }\n    setValue(value) {\n        this.__pendingValue = value;\n    }\n    commit() {\n        while (isDirective(this.__pendingValue)) {\n            const directive = this.__pendingValue;\n            this.__pendingValue = noChange;\n            directive(this);\n        }\n        if (this.__pendingValue === noChange) {\n            return;\n        }\n        const newListener = this.__pendingValue;\n        const oldListener = this.value;\n        const shouldRemoveListener = newListener == null ||\n            oldListener != null &&\n                (newListener.capture !== oldListener.capture ||\n                    newListener.once !== oldListener.once ||\n                    newListener.passive !== oldListener.passive);\n        const shouldAddListener = newListener != null && (oldListener == null || shouldRemoveListener);\n        if (shouldRemoveListener) {\n            this.element.removeEventListener(this.eventName, this.__boundHandleEvent, this.__options);\n        }\n        if (shouldAddListener) {\n            this.__options = getOptions(newListener);\n            this.element.addEventListener(this.eventName, this.__boundHandleEvent, this.__options);\n        }\n        this.value = newListener;\n        this.__pendingValue = noChange;\n    }\n    handleEvent(event) {\n        if (typeof this.value === 'function') {\n            this.value.call(this.eventContext || this.element, event);\n        }\n        else {\n            this.value.handleEvent(event);\n        }\n    }\n}\n// We copy options because of the inconsistent behavior of browsers when reading\n// the third argument of add/removeEventListener. IE11 doesn't support options\n// at all. Chrome 41 only reads `capture` if the argument is an object.\nconst getOptions = (o) => o &&\n    (eventOptionsSupported ?\n        { capture: o.capture, passive: o.passive, once: o.once } :\n        o.capture);\n//# sourceMappingURL=parts.js.map","/**\n * @license\n * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.\n * This code may only be used under the BSD style license found at\n * http://polymer.github.io/LICENSE.txt\n * The complete set of authors may be found at\n * http://polymer.github.io/AUTHORS.txt\n * The complete set of contributors may be found at\n * http://polymer.github.io/CONTRIBUTORS.txt\n * Code distributed by Google as part of the polymer project is also\n * subject to an additional IP rights grant found at\n * http://polymer.github.io/PATENTS.txt\n */\nimport { AttributeCommitter, BooleanAttributePart, EventPart, NodePart, PropertyCommitter } from './parts.js';\n/**\n * Creates Parts when a template is instantiated.\n */\nexport class DefaultTemplateProcessor {\n    /**\n     * Create parts for an attribute-position binding, given the event, attribute\n     * name, and string literals.\n     *\n     * @param element The element containing the binding\n     * @param name  The attribute name\n     * @param strings The string literals. There are always at least two strings,\n     *   event for fully-controlled bindings with a single expression.\n     */\n    handleAttributeExpressions(element, name, strings, options) {\n        const prefix = name[0];\n        if (prefix === '.') {\n            const committer = new PropertyCommitter(element, name.slice(1), strings);\n            return committer.parts;\n        }\n        if (prefix === '@') {\n            return [new EventPart(element, name.slice(1), options.eventContext)];\n        }\n        if (prefix === '?') {\n            return [new BooleanAttributePart(element, name.slice(1), strings)];\n        }\n        const committer = new AttributeCommitter(element, name, strings);\n        return committer.parts;\n    }\n    /**\n     * Create parts for a text-position binding.\n     * @param templateFactory\n     */\n    handleTextExpression(options) {\n        return new NodePart(options);\n    }\n}\nexport const defaultTemplateProcessor = new DefaultTemplateProcessor();\n//# sourceMappingURL=default-template-processor.js.map","/**\n * @license\n * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.\n * This code may only be used under the BSD style license found at\n * http://polymer.github.io/LICENSE.txt\n * The complete set of authors may be found at\n * http://polymer.github.io/AUTHORS.txt\n * The complete set of contributors may be found at\n * http://polymer.github.io/CONTRIBUTORS.txt\n * Code distributed by Google as part of the polymer project is also\n * subject to an additional IP rights grant found at\n * http://polymer.github.io/PATENTS.txt\n */\nimport { marker, Template } from './template.js';\n/**\n * The default TemplateFactory which caches Templates keyed on\n * result.type and result.strings.\n */\nexport function templateFactory(result) {\n    let templateCache = templateCaches.get(result.type);\n    if (templateCache === undefined) {\n        templateCache = {\n            stringsArray: new WeakMap(),\n            keyString: new Map()\n        };\n        templateCaches.set(result.type, templateCache);\n    }\n    let template = templateCache.stringsArray.get(result.strings);\n    if (template !== undefined) {\n        return template;\n    }\n    // If the TemplateStringsArray is new, generate a key from the strings\n    // This key is shared between all templates with identical content\n    const key = result.strings.join(marker);\n    // Check if we already have a Template for this key\n    template = templateCache.keyString.get(key);\n    if (template === undefined) {\n        // If we have not seen this key before, create a new Template\n        template = new Template(result, result.getTemplateElement());\n        // Cache the Template for this key\n        templateCache.keyString.set(key, template);\n    }\n    // Cache all future queries for this TemplateStringsArray\n    templateCache.stringsArray.set(result.strings, template);\n    return template;\n}\nexport const templateCaches = new Map();\n//# sourceMappingURL=template-factory.js.map","/**\n * @license\n * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.\n * This code may only be used under the BSD style license found at\n * http://polymer.github.io/LICENSE.txt\n * The complete set of authors may be found at\n * http://polymer.github.io/AUTHORS.txt\n * The complete set of contributors may be found at\n * http://polymer.github.io/CONTRIBUTORS.txt\n * Code distributed by Google as part of the polymer project is also\n * subject to an additional IP rights grant found at\n * http://polymer.github.io/PATENTS.txt\n */\n/**\n * @module lit-html\n */\nimport { removeNodes } from './dom.js';\nimport { NodePart } from './parts.js';\nimport { templateFactory } from './template-factory.js';\nexport const parts = new WeakMap();\n/**\n * Renders a template result or other value to a container.\n *\n * To update a container with new values, reevaluate the template literal and\n * call `render` with the new result.\n *\n * @param result Any value renderable by NodePart - typically a TemplateResult\n *     created by evaluating a template tag like `html` or `svg`.\n * @param container A DOM parent to render to. The entire contents are either\n *     replaced, or efficiently updated if the same result type was previous\n *     rendered there.\n * @param options RenderOptions for the entire render tree rendered to this\n *     container. Render options must *not* change between renders to the same\n *     container, as those changes will not effect previously rendered DOM.\n */\nexport const render = (result, container, options) => {\n    let part = parts.get(container);\n    if (part === undefined) {\n        removeNodes(container, container.firstChild);\n        parts.set(container, part = new NodePart(Object.assign({ templateFactory }, options)));\n        part.appendInto(container);\n    }\n    part.setValue(result);\n    part.commit();\n};\n//# sourceMappingURL=render.js.map","/**\n * @license\n * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.\n * This code may only be used under the BSD style license found at\n * http://polymer.github.io/LICENSE.txt\n * The complete set of authors may be found at\n * http://polymer.github.io/AUTHORS.txt\n * The complete set of contributors may be found at\n * http://polymer.github.io/CONTRIBUTORS.txt\n * Code distributed by Google as part of the polymer project is also\n * subject to an additional IP rights grant found at\n * http://polymer.github.io/PATENTS.txt\n */\n/**\n *\n * Main lit-html module.\n *\n * Main exports:\n *\n * -  [[html]]\n * -  [[svg]]\n * -  [[render]]\n *\n * @module lit-html\n * @preferred\n */\n/**\n * Do not remove this comment; it keeps typedoc from misplacing the module\n * docs.\n */\nimport { defaultTemplateProcessor } from './lib/default-template-processor.js';\nimport { SVGTemplateResult, TemplateResult } from './lib/template-result.js';\nexport { DefaultTemplateProcessor, defaultTemplateProcessor } from './lib/default-template-processor.js';\nexport { directive, isDirective } from './lib/directive.js';\n// TODO(justinfagnani): remove line when we get NodePart moving methods\nexport { removeNodes, reparentNodes } from './lib/dom.js';\nexport { noChange, nothing } from './lib/part.js';\nexport { AttributeCommitter, AttributePart, BooleanAttributePart, EventPart, isIterable, isPrimitive, NodePart, PropertyCommitter, PropertyPart } from './lib/parts.js';\nexport { parts, render } from './lib/render.js';\nexport { templateCaches, templateFactory } from './lib/template-factory.js';\nexport { TemplateInstance } from './lib/template-instance.js';\nexport { SVGTemplateResult, TemplateResult } from './lib/template-result.js';\nexport { createMarker, isTemplatePartActive, Template } from './lib/template.js';\n// IMPORTANT: do not change the property name or the assignment expression.\n// This line will be used in regexes to search for lit-html usage.\n// TODO(justinfagnani): inject version number at build time\n(window['litHtmlVersions'] || (window['litHtmlVersions'] = [])).push('1.1.2');\n/**\n * Interprets a template literal as an HTML template that can efficiently\n * render to and update a container.\n */\nexport const html = (strings, ...values) => new TemplateResult(strings, values, 'html', defaultTemplateProcessor);\n/**\n * Interprets a template literal as an SVG template that can efficiently\n * render to and update a container.\n */\nexport const svg = (strings, ...values) => new SVGTemplateResult(strings, values, 'svg', defaultTemplateProcessor);\n//# sourceMappingURL=lit-html.js.map","/**\n * @license\n * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.\n * This code may only be used under the BSD style license found at\n * http://polymer.github.io/LICENSE.txt\n * The complete set of authors may be found at\n * http://polymer.github.io/AUTHORS.txt\n * The complete set of contributors may be found at\n * http://polymer.github.io/CONTRIBUTORS.txt\n * Code distributed by Google as part of the polymer project is also\n * subject to an additional IP rights grant found at\n * http://polymer.github.io/PATENTS.txt\n */\n/**\n * @module shady-render\n */\nimport { isTemplatePartActive } from './template.js';\nconst walkerNodeFilter = 133 /* NodeFilter.SHOW_{ELEMENT|COMMENT|TEXT} */;\n/**\n * Removes the list of nodes from a Template safely. In addition to removing\n * nodes from the Template, the Template part indices are updated to match\n * the mutated Template DOM.\n *\n * As the template is walked the removal state is tracked and\n * part indices are adjusted as needed.\n *\n * div\n *   div#1 (remove) <-- start removing (removing node is div#1)\n *     div\n *       div#2 (remove)  <-- continue removing (removing node is still div#1)\n *         div\n * div <-- stop removing since previous sibling is the removing node (div#1,\n * removed 4 nodes)\n */\nexport function removeNodesFromTemplate(template, nodesToRemove) {\n    const { element: { content }, parts } = template;\n    const walker = document.createTreeWalker(content, walkerNodeFilter, null, false);\n    let partIndex = nextActiveIndexInTemplateParts(parts);\n    let part = parts[partIndex];\n    let nodeIndex = -1;\n    let removeCount = 0;\n    const nodesToRemoveInTemplate = [];\n    let currentRemovingNode = null;\n    while (walker.nextNode()) {\n        nodeIndex++;\n        const node = walker.currentNode;\n        // End removal if stepped past the removing node\n        if (node.previousSibling === currentRemovingNode) {\n            currentRemovingNode = null;\n        }\n        // A node to remove was found in the template\n        if (nodesToRemove.has(node)) {\n            nodesToRemoveInTemplate.push(node);\n            // Track node we're removing\n            if (currentRemovingNode === null) {\n                currentRemovingNode = node;\n            }\n        }\n        // When removing, increment count by which to adjust subsequent part indices\n        if (currentRemovingNode !== null) {\n            removeCount++;\n        }\n        while (part !== undefined && part.index === nodeIndex) {\n            // If part is in a removed node deactivate it by setting index to -1 or\n            // adjust the index as needed.\n            part.index = currentRemovingNode !== null ? -1 : part.index - removeCount;\n            // go to the next active part.\n            partIndex = nextActiveIndexInTemplateParts(parts, partIndex);\n            part = parts[partIndex];\n        }\n    }\n    nodesToRemoveInTemplate.forEach((n) => n.parentNode.removeChild(n));\n}\nconst countNodes = (node) => {\n    let count = (node.nodeType === 11 /* Node.DOCUMENT_FRAGMENT_NODE */) ? 0 : 1;\n    const walker = document.createTreeWalker(node, walkerNodeFilter, null, false);\n    while (walker.nextNode()) {\n        count++;\n    }\n    return count;\n};\nconst nextActiveIndexInTemplateParts = (parts, startIndex = -1) => {\n    for (let i = startIndex + 1; i < parts.length; i++) {\n        const part = parts[i];\n        if (isTemplatePartActive(part)) {\n            return i;\n        }\n    }\n    return -1;\n};\n/**\n * Inserts the given node into the Template, optionally before the given\n * refNode. In addition to inserting the node into the Template, the Template\n * part indices are updated to match the mutated Template DOM.\n */\nexport function insertNodeIntoTemplate(template, node, refNode = null) {\n    const { element: { content }, parts } = template;\n    // If there's no refNode, then put node at end of template.\n    // No part indices need to be shifted in this case.\n    if (refNode === null || refNode === undefined) {\n        content.appendChild(node);\n        return;\n    }\n    const walker = document.createTreeWalker(content, walkerNodeFilter, null, false);\n    let partIndex = nextActiveIndexInTemplateParts(parts);\n    let insertCount = 0;\n    let walkerIndex = -1;\n    while (walker.nextNode()) {\n        walkerIndex++;\n        const walkerNode = walker.currentNode;\n        if (walkerNode === refNode) {\n            insertCount = countNodes(node);\n            refNode.parentNode.insertBefore(node, refNode);\n        }\n        while (partIndex !== -1 && parts[partIndex].index === walkerIndex) {\n            // If we've inserted the node, simply adjust all subsequent parts\n            if (insertCount > 0) {\n                while (partIndex !== -1) {\n                    parts[partIndex].index += insertCount;\n                    partIndex = nextActiveIndexInTemplateParts(parts, partIndex);\n                }\n                return;\n            }\n            partIndex = nextActiveIndexInTemplateParts(parts, partIndex);\n        }\n    }\n}\n//# sourceMappingURL=modify-template.js.map","/**\n * @license\n * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.\n * This code may only be used under the BSD style license found at\n * http://polymer.github.io/LICENSE.txt\n * The complete set of authors may be found at\n * http://polymer.github.io/AUTHORS.txt\n * The complete set of contributors may be found at\n * http://polymer.github.io/CONTRIBUTORS.txt\n * Code distributed by Google as part of the polymer project is also\n * subject to an additional IP rights grant found at\n * http://polymer.github.io/PATENTS.txt\n */\n/**\n * Module to add shady DOM/shady CSS polyfill support to lit-html template\n * rendering. See the [[render]] method for details.\n *\n * @module shady-render\n * @preferred\n */\n/**\n * Do not remove this comment; it keeps typedoc from misplacing the module\n * docs.\n */\nimport { removeNodes } from './dom.js';\nimport { insertNodeIntoTemplate, removeNodesFromTemplate } from './modify-template.js';\nimport { parts, render as litRender } from './render.js';\nimport { templateCaches } from './template-factory.js';\nimport { TemplateInstance } from './template-instance.js';\nimport { marker, Template } from './template.js';\nexport { html, svg, TemplateResult } from '../lit-html.js';\n// Get a key to lookup in `templateCaches`.\nconst getTemplateCacheKey = (type, scopeName) => `${type}--${scopeName}`;\nlet compatibleShadyCSSVersion = true;\nif (typeof window.ShadyCSS === 'undefined') {\n    compatibleShadyCSSVersion = false;\n}\nelse if (typeof window.ShadyCSS.prepareTemplateDom === 'undefined') {\n    console.warn(`Incompatible ShadyCSS version detected. ` +\n        `Please update to at least @webcomponents/webcomponentsjs@2.0.2 and ` +\n        `@webcomponents/shadycss@1.3.1.`);\n    compatibleShadyCSSVersion = false;\n}\n/**\n * Template factory which scopes template DOM using ShadyCSS.\n * @param scopeName {string}\n */\nconst shadyTemplateFactory = (scopeName) => (result) => {\n    const cacheKey = getTemplateCacheKey(result.type, scopeName);\n    let templateCache = templateCaches.get(cacheKey);\n    if (templateCache === undefined) {\n        templateCache = {\n            stringsArray: new WeakMap(),\n            keyString: new Map()\n        };\n        templateCaches.set(cacheKey, templateCache);\n    }\n    let template = templateCache.stringsArray.get(result.strings);\n    if (template !== undefined) {\n        return template;\n    }\n    const key = result.strings.join(marker);\n    template = templateCache.keyString.get(key);\n    if (template === undefined) {\n        const element = result.getTemplateElement();\n        if (compatibleShadyCSSVersion) {\n            window.ShadyCSS.prepareTemplateDom(element, scopeName);\n        }\n        template = new Template(result, element);\n        templateCache.keyString.set(key, template);\n    }\n    templateCache.stringsArray.set(result.strings, template);\n    return template;\n};\nconst TEMPLATE_TYPES = ['html', 'svg'];\n/**\n * Removes all style elements from Templates for the given scopeName.\n */\nconst removeStylesFromLitTemplates = (scopeName) => {\n    TEMPLATE_TYPES.forEach((type) => {\n        const templates = templateCaches.get(getTemplateCacheKey(type, scopeName));\n        if (templates !== undefined) {\n            templates.keyString.forEach((template) => {\n                const { element: { content } } = template;\n                // IE 11 doesn't support the iterable param Set constructor\n                const styles = new Set();\n                Array.from(content.querySelectorAll('style')).forEach((s) => {\n                    styles.add(s);\n                });\n                removeNodesFromTemplate(template, styles);\n            });\n        }\n    });\n};\nconst shadyRenderSet = new Set();\n/**\n * For the given scope name, ensures that ShadyCSS style scoping is performed.\n * This is done just once per scope name so the fragment and template cannot\n * be modified.\n * (1) extracts styles from the rendered fragment and hands them to ShadyCSS\n * to be scoped and appended to the document\n * (2) removes style elements from all lit-html Templates for this scope name.\n *\n * Note, <style> elements can only be placed into templates for the\n * initial rendering of the scope. If <style> elements are included in templates\n * dynamically rendered to the scope (after the first scope render), they will\n * not be scoped and the <style> will be left in the template and rendered\n * output.\n */\nconst prepareTemplateStyles = (scopeName, renderedDOM, template) => {\n    shadyRenderSet.add(scopeName);\n    // If `renderedDOM` is stamped from a Template, then we need to edit that\n    // Template's underlying template element. Otherwise, we create one here\n    // to give to ShadyCSS, which still requires one while scoping.\n    const templateElement = !!template ? template.element : document.createElement('template');\n    // Move styles out of rendered DOM and store.\n    const styles = renderedDOM.querySelectorAll('style');\n    const { length } = styles;\n    // If there are no styles, skip unnecessary work\n    if (length === 0) {\n        // Ensure prepareTemplateStyles is called to support adding\n        // styles via `prepareAdoptedCssText` since that requires that\n        // `prepareTemplateStyles` is called.\n        //\n        // ShadyCSS will only update styles containing @apply in the template\n        // given to `prepareTemplateStyles`. If no lit Template was given,\n        // ShadyCSS will not be able to update uses of @apply in any relevant\n        // template. However, this is not a problem because we only create the\n        // template for the purpose of supporting `prepareAdoptedCssText`,\n        // which doesn't support @apply at all.\n        window.ShadyCSS.prepareTemplateStyles(templateElement, scopeName);\n        return;\n    }\n    const condensedStyle = document.createElement('style');\n    // Collect styles into a single style. This helps us make sure ShadyCSS\n    // manipulations will not prevent us from being able to fix up template\n    // part indices.\n    // NOTE: collecting styles is inefficient for browsers but ShadyCSS\n    // currently does this anyway. When it does not, this should be changed.\n    for (let i = 0; i < length; i++) {\n        const style = styles[i];\n        style.parentNode.removeChild(style);\n        condensedStyle.textContent += style.textContent;\n    }\n    // Remove styles from nested templates in this scope.\n    removeStylesFromLitTemplates(scopeName);\n    // And then put the condensed style into the \"root\" template passed in as\n    // `template`.\n    const content = templateElement.content;\n    if (!!template) {\n        insertNodeIntoTemplate(template, condensedStyle, content.firstChild);\n    }\n    else {\n        content.insertBefore(condensedStyle, content.firstChild);\n    }\n    // Note, it's important that ShadyCSS gets the template that `lit-html`\n    // will actually render so that it can update the style inside when\n    // needed (e.g. @apply native Shadow DOM case).\n    window.ShadyCSS.prepareTemplateStyles(templateElement, scopeName);\n    const style = content.querySelector('style');\n    if (window.ShadyCSS.nativeShadow && style !== null) {\n        // When in native Shadow DOM, ensure the style created by ShadyCSS is\n        // included in initially rendered output (`renderedDOM`).\n        renderedDOM.insertBefore(style.cloneNode(true), renderedDOM.firstChild);\n    }\n    else if (!!template) {\n        // When no style is left in the template, parts will be broken as a\n        // result. To fix this, we put back the style node ShadyCSS removed\n        // and then tell lit to remove that node from the template.\n        // There can be no style in the template in 2 cases (1) when Shady DOM\n        // is in use, ShadyCSS removes all styles, (2) when native Shadow DOM\n        // is in use ShadyCSS removes the style if it contains no content.\n        // NOTE, ShadyCSS creates its own style so we can safely add/remove\n        // `condensedStyle` here.\n        content.insertBefore(condensedStyle, content.firstChild);\n        const removes = new Set();\n        removes.add(condensedStyle);\n        removeNodesFromTemplate(template, removes);\n    }\n};\n/**\n * Extension to the standard `render` method which supports rendering\n * to ShadowRoots when the ShadyDOM (https://github.com/webcomponents/shadydom)\n * and ShadyCSS (https://github.com/webcomponents/shadycss) polyfills are used\n * or when the webcomponentsjs\n * (https://github.com/webcomponents/webcomponentsjs) polyfill is used.\n *\n * Adds a `scopeName` option which is used to scope element DOM and stylesheets\n * when native ShadowDOM is unavailable. The `scopeName` will be added to\n * the class attribute of all rendered DOM. In addition, any style elements will\n * be automatically re-written with this `scopeName` selector and moved out\n * of the rendered DOM and into the document `<head>`.\n *\n * It is common to use this render method in conjunction with a custom element\n * which renders a shadowRoot. When this is done, typically the element's\n * `localName` should be used as the `scopeName`.\n *\n * In addition to DOM scoping, ShadyCSS also supports a basic shim for css\n * custom properties (needed only on older browsers like IE11) and a shim for\n * a deprecated feature called `@apply` that supports applying a set of css\n * custom properties to a given location.\n *\n * Usage considerations:\n *\n * * Part values in `<style>` elements are only applied the first time a given\n * `scopeName` renders. Subsequent changes to parts in style elements will have\n * no effect. Because of this, parts in style elements should only be used for\n * values that will never change, for example parts that set scope-wide theme\n * values or parts which render shared style elements.\n *\n * * Note, due to a limitation of the ShadyDOM polyfill, rendering in a\n * custom element's `constructor` is not supported. Instead rendering should\n * either done asynchronously, for example at microtask timing (for example\n * `Promise.resolve()`), or be deferred until the first time the element's\n * `connectedCallback` runs.\n *\n * Usage considerations when using shimmed custom properties or `@apply`:\n *\n * * Whenever any dynamic changes are made which affect\n * css custom properties, `ShadyCSS.styleElement(element)` must be called\n * to update the element. There are two cases when this is needed:\n * (1) the element is connected to a new parent, (2) a class is added to the\n * element that causes it to match different custom properties.\n * To address the first case when rendering a custom element, `styleElement`\n * should be called in the element's `connectedCallback`.\n *\n * * Shimmed custom properties may only be defined either for an entire\n * shadowRoot (for example, in a `:host` rule) or via a rule that directly\n * matches an element with a shadowRoot. In other words, instead of flowing from\n * parent to child as do native css custom properties, shimmed custom properties\n * flow only from shadowRoots to nested shadowRoots.\n *\n * * When using `@apply` mixing css shorthand property names with\n * non-shorthand names (for example `border` and `border-width`) is not\n * supported.\n */\nexport const render = (result, container, options) => {\n    if (!options || typeof options !== 'object' || !options.scopeName) {\n        throw new Error('The `scopeName` option is required.');\n    }\n    const scopeName = options.scopeName;\n    const hasRendered = parts.has(container);\n    const needsScoping = compatibleShadyCSSVersion &&\n        container.nodeType === 11 /* Node.DOCUMENT_FRAGMENT_NODE */ &&\n        !!container.host;\n    // Handle first render to a scope specially...\n    const firstScopeRender = needsScoping && !shadyRenderSet.has(scopeName);\n    // On first scope render, render into a fragment; this cannot be a single\n    // fragment that is reused since nested renders can occur synchronously.\n    const renderContainer = firstScopeRender ? document.createDocumentFragment() : container;\n    litRender(result, renderContainer, Object.assign({ templateFactory: shadyTemplateFactory(scopeName) }, options));\n    // When performing first scope render,\n    // (1) We've rendered into a fragment so that there's a chance to\n    // `prepareTemplateStyles` before sub-elements hit the DOM\n    // (which might cause them to render based on a common pattern of\n    // rendering in a custom element's `connectedCallback`);\n    // (2) Scope the template with ShadyCSS one time only for this scope.\n    // (3) Render the fragment into the container and make sure the\n    // container knows its `part` is the one we just rendered. This ensures\n    // DOM will be re-used on subsequent renders.\n    if (firstScopeRender) {\n        const part = parts.get(renderContainer);\n        parts.delete(renderContainer);\n        // ShadyCSS might have style sheets (e.g. from `prepareAdoptedCssText`)\n        // that should apply to `renderContainer` even if the rendered value is\n        // not a TemplateInstance. However, it will only insert scoped styles\n        // into the document if `prepareTemplateStyles` has already been called\n        // for the given scope name.\n        const template = part.value instanceof TemplateInstance ?\n            part.value.template :\n            undefined;\n        prepareTemplateStyles(scopeName, renderContainer, template);\n        removeNodes(container, container.firstChild);\n        container.appendChild(renderContainer);\n        parts.set(container, part);\n    }\n    // After elements have hit the DOM, update styling if this is the\n    // initial render to this container.\n    // This is needed whenever dynamic changes are made so it would be\n    // safest to do every render; however, this would regress performance\n    // so we leave it up to the user to call `ShadyCSS.styleElement`\n    // for dynamic changes.\n    if (!hasRendered && needsScoping) {\n        window.ShadyCSS.styleElement(container.host);\n    }\n};\n//# sourceMappingURL=shady-render.js.map","/**\n * @license\n * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.\n * This code may only be used under the BSD style license found at\n * http://polymer.github.io/LICENSE.txt\n * The complete set of authors may be found at\n * http://polymer.github.io/AUTHORS.txt\n * The complete set of contributors may be found at\n * http://polymer.github.io/CONTRIBUTORS.txt\n * Code distributed by Google as part of the polymer project is also\n * subject to an additional IP rights grant found at\n * http://polymer.github.io/PATENTS.txt\n */\nvar _a;\n/**\n * When using Closure Compiler, JSCompiler_renameProperty(property, object) is\n * replaced at compile time by the munged name for object[property]. We cannot\n * alias this function, so we have to use a small shim that has the same\n * behavior when not compiling.\n */\nwindow.JSCompiler_renameProperty =\n    (prop, _obj) => prop;\nexport const defaultConverter = {\n    toAttribute(value, type) {\n        switch (type) {\n            case Boolean:\n                return value ? '' : null;\n            case Object:\n            case Array:\n                // if the value is `null` or `undefined` pass this through\n                // to allow removing/no change behavior.\n                return value == null ? value : JSON.stringify(value);\n        }\n        return value;\n    },\n    fromAttribute(value, type) {\n        switch (type) {\n            case Boolean:\n                return value !== null;\n            case Number:\n                return value === null ? null : Number(value);\n            case Object:\n            case Array:\n                return JSON.parse(value);\n        }\n        return value;\n    }\n};\n/**\n * Change function that returns true if `value` is different from `oldValue`.\n * This method is used as the default for a property's `hasChanged` function.\n */\nexport const notEqual = (value, old) => {\n    // This ensures (old==NaN, value==NaN) always returns false\n    return old !== value && (old === old || value === value);\n};\nconst defaultPropertyDeclaration = {\n    attribute: true,\n    type: String,\n    converter: defaultConverter,\n    reflect: false,\n    hasChanged: notEqual\n};\nconst microtaskPromise = Promise.resolve(true);\nconst STATE_HAS_UPDATED = 1;\nconst STATE_UPDATE_REQUESTED = 1 << 2;\nconst STATE_IS_REFLECTING_TO_ATTRIBUTE = 1 << 3;\nconst STATE_IS_REFLECTING_TO_PROPERTY = 1 << 4;\nconst STATE_HAS_CONNECTED = 1 << 5;\n/**\n * The Closure JS Compiler doesn't currently have good support for static\n * property semantics where \"this\" is dynamic (e.g.\n * https://github.com/google/closure-compiler/issues/3177 and others) so we use\n * this hack to bypass any rewriting by the compiler.\n */\nconst finalized = 'finalized';\n/**\n * Base element class which manages element properties and attributes. When\n * properties change, the `update` method is asynchronously called. This method\n * should be supplied by subclassers to render updates as desired.\n */\nexport class UpdatingElement extends HTMLElement {\n    constructor() {\n        super();\n        this._updateState = 0;\n        this._instanceProperties = undefined;\n        this._updatePromise = microtaskPromise;\n        this._hasConnectedResolver = undefined;\n        /**\n         * Map with keys for any properties that have changed since the last\n         * update cycle with previous values.\n         */\n        this._changedProperties = new Map();\n        /**\n         * Map with keys of properties that should be reflected when updated.\n         */\n        this._reflectingProperties = undefined;\n        this.initialize();\n    }\n    /**\n     * Returns a list of attributes corresponding to the registered properties.\n     * @nocollapse\n     */\n    static get observedAttributes() {\n        // note: piggy backing on this to ensure we're finalized.\n        this.finalize();\n        const attributes = [];\n        // Use forEach so this works even if for/of loops are compiled to for loops\n        // expecting arrays\n        this._classProperties.forEach((v, p) => {\n            const attr = this._attributeNameForProperty(p, v);\n            if (attr !== undefined) {\n                this._attributeToPropertyMap.set(attr, p);\n                attributes.push(attr);\n            }\n        });\n        return attributes;\n    }\n    /**\n     * Ensures the private `_classProperties` property metadata is created.\n     * In addition to `finalize` this is also called in `createProperty` to\n     * ensure the `@property` decorator can add property metadata.\n     */\n    /** @nocollapse */\n    static _ensureClassProperties() {\n        // ensure private storage for property declarations.\n        if (!this.hasOwnProperty(JSCompiler_renameProperty('_classProperties', this))) {\n            this._classProperties = new Map();\n            // NOTE: Workaround IE11 not supporting Map constructor argument.\n            const superProperties = Object.getPrototypeOf(this)._classProperties;\n            if (superProperties !== undefined) {\n                superProperties.forEach((v, k) => this._classProperties.set(k, v));\n            }\n        }\n    }\n    /**\n     * Creates a property accessor on the element prototype if one does not exist.\n     * The property setter calls the property's `hasChanged` property option\n     * or uses a strict identity check to determine whether or not to request\n     * an update.\n     * @nocollapse\n     */\n    static createProperty(name, options = defaultPropertyDeclaration) {\n        // Note, since this can be called by the `@property` decorator which\n        // is called before `finalize`, we ensure storage exists for property\n        // metadata.\n        this._ensureClassProperties();\n        this._classProperties.set(name, options);\n        // Do not generate an accessor if the prototype already has one, since\n        // it would be lost otherwise and that would never be the user's intention;\n        // Instead, we expect users to call `requestUpdate` themselves from\n        // user-defined accessors. Note that if the super has an accessor we will\n        // still overwrite it\n        if (options.noAccessor || this.prototype.hasOwnProperty(name)) {\n            return;\n        }\n        const key = typeof name === 'symbol' ? Symbol() : `__${name}`;\n        Object.defineProperty(this.prototype, name, {\n            // tslint:disable-next-line:no-any no symbol in index\n            get() {\n                return this[key];\n            },\n            set(value) {\n                const oldValue = this[name];\n                this[key] = value;\n                this._requestUpdate(name, oldValue);\n            },\n            configurable: true,\n            enumerable: true\n        });\n    }\n    /**\n     * Creates property accessors for registered properties and ensures\n     * any superclasses are also finalized.\n     * @nocollapse\n     */\n    static finalize() {\n        // finalize any superclasses\n        const superCtor = Object.getPrototypeOf(this);\n        if (!superCtor.hasOwnProperty(finalized)) {\n            superCtor.finalize();\n        }\n        this[finalized] = true;\n        this._ensureClassProperties();\n        // initialize Map populated in observedAttributes\n        this._attributeToPropertyMap = new Map();\n        // make any properties\n        // Note, only process \"own\" properties since this element will inherit\n        // any properties defined on the superClass, and finalization ensures\n        // the entire prototype chain is finalized.\n        if (this.hasOwnProperty(JSCompiler_renameProperty('properties', this))) {\n            const props = this.properties;\n            // support symbols in properties (IE11 does not support this)\n            const propKeys = [\n                ...Object.getOwnPropertyNames(props),\n                ...(typeof Object.getOwnPropertySymbols === 'function') ?\n                    Object.getOwnPropertySymbols(props) :\n                    []\n            ];\n            // This for/of is ok because propKeys is an array\n            for (const p of propKeys) {\n                // note, use of `any` is due to TypeSript lack of support for symbol in\n                // index types\n                // tslint:disable-next-line:no-any no symbol in index\n                this.createProperty(p, props[p]);\n            }\n        }\n    }\n    /**\n     * Returns the property name for the given attribute `name`.\n     * @nocollapse\n     */\n    static _attributeNameForProperty(name, options) {\n        const attribute = options.attribute;\n        return attribute === false ?\n            undefined :\n            (typeof attribute === 'string' ?\n                attribute :\n                (typeof name === 'string' ? name.toLowerCase() : undefined));\n    }\n    /**\n     * Returns true if a property should request an update.\n     * Called when a property value is set and uses the `hasChanged`\n     * option for the property if present or a strict identity check.\n     * @nocollapse\n     */\n    static _valueHasChanged(value, old, hasChanged = notEqual) {\n        return hasChanged(value, old);\n    }\n    /**\n     * Returns the property value for the given attribute value.\n     * Called via the `attributeChangedCallback` and uses the property's\n     * `converter` or `converter.fromAttribute` property option.\n     * @nocollapse\n     */\n    static _propertyValueFromAttribute(value, options) {\n        const type = options.type;\n        const converter = options.converter || defaultConverter;\n        const fromAttribute = (typeof converter === 'function' ? converter : converter.fromAttribute);\n        return fromAttribute ? fromAttribute(value, type) : value;\n    }\n    /**\n     * Returns the attribute value for the given property value. If this\n     * returns undefined, the property will *not* be reflected to an attribute.\n     * If this returns null, the attribute will be removed, otherwise the\n     * attribute will be set to the value.\n     * This uses the property's `reflect` and `type.toAttribute` property options.\n     * @nocollapse\n     */\n    static _propertyValueToAttribute(value, options) {\n        if (options.reflect === undefined) {\n            return;\n        }\n        const type = options.type;\n        const converter = options.converter;\n        const toAttribute = converter && converter.toAttribute ||\n            defaultConverter.toAttribute;\n        return toAttribute(value, type);\n    }\n    /**\n     * Performs element initialization. By default captures any pre-set values for\n     * registered properties.\n     */\n    initialize() {\n        this._saveInstanceProperties();\n        // ensures first update will be caught by an early access of\n        // `updateComplete`\n        this._requestUpdate();\n    }\n    /**\n     * Fixes any properties set on the instance before upgrade time.\n     * Otherwise these would shadow the accessor and break these properties.\n     * The properties are stored in a Map which is played back after the\n     * constructor runs. Note, on very old versions of Safari (<=9) or Chrome\n     * (<=41), properties created for native platform properties like (`id` or\n     * `name`) may not have default values set in the element constructor. On\n     * these browsers native properties appear on instances and therefore their\n     * default value will overwrite any element default (e.g. if the element sets\n     * this.id = 'id' in the constructor, the 'id' will become '' since this is\n     * the native platform default).\n     */\n    _saveInstanceProperties() {\n        // Use forEach so this works even if for/of loops are compiled to for loops\n        // expecting arrays\n        this.constructor\n            ._classProperties.forEach((_v, p) => {\n            if (this.hasOwnProperty(p)) {\n                const value = this[p];\n                delete this[p];\n                if (!this._instanceProperties) {\n                    this._instanceProperties = new Map();\n                }\n                this._instanceProperties.set(p, value);\n            }\n        });\n    }\n    /**\n     * Applies previously saved instance properties.\n     */\n    _applyInstanceProperties() {\n        // Use forEach so this works even if for/of loops are compiled to for loops\n        // expecting arrays\n        // tslint:disable-next-line:no-any\n        this._instanceProperties.forEach((v, p) => this[p] = v);\n        this._instanceProperties = undefined;\n    }\n    connectedCallback() {\n        this._updateState = this._updateState | STATE_HAS_CONNECTED;\n        // Ensure first connection completes an update. Updates cannot complete\n        // before connection and if one is pending connection the\n        // `_hasConnectionResolver` will exist. If so, resolve it to complete the\n        // update, otherwise requestUpdate.\n        if (this._hasConnectedResolver) {\n            this._hasConnectedResolver();\n            this._hasConnectedResolver = undefined;\n        }\n    }\n    /**\n     * Allows for `super.disconnectedCallback()` in extensions while\n     * reserving the possibility of making non-breaking feature additions\n     * when disconnecting at some point in the future.\n     */\n    disconnectedCallback() {\n    }\n    /**\n     * Synchronizes property values when attributes change.\n     */\n    attributeChangedCallback(name, old, value) {\n        if (old !== value) {\n            this._attributeToProperty(name, value);\n        }\n    }\n    _propertyToAttribute(name, value, options = defaultPropertyDeclaration) {\n        const ctor = this.constructor;\n        const attr = ctor._attributeNameForProperty(name, options);\n        if (attr !== undefined) {\n            const attrValue = ctor._propertyValueToAttribute(value, options);\n            // an undefined value does not change the attribute.\n            if (attrValue === undefined) {\n                return;\n            }\n            // Track if the property is being reflected to avoid\n            // setting the property again via `attributeChangedCallback`. Note:\n            // 1. this takes advantage of the fact that the callback is synchronous.\n            // 2. will behave incorrectly if multiple attributes are in the reaction\n            // stack at time of calling. However, since we process attributes\n            // in `update` this should not be possible (or an extreme corner case\n            // that we'd like to discover).\n            // mark state reflecting\n            this._updateState = this._updateState | STATE_IS_REFLECTING_TO_ATTRIBUTE;\n            if (attrValue == null) {\n                this.removeAttribute(attr);\n            }\n            else {\n                this.setAttribute(attr, attrValue);\n            }\n            // mark state not reflecting\n            this._updateState = this._updateState & ~STATE_IS_REFLECTING_TO_ATTRIBUTE;\n        }\n    }\n    _attributeToProperty(name, value) {\n        // Use tracking info to avoid deserializing attribute value if it was\n        // just set from a property setter.\n        if (this._updateState & STATE_IS_REFLECTING_TO_ATTRIBUTE) {\n            return;\n        }\n        const ctor = this.constructor;\n        const propName = ctor._attributeToPropertyMap.get(name);\n        if (propName !== undefined) {\n            const options = ctor._classProperties.get(propName) || defaultPropertyDeclaration;\n            // mark state reflecting\n            this._updateState = this._updateState | STATE_IS_REFLECTING_TO_PROPERTY;\n            this[propName] =\n                // tslint:disable-next-line:no-any\n                ctor._propertyValueFromAttribute(value, options);\n            // mark state not reflecting\n            this._updateState = this._updateState & ~STATE_IS_REFLECTING_TO_PROPERTY;\n        }\n    }\n    /**\n     * This private version of `requestUpdate` does not access or return the\n     * `updateComplete` promise. This promise can be overridden and is therefore\n     * not free to access.\n     */\n    _requestUpdate(name, oldValue) {\n        let shouldRequestUpdate = true;\n        // If we have a property key, perform property update steps.\n        if (name !== undefined) {\n            const ctor = this.constructor;\n            const options = ctor._classProperties.get(name) || defaultPropertyDeclaration;\n            if (ctor._valueHasChanged(this[name], oldValue, options.hasChanged)) {\n                if (!this._changedProperties.has(name)) {\n                    this._changedProperties.set(name, oldValue);\n                }\n                // Add to reflecting properties set.\n                // Note, it's important that every change has a chance to add the\n                // property to `_reflectingProperties`. This ensures setting\n                // attribute + property reflects correctly.\n                if (options.reflect === true &&\n                    !(this._updateState & STATE_IS_REFLECTING_TO_PROPERTY)) {\n                    if (this._reflectingProperties === undefined) {\n                        this._reflectingProperties = new Map();\n                    }\n                    this._reflectingProperties.set(name, options);\n                }\n            }\n            else {\n                // Abort the request if the property should not be considered changed.\n                shouldRequestUpdate = false;\n            }\n        }\n        if (!this._hasRequestedUpdate && shouldRequestUpdate) {\n            this._enqueueUpdate();\n        }\n    }\n    /**\n     * Requests an update which is processed asynchronously. This should\n     * be called when an element should update based on some state not triggered\n     * by setting a property. In this case, pass no arguments. It should also be\n     * called when manually implementing a property setter. In this case, pass the\n     * property `name` and `oldValue` to ensure that any configured property\n     * options are honored. Returns the `updateComplete` Promise which is resolved\n     * when the update completes.\n     *\n     * @param name {PropertyKey} (optional) name of requesting property\n     * @param oldValue {any} (optional) old value of requesting property\n     * @returns {Promise} A Promise that is resolved when the update completes.\n     */\n    requestUpdate(name, oldValue) {\n        this._requestUpdate(name, oldValue);\n        return this.updateComplete;\n    }\n    /**\n     * Sets up the element to asynchronously update.\n     */\n    async _enqueueUpdate() {\n        // Mark state updating...\n        this._updateState = this._updateState | STATE_UPDATE_REQUESTED;\n        let resolve;\n        let reject;\n        const previousUpdatePromise = this._updatePromise;\n        this._updatePromise = new Promise((res, rej) => {\n            resolve = res;\n            reject = rej;\n        });\n        try {\n            // Ensure any previous update has resolved before updating.\n            // This `await` also ensures that property changes are batched.\n            await previousUpdatePromise;\n        }\n        catch (e) {\n            // Ignore any previous errors. We only care that the previous cycle is\n            // done. Any error should have been handled in the previous update.\n        }\n        // Make sure the element has connected before updating.\n        if (!this._hasConnected) {\n            await new Promise((res) => this._hasConnectedResolver = res);\n        }\n        try {\n            const result = this.performUpdate();\n            // If `performUpdate` returns a Promise, we await it. This is done to\n            // enable coordinating updates with a scheduler. Note, the result is\n            // checked to avoid delaying an additional microtask unless we need to.\n            if (result != null) {\n                await result;\n            }\n        }\n        catch (e) {\n            reject(e);\n        }\n        resolve(!this._hasRequestedUpdate);\n    }\n    get _hasConnected() {\n        return (this._updateState & STATE_HAS_CONNECTED);\n    }\n    get _hasRequestedUpdate() {\n        return (this._updateState & STATE_UPDATE_REQUESTED);\n    }\n    get hasUpdated() {\n        return (this._updateState & STATE_HAS_UPDATED);\n    }\n    /**\n     * Performs an element update. Note, if an exception is thrown during the\n     * update, `firstUpdated` and `updated` will not be called.\n     *\n     * You can override this method to change the timing of updates. If this\n     * method is overridden, `super.performUpdate()` must be called.\n     *\n     * For instance, to schedule updates to occur just before the next frame:\n     *\n     * ```\n     * protected async performUpdate(): Promise<unknown> {\n     *   await new Promise((resolve) => requestAnimationFrame(() => resolve()));\n     *   super.performUpdate();\n     * }\n     * ```\n     */\n    performUpdate() {\n        // Mixin instance properties once, if they exist.\n        if (this._instanceProperties) {\n            this._applyInstanceProperties();\n        }\n        let shouldUpdate = false;\n        const changedProperties = this._changedProperties;\n        try {\n            shouldUpdate = this.shouldUpdate(changedProperties);\n            if (shouldUpdate) {\n                this.update(changedProperties);\n            }\n        }\n        catch (e) {\n            // Prevent `firstUpdated` and `updated` from running when there's an\n            // update exception.\n            shouldUpdate = false;\n            throw e;\n        }\n        finally {\n            // Ensure element can accept additional updates after an exception.\n            this._markUpdated();\n        }\n        if (shouldUpdate) {\n            if (!(this._updateState & STATE_HAS_UPDATED)) {\n                this._updateState = this._updateState | STATE_HAS_UPDATED;\n                this.firstUpdated(changedProperties);\n            }\n            this.updated(changedProperties);\n        }\n    }\n    _markUpdated() {\n        this._changedProperties = new Map();\n        this._updateState = this._updateState & ~STATE_UPDATE_REQUESTED;\n    }\n    /**\n     * Returns a Promise that resolves when the element has completed updating.\n     * The Promise value is a boolean that is `true` if the element completed the\n     * update without triggering another update. The Promise result is `false` if\n     * a property was set inside `updated()`. If the Promise is rejected, an\n     * exception was thrown during the update.\n     *\n     * To await additional asynchronous work, override the `_getUpdateComplete`\n     * method. For example, it is sometimes useful to await a rendered element\n     * before fulfilling this Promise. To do this, first await\n     * `super._getUpdateComplete()`, then any subsequent state.\n     *\n     * @returns {Promise} The Promise returns a boolean that indicates if the\n     * update resolved without triggering another update.\n     */\n    get updateComplete() {\n        return this._getUpdateComplete();\n    }\n    /**\n     * Override point for the `updateComplete` promise.\n     *\n     * It is not safe to override the `updateComplete` getter directly due to a\n     * limitation in TypeScript which means it is not possible to call a\n     * superclass getter (e.g. `super.updateComplete.then(...)`) when the target\n     * language is ES5 (https://github.com/microsoft/TypeScript/issues/338).\n     * This method should be overridden instead. For example:\n     *\n     *   class MyElement extends LitElement {\n     *     async _getUpdateComplete() {\n     *       await super._getUpdateComplete();\n     *       await this._myChild.updateComplete;\n     *     }\n     *   }\n     */\n    _getUpdateComplete() {\n        return this._updatePromise;\n    }\n    /**\n     * Controls whether or not `update` should be called when the element requests\n     * an update. By default, this method always returns `true`, but this can be\n     * customized to control when to update.\n     *\n     * * @param _changedProperties Map of changed properties with old values\n     */\n    shouldUpdate(_changedProperties) {\n        return true;\n    }\n    /**\n     * Updates the element. This method reflects property values to attributes.\n     * It can be overridden to render and keep updated element DOM.\n     * Setting properties inside this method will *not* trigger\n     * another update.\n     *\n     * * @param _changedProperties Map of changed properties with old values\n     */\n    update(_changedProperties) {\n        if (this._reflectingProperties !== undefined &&\n            this._reflectingProperties.size > 0) {\n            // Use forEach so this works even if for/of loops are compiled to for\n            // loops expecting arrays\n            this._reflectingProperties.forEach((v, k) => this._propertyToAttribute(k, this[k], v));\n            this._reflectingProperties = undefined;\n        }\n    }\n    /**\n     * Invoked whenever the element is updated. Implement to perform\n     * post-updating tasks via DOM APIs, for example, focusing an element.\n     *\n     * Setting properties inside this method will trigger the element to update\n     * again after this update cycle completes.\n     *\n     * * @param _changedProperties Map of changed properties with old values\n     */\n    updated(_changedProperties) {\n    }\n    /**\n     * Invoked when the element is first updated. Implement to perform one time\n     * work on the element after update.\n     *\n     * Setting properties inside this method will trigger the element to update\n     * again after this update cycle completes.\n     *\n     * * @param _changedProperties Map of changed properties with old values\n     */\n    firstUpdated(_changedProperties) {\n    }\n}\n_a = finalized;\n/**\n * Marks class as having finished creating properties.\n */\nUpdatingElement[_a] = true;\n//# sourceMappingURL=updating-element.js.map","/**\n@license\nCopyright (c) 2019 The Polymer Project Authors. All rights reserved.\nThis code may only be used under the BSD style license found at\nhttp://polymer.github.io/LICENSE.txt The complete set of authors may be found at\nhttp://polymer.github.io/AUTHORS.txt The complete set of contributors may be\nfound at http://polymer.github.io/CONTRIBUTORS.txt Code distributed by Google as\npart of the polymer project is also subject to an additional IP rights grant\nfound at http://polymer.github.io/PATENTS.txt\n*/\nexport const supportsAdoptingStyleSheets = ('adoptedStyleSheets' in Document.prototype) &&\n    ('replace' in CSSStyleSheet.prototype);\nconst constructionToken = Symbol();\nexport class CSSResult {\n    constructor(cssText, safeToken) {\n        if (safeToken !== constructionToken) {\n            throw new Error('CSSResult is not constructable. Use `unsafeCSS` or `css` instead.');\n        }\n        this.cssText = cssText;\n    }\n    // Note, this is a getter so that it's lazy. In practice, this means\n    // stylesheets are not created until the first element instance is made.\n    get styleSheet() {\n        if (this._styleSheet === undefined) {\n            // Note, if `adoptedStyleSheets` is supported then we assume CSSStyleSheet\n            // is constructable.\n            if (supportsAdoptingStyleSheets) {\n                this._styleSheet = new CSSStyleSheet();\n                this._styleSheet.replaceSync(this.cssText);\n            }\n            else {\n                this._styleSheet = null;\n            }\n        }\n        return this._styleSheet;\n    }\n    toString() {\n        return this.cssText;\n    }\n}\n/**\n * Wrap a value for interpolation in a css tagged template literal.\n *\n * This is unsafe because untrusted CSS text can be used to phone home\n * or exfiltrate data to an attacker controlled site. Take care to only use\n * this with trusted input.\n */\nexport const unsafeCSS = (value) => {\n    return new CSSResult(String(value), constructionToken);\n};\nconst textFromCSSResult = (value) => {\n    if (value instanceof CSSResult) {\n        return value.cssText;\n    }\n    else if (typeof value === 'number') {\n        return value;\n    }\n    else {\n        throw new Error(`Value passed to 'css' function must be a 'css' function result: ${value}. Use 'unsafeCSS' to pass non-literal values, but\n            take care to ensure page security.`);\n    }\n};\n/**\n * Template tag which which can be used with LitElement's `style` property to\n * set element styles. For security reasons, only literal string values may be\n * used. To incorporate non-literal values `unsafeCSS` may be used inside a\n * template string part.\n */\nexport const css = (strings, ...values) => {\n    const cssText = values.reduce((acc, v, idx) => acc + textFromCSSResult(v) + strings[idx + 1], strings[0]);\n    return new CSSResult(cssText, constructionToken);\n};\n//# sourceMappingURL=css-tag.js.map","/**\n * @license\n * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.\n * This code may only be used under the BSD style license found at\n * http://polymer.github.io/LICENSE.txt\n * The complete set of authors may be found at\n * http://polymer.github.io/AUTHORS.txt\n * The complete set of contributors may be found at\n * http://polymer.github.io/CONTRIBUTORS.txt\n * Code distributed by Google as part of the polymer project is also\n * subject to an additional IP rights grant found at\n * http://polymer.github.io/PATENTS.txt\n */\nimport { TemplateResult } from 'lit-html';\nimport { render } from 'lit-html/lib/shady-render.js';\nimport { UpdatingElement } from './lib/updating-element.js';\nexport * from './lib/updating-element.js';\nexport * from './lib/decorators.js';\nexport { html, svg, TemplateResult, SVGTemplateResult } from 'lit-html/lit-html.js';\nimport { supportsAdoptingStyleSheets } from './lib/css-tag.js';\nexport * from './lib/css-tag.js';\n// IMPORTANT: do not change the property name or the assignment expression.\n// This line will be used in regexes to search for LitElement usage.\n// TODO(justinfagnani): inject version number at build time\n(window['litElementVersions'] || (window['litElementVersions'] = []))\n    .push('2.2.1');\n/**\n * Minimal implementation of Array.prototype.flat\n * @param arr the array to flatten\n * @param result the accumlated result\n */\nfunction arrayFlat(styles, result = []) {\n    for (let i = 0, length = styles.length; i < length; i++) {\n        const value = styles[i];\n        if (Array.isArray(value)) {\n            arrayFlat(value, result);\n        }\n        else {\n            result.push(value);\n        }\n    }\n    return result;\n}\n/** Deeply flattens styles array. Uses native flat if available. */\nconst flattenStyles = (styles) => styles.flat ? styles.flat(Infinity) : arrayFlat(styles);\nexport class LitElement extends UpdatingElement {\n    /** @nocollapse */\n    static finalize() {\n        // The Closure JS Compiler does not always preserve the correct \"this\"\n        // when calling static super methods (b/137460243), so explicitly bind.\n        super.finalize.call(this);\n        // Prepare styling that is stamped at first render time. Styling\n        // is built from user provided `styles` or is inherited from the superclass.\n        this._styles =\n            this.hasOwnProperty(JSCompiler_renameProperty('styles', this)) ?\n                this._getUniqueStyles() :\n                this._styles || [];\n    }\n    /** @nocollapse */\n    static _getUniqueStyles() {\n        // Take care not to call `this.styles` multiple times since this generates\n        // new CSSResults each time.\n        // TODO(sorvell): Since we do not cache CSSResults by input, any\n        // shared styles will generate new stylesheet objects, which is wasteful.\n        // This should be addressed when a browser ships constructable\n        // stylesheets.\n        const userStyles = this.styles;\n        const styles = [];\n        if (Array.isArray(userStyles)) {\n            const flatStyles = flattenStyles(userStyles);\n            // As a performance optimization to avoid duplicated styling that can\n            // occur especially when composing via subclassing, de-duplicate styles\n            // preserving the last item in the list. The last item is kept to\n            // try to preserve cascade order with the assumption that it's most\n            // important that last added styles override previous styles.\n            const styleSet = flatStyles.reduceRight((set, s) => {\n                set.add(s);\n                // on IE set.add does not return the set.\n                return set;\n            }, new Set());\n            // Array.from does not work on Set in IE\n            styleSet.forEach((v) => styles.unshift(v));\n        }\n        else if (userStyles) {\n            styles.push(userStyles);\n        }\n        return styles;\n    }\n    /**\n     * Performs element initialization. By default this calls `createRenderRoot`\n     * to create the element `renderRoot` node and captures any pre-set values for\n     * registered properties.\n     */\n    initialize() {\n        super.initialize();\n        this.renderRoot =\n            this.createRenderRoot();\n        // Note, if renderRoot is not a shadowRoot, styles would/could apply to the\n        // element's getRootNode(). While this could be done, we're choosing not to\n        // support this now since it would require different logic around de-duping.\n        if (window.ShadowRoot && this.renderRoot instanceof window.ShadowRoot) {\n            this.adoptStyles();\n        }\n    }\n    /**\n     * Returns the node into which the element should render and by default\n     * creates and returns an open shadowRoot. Implement to customize where the\n     * element's DOM is rendered. For example, to render into the element's\n     * childNodes, return `this`.\n     * @returns {Element|DocumentFragment} Returns a node into which to render.\n     */\n    createRenderRoot() {\n        return this.attachShadow({ mode: 'open' });\n    }\n    /**\n     * Applies styling to the element shadowRoot using the `static get styles`\n     * property. Styling will apply using `shadowRoot.adoptedStyleSheets` where\n     * available and will fallback otherwise. When Shadow DOM is polyfilled,\n     * ShadyCSS scopes styles and adds them to the document. When Shadow DOM\n     * is available but `adoptedStyleSheets` is not, styles are appended to the\n     * end of the `shadowRoot` to [mimic spec\n     * behavior](https://wicg.github.io/construct-stylesheets/#using-constructed-stylesheets).\n     */\n    adoptStyles() {\n        const styles = this.constructor._styles;\n        if (styles.length === 0) {\n            return;\n        }\n        // There are three separate cases here based on Shadow DOM support.\n        // (1) shadowRoot polyfilled: use ShadyCSS\n        // (2) shadowRoot.adoptedStyleSheets available: use it.\n        // (3) shadowRoot.adoptedStyleSheets polyfilled: append styles after\n        // rendering\n        if (window.ShadyCSS !== undefined && !window.ShadyCSS.nativeShadow) {\n            window.ShadyCSS.ScopingShim.prepareAdoptedCssText(styles.map((s) => s.cssText), this.localName);\n        }\n        else if (supportsAdoptingStyleSheets) {\n            this.renderRoot.adoptedStyleSheets =\n                styles.map((s) => s.styleSheet);\n        }\n        else {\n            // This must be done after rendering so the actual style insertion is done\n            // in `update`.\n            this._needsShimAdoptedStyleSheets = true;\n        }\n    }\n    connectedCallback() {\n        super.connectedCallback();\n        // Note, first update/render handles styleElement so we only call this if\n        // connected after first update.\n        if (this.hasUpdated && window.ShadyCSS !== undefined) {\n            window.ShadyCSS.styleElement(this);\n        }\n    }\n    /**\n     * Updates the element. This method reflects property values to attributes\n     * and calls `render` to render DOM via lit-html. Setting properties inside\n     * this method will *not* trigger another update.\n     * * @param _changedProperties Map of changed properties with old values\n     */\n    update(changedProperties) {\n        super.update(changedProperties);\n        const templateResult = this.render();\n        if (templateResult instanceof TemplateResult) {\n            this.constructor\n                .render(templateResult, this.renderRoot, { scopeName: this.localName, eventContext: this });\n        }\n        // When native Shadow DOM is used but adoptedStyles are not supported,\n        // insert styling after rendering to ensure adoptedStyles have highest\n        // priority.\n        if (this._needsShimAdoptedStyleSheets) {\n            this._needsShimAdoptedStyleSheets = false;\n            this.constructor._styles.forEach((s) => {\n                const style = document.createElement('style');\n                style.textContent = s.cssText;\n                this.renderRoot.appendChild(style);\n            });\n        }\n    }\n    /**\n     * Invoked on each update to perform rendering tasks. This method must return\n     * a lit-html TemplateResult. Setting properties inside this method will *not*\n     * trigger the element to update.\n     */\n    render() {\n    }\n}\n/**\n * Ensure this class is marked as `finalized` as an optimization ensuring\n * it will not needlessly try to `finalize`.\n *\n * Note this property name is a string to prevent breaking Closure JS Compiler\n * optimizations. See updating-element.ts for more information.\n */\nLitElement['finalized'] = true;\n/**\n * Render method used to render the lit-html TemplateResult to the element's\n * DOM.\n * @param {TemplateResult} Template to render.\n * @param {Element|DocumentFragment} Node into which to render.\n * @param {String} Element name.\n * @nocollapse\n */\nLitElement.render = render;\n//# sourceMappingURL=lit-element.js.map","/**\n * Returns the event name for the given property.\n */\nexport function eventNameForProperty(name, options = {}) {\n    if (options.notify && typeof options.notify === 'string') {\n        return options.notify;\n    }\n\n    if (options.attribute && typeof options.attribute === 'string') {\n        return `${options.attribute}-changed`;\n    }\n\n    return `${name.toLowerCase()}-changed`;\n}\n\n/**\n * Enables the nofity option for properties to fire change notification events\n *\n * @param {LitElement} baseElement - the LitElement to extend\n */\nexport const LitNotify = (baseElement) => class extends baseElement {\n    /**\n     * Extend the LitElement `createProperty` method to map properties to events\n     */\n    static createProperty(name, options) {\n        super.createProperty(name, options);\n\n        if (!this.hasOwnProperty('_propertyEventMap')) {\n            this._propertyEventMap = new Map();\n        }\n\n        if (options.notify) {\n            this._propertyEventMap.set(name, eventNameForProperty(name, options));\n        }\n    }\n\n    /**\n     * check for changed properties with notify option and fire the events\n     */\n    update(changedProps) {\n        super.update(changedProps);\n\n        if (!this.constructor._propertyEventMap) {\n            return;\n        }\n\n        for (const [eventProp, eventName] of this.constructor._propertyEventMap.entries()) {\n            if (changedProps.has(eventProp)) {\n                this.dispatchEvent(new CustomEvent(eventName, {\n                    detail: {\n                        value: this[eventProp],\n                    },\n                    bubbles: false,\n                    composed: true,\n                }));\n            }\n        }\n    }\n};\n\nexport default LitNotify;\n","/**\n * ## MultiVerseBase\n *\n * `<multi-verse-base>` base class for multi-verse other elements\n *\n * @memberof MultiVerse\n * @customElement\n * @polymer\n * @appliesMixin MultiChart.mixin.Logger\n * @appliesMixin MultiChart.mixin.PolymerExtends\n * @demo\n **/\nimport { LitElement } from 'lit-element';\nimport { SelectMixin, DefaultValueMixin, DoNotSetUndefinedValue } from '@preignition/preignition-mixin';\nimport { LitNotify, LitSync } from '@morbidick/lit-element-notify';\n\nexport class Base extends\nDefaultValueMixin(\n  LitNotify(\n    DoNotSetUndefinedValue(\n      LitElement))) {\n\n  static get properties() {\n\n    return {\n\n      ...super.properties,\n\n      /*\n       * `log`  true to show log\n       */\n      log: {\n        type: Boolean,\n      }\n    };\n  }\n\n  dispatch(name) {\n    this.dispatchEvent(new CustomEvent(`${name}-changed`, {\n      detail: {\n        value: this[name]\n      },\n      bubbles: true,\n      composed: true\n    }));\n  }\n}\n\nexport default Base;","import { html } from 'lit-element';\nimport { default as Base } from '../base-class.js';\n\n\nclass TopojsonBase extends Base {\n\n  render() {\n    return html `<d3-fetch \n      .url=\"${this.url}\" \n      .type=\"${this.handleAs}\" \n      @data-changed=\"${e => this.data = e.detail.value}\"\n      @error-changed=\"${e => this.error = e.detail.value}\"\n      ></d3-fetch>`;\n  }\n\n  static get properties() {\n    return {\n\n      ...super.properties,\n\n      /**\n       * `feature` the GeoJSON Feature or FeatureCollection to be exposed by this component\n       */\n      feature: {\n        type: Array,\n        notify: true\n      },\n\n      /*\n       * `url` url to use for fetching geo mesh data.\n       */\n      url: {\n        type: String\n      },\n\n      /**\n       * `data` topojson or geojson object. It is either retrieved iron-ajax or passed as an argument\n       */\n      data: {\n        type: Object,\n        notify: true\n      },\n\n      /**\n       * `geoType` the type of data object (topojson or geojson)\n       */\n      geoType: {\n        type: String,\n        value: 'topojson'\n      },\n\n      /**\n       * `name` the name of the property to extract from the geo data object\n       */\n      name: {\n        type: String\n      },\n\n      /**\n       * [`handleAs`](https://elements.polymer-project.org/elements/iron-ajax#property-handleAs)\n       */\n      handleAs: {\n        type: String,\n        value: 'json'\n      },\n\n      /*\n       * `error`\n       */\n      error: {\n        type: Object,\n        notify: true\n      }\n\n    };\n  }\n\n}\n\nexport default TopojsonBase;\n","export default function(x) {\n  return x;\n}\n","import reverse from \"./reverse\";\nimport transform from \"./transform\";\n\nexport default function(topology, o) {\n  return o.type === \"GeometryCollection\"\n      ? {type: \"FeatureCollection\", features: o.geometries.map(function(o) { return feature(topology, o); })}\n      : feature(topology, o);\n}\n\nexport function feature(topology, o) {\n  var id = o.id,\n      bbox = o.bbox,\n      properties = o.properties == null ? {} : o.properties,\n      geometry = object(topology, o);\n  return id == null && bbox == null ? {type: \"Feature\", properties: properties, geometry: geometry}\n      : bbox == null ? {type: \"Feature\", id: id, properties: properties, geometry: geometry}\n      : {type: \"Feature\", id: id, bbox: bbox, properties: properties, geometry: geometry};\n}\n\nexport function object(topology, o) {\n  var transformPoint = transform(topology.transform),\n      arcs = topology.arcs;\n\n  function arc(i, points) {\n    if (points.length) points.pop();\n    for (var a = arcs[i < 0 ? ~i : i], k = 0, n = a.length; k < n; ++k) {\n      points.push(transformPoint(a[k], k));\n    }\n    if (i < 0) reverse(points, n);\n  }\n\n  function point(p) {\n    return transformPoint(p);\n  }\n\n  function line(arcs) {\n    var points = [];\n    for (var i = 0, n = arcs.length; i < n; ++i) arc(arcs[i], points);\n    if (points.length < 2) points.push(points[0]); // This should never happen per the specification.\n    return points;\n  }\n\n  function ring(arcs) {\n    var points = line(arcs);\n    while (points.length < 4) points.push(points[0]); // This may happen if an arc has only two points.\n    return points;\n  }\n\n  function polygon(arcs) {\n    return arcs.map(ring);\n  }\n\n  function geometry(o) {\n    var type = o.type, coordinates;\n    switch (type) {\n      case \"GeometryCollection\": return {type: type, geometries: o.geometries.map(geometry)};\n      case \"Point\": coordinates = point(o.coordinates); break;\n      case \"MultiPoint\": coordinates = o.coordinates.map(point); break;\n      case \"LineString\": coordinates = line(o.arcs); break;\n      case \"MultiLineString\": coordinates = o.arcs.map(line); break;\n      case \"Polygon\": coordinates = polygon(o.arcs); break;\n      case \"MultiPolygon\": coordinates = o.arcs.map(polygon); break;\n      default: return null;\n    }\n    return {type: type, coordinates: coordinates};\n  }\n\n  return geometry(o);\n}\n","import identity from \"./identity\";\n\nexport default function(transform) {\n  if (transform == null) return identity;\n  var x0,\n      y0,\n      kx = transform.scale[0],\n      ky = transform.scale[1],\n      dx = transform.translate[0],\n      dy = transform.translate[1];\n  return function(input, i) {\n    if (!i) x0 = y0 = 0;\n    var j = 2, n = input.length, output = new Array(n);\n    output[0] = (x0 += input[0]) * kx + dx;\n    output[1] = (y0 += input[1]) * ky + dy;\n    while (j < n) output[j] = input[j], ++j;\n    return output;\n  };\n}\n","export default function(array, n) {\n  var t, j = array.length, i = j - n;\n  while (i < --j) t = array[i], array[i++] = array[j], array[j] = t;\n}\n","export default function(topology, arcs) {\n  var stitchedArcs = {},\n      fragmentByStart = {},\n      fragmentByEnd = {},\n      fragments = [],\n      emptyIndex = -1;\n\n  // Stitch empty arcs first, since they may be subsumed by other arcs.\n  arcs.forEach(function(i, j) {\n    var arc = topology.arcs[i < 0 ? ~i : i], t;\n    if (arc.length < 3 && !arc[1][0] && !arc[1][1]) {\n      t = arcs[++emptyIndex], arcs[emptyIndex] = i, arcs[j] = t;\n    }\n  });\n\n  arcs.forEach(function(i) {\n    var e = ends(i),\n        start = e[0],\n        end = e[1],\n        f, g;\n\n    if (f = fragmentByEnd[start]) {\n      delete fragmentByEnd[f.end];\n      f.push(i);\n      f.end = end;\n      if (g = fragmentByStart[end]) {\n        delete fragmentByStart[g.start];\n        var fg = g === f ? f : f.concat(g);\n        fragmentByStart[fg.start = f.start] = fragmentByEnd[fg.end = g.end] = fg;\n      } else {\n        fragmentByStart[f.start] = fragmentByEnd[f.end] = f;\n      }\n    } else if (f = fragmentByStart[end]) {\n      delete fragmentByStart[f.start];\n      f.unshift(i);\n      f.start = start;\n      if (g = fragmentByEnd[start]) {\n        delete fragmentByEnd[g.end];\n        var gf = g === f ? f : g.concat(f);\n        fragmentByStart[gf.start = g.start] = fragmentByEnd[gf.end = f.end] = gf;\n      } else {\n        fragmentByStart[f.start] = fragmentByEnd[f.end] = f;\n      }\n    } else {\n      f = [i];\n      fragmentByStart[f.start = start] = fragmentByEnd[f.end = end] = f;\n    }\n  });\n\n  function ends(i) {\n    var arc = topology.arcs[i < 0 ? ~i : i], p0 = arc[0], p1;\n    if (topology.transform) p1 = [0, 0], arc.forEach(function(dp) { p1[0] += dp[0], p1[1] += dp[1]; });\n    else p1 = arc[arc.length - 1];\n    return i < 0 ? [p1, p0] : [p0, p1];\n  }\n\n  function flush(fragmentByEnd, fragmentByStart) {\n    for (var k in fragmentByEnd) {\n      var f = fragmentByEnd[k];\n      delete fragmentByStart[f.start];\n      delete f.start;\n      delete f.end;\n      f.forEach(function(i) { stitchedArcs[i < 0 ? ~i : i] = 1; });\n      fragments.push(f);\n    }\n  }\n\n  flush(fragmentByEnd, fragmentByStart);\n  flush(fragmentByStart, fragmentByEnd);\n  arcs.forEach(function(i) { if (!stitchedArcs[i < 0 ? ~i : i]) fragments.push([i]); });\n\n  return fragments;\n}\n","import {object} from \"./feature\";\nimport stitch from \"./stitch\";\n\nexport default function(topology) {\n  return object(topology, meshArcs.apply(this, arguments));\n}\n\nexport function meshArcs(topology, object, filter) {\n  var arcs, i, n;\n  if (arguments.length > 1) arcs = extractArcs(topology, object, filter);\n  else for (i = 0, arcs = new Array(n = topology.arcs.length); i < n; ++i) arcs[i] = i;\n  return {type: \"MultiLineString\", arcs: stitch(topology, arcs)};\n}\n\nfunction extractArcs(topology, object, filter) {\n  var arcs = [],\n      geomsByArc = [],\n      geom;\n\n  function extract0(i) {\n    var j = i < 0 ? ~i : i;\n    (geomsByArc[j] || (geomsByArc[j] = [])).push({i: i, g: geom});\n  }\n\n  function extract1(arcs) {\n    arcs.forEach(extract0);\n  }\n\n  function extract2(arcs) {\n    arcs.forEach(extract1);\n  }\n\n  function extract3(arcs) {\n    arcs.forEach(extract2);\n  }\n\n  function geometry(o) {\n    switch (geom = o, o.type) {\n      case \"GeometryCollection\": o.geometries.forEach(geometry); break;\n      case \"LineString\": extract1(o.arcs); break;\n      case \"MultiLineString\": case \"Polygon\": extract2(o.arcs); break;\n      case \"MultiPolygon\": extract3(o.arcs); break;\n    }\n  }\n\n  geometry(object);\n\n  geomsByArc.forEach(filter == null\n      ? function(geoms) { arcs.push(geoms[0].i); }\n      : function(geoms) { if (filter(geoms[0].g, geoms[geoms.length - 1].g)) arcs.push(geoms[0].i); });\n\n  return arcs;\n}\n","import { default as TopoBase } from './topojson-base.js';\nimport { feature as topofeature } from 'topojson-client';\n\n/**\n * ## TopojsonFeature\n *\n * `<topojson-feature>` a wrapper around [topojson feature](https://github.com/topojson/topojson-client/blob/master/README.md#feature)\n * exposes geo feature from an url\n *\n **/\nclass TopojsonFeature extends TopoBase {\n  static get properties() {\n    return {\n\n      ...super.properties,\n\n      /**\n       * `feature` the GeoJSON Feature or FeatureCollection to be exposed by this component\n       */\n      feature: {\n        type: Array,\n        notify: true\n      },\n\n      /*\n       * `filter` the filter to use for filtering features\n       * ex: function(f) {return f.id !== 10} // remove antartic from a world map\n       */\n      filter: {\n        type: Function\n      },\n\n      /*\n       * `forEach` a function that will run for each feature\n       * ex: function(f) {return f.properties.id = lookup(f.id) } // take lookup code\n       */\n      forEach: {\n        type: Function\n      }\n    };\n  }\n\n  updated(props) {\n    super.updated(props);\n    if (props.has('data') || props.has('name') || props.has('geoType') || props.has('filter' || props.has('forEach'))) {\n      this._observeData(this.data, this.name, this.geoType, this.filter, this.forEach);\n    }\n  }\n\n\n  _observeData(data, name, geoType, filter, forEach) {\n    if (data && name && geoType) {\n      let feat;\n\n      if (geoType === 'topojson') {\n        if (!data.objects[name]) {\n          throw new Error(`no topologies for name ${name}`);\n        }\n        feat = topofeature(data, data.objects[name]);\n      } else {\n        feat = data.objects[name].geometries;\n      }\n\n      if (feat && feat.features && filter && typeof filter === 'function') {\n        feat.features = feat.features.filter(filter);\n      }\n\n      if (feat && feat.features && forEach && typeof forEach === 'function') {\n        feat.features.forEach(forEach);\n      }\n      this.feature = feat;\n    }\n  }\n}\n\nexport default TopojsonFeature;\n","import {default as TopoBase} from './topojson-base.js';\nimport { mesh } from 'topojson-client';\n\n/**\n * ## TopojsonMesh\n *\n * `<topojson-mesh>` wrapper around [topoJSON.mesh](https://github.com/topojson/topojson-client/blob/master/README.md#mesh)\n * exposes geo mesh from an url or topojson data\n *\n **/\nclass TopojsonMesh extends TopoBase {\n  static get properties() {\n    return {\n\n      ...super.properties,\n\n      /**\n       * `feature` the geo feature to be exposed by this component\n       */\n      mesh: {\n        type: Array,\n        notify: true\n      },\n\n      /**\n       * `filter` filter to be used for the mesh\n       */\n      filter: {\n        type: Function,\n        value: function() {\n          return function(a, b) {\n            return a !== b;\n          };\n        }\n      }\n    };\n  }\n\n  updated(props) {\n     super.updated(props);\n    if (props.has('data') || props.has('name') || props.has('filter')) {\n      this._observeData(this.data, this.name, this.filter);\n    }\n  }\n\n  _observeData(data, name, filter) {\n    if (data && name) {\n      this.mesh = mesh(data, data.objects[name], filter);\n    }\n  }\n}\n\nexport default TopojsonMesh;\n","export var xhtml = \"http://www.w3.org/1999/xhtml\";\n\nexport default {\n  svg: \"http://www.w3.org/2000/svg\",\n  xhtml: xhtml,\n  xlink: \"http://www.w3.org/1999/xlink\",\n  xml: \"http://www.w3.org/XML/1998/namespace\",\n  xmlns: \"http://www.w3.org/2000/xmlns/\"\n};\n","import namespaces from \"./namespaces\";\n\nexport default function(name) {\n  var prefix = name += \"\", i = prefix.indexOf(\":\");\n  if (i >= 0 && (prefix = name.slice(0, i)) !== \"xmlns\") name = name.slice(i + 1);\n  return namespaces.hasOwnProperty(prefix) ? {space: namespaces[prefix], local: name} : name;\n}\n","import namespace from \"./namespace\";\nimport {xhtml} from \"./namespaces\";\n\nfunction creatorInherit(name) {\n  return function() {\n    var document = this.ownerDocument,\n        uri = this.namespaceURI;\n    return uri === xhtml && document.documentElement.namespaceURI === xhtml\n        ? document.createElement(name)\n        : document.createElementNS(uri, name);\n  };\n}\n\nfunction creatorFixed(fullname) {\n  return function() {\n    return this.ownerDocument.createElementNS(fullname.space, fullname.local);\n  };\n}\n\nexport default function(name) {\n  var fullname = namespace(name);\n  return (fullname.local\n      ? creatorFixed\n      : creatorInherit)(fullname);\n}\n","function none() {}\n\nexport default function(selector) {\n  return selector == null ? none : function() {\n    return this.querySelector(selector);\n  };\n}\n","function empty() {\n  return [];\n}\n\nexport default function(selector) {\n  return selector == null ? empty : function() {\n    return this.querySelectorAll(selector);\n  };\n}\n","export default function(selector) {\n  return function() {\n    return this.matches(selector);\n  };\n}\n","export default function(update) {\n  return new Array(update.length);\n}\n","import sparse from \"./sparse\";\nimport {Selection} from \"./index\";\n\nexport default function() {\n  return new Selection(this._enter || this._groups.map(sparse), this._parents);\n}\n\nexport function EnterNode(parent, datum) {\n  this.ownerDocument = parent.ownerDocument;\n  this.namespaceURI = parent.namespaceURI;\n  this._next = null;\n  this._parent = parent;\n  this.__data__ = datum;\n}\n\nEnterNode.prototype = {\n  constructor: EnterNode,\n  appendChild: function(child) { return this._parent.insertBefore(child, this._next); },\n  insertBefore: function(child, next) { return this._parent.insertBefore(child, next); },\n  querySelector: function(selector) { return this._parent.querySelector(selector); },\n  querySelectorAll: function(selector) { return this._parent.querySelectorAll(selector); }\n};\n","import {Selection} from \"./index\";\nimport {EnterNode} from \"./enter\";\nimport constant from \"../constant\";\n\nvar keyPrefix = \"$\"; // Protect against keys like __proto__.\n\nfunction bindIndex(parent, group, enter, update, exit, data) {\n  var i = 0,\n      node,\n      groupLength = group.length,\n      dataLength = data.length;\n\n  // Put any non-null nodes that fit into update.\n  // Put any null nodes into enter.\n  // Put any remaining data into enter.\n  for (; i < dataLength; ++i) {\n    if (node = group[i]) {\n      node.__data__ = data[i];\n      update[i] = node;\n    } else {\n      enter[i] = new EnterNode(parent, data[i]);\n    }\n  }\n\n  // Put any non-null nodes that dont fit into exit.\n  for (; i < groupLength; ++i) {\n    if (node = group[i]) {\n      exit[i] = node;\n    }\n  }\n}\n\nfunction bindKey(parent, group, enter, update, exit, data, key) {\n  var i,\n      node,\n      nodeByKeyValue = {},\n      groupLength = group.length,\n      dataLength = data.length,\n      keyValues = new Array(groupLength),\n      keyValue;\n\n  // Compute the key for each node.\n  // If multiple nodes have the same key, the duplicates are added to exit.\n  for (i = 0; i < groupLength; ++i) {\n    if (node = group[i]) {\n      keyValues[i] = keyValue = keyPrefix + key.call(node, node.__data__, i, group);\n      if (keyValue in nodeByKeyValue) {\n        exit[i] = node;\n      } else {\n        nodeByKeyValue[keyValue] = node;\n      }\n    }\n  }\n\n  // Compute the key for each datum.\n  // If there a node associated with this key, join and add it to update.\n  // If there is not (or the key is a duplicate), add it to enter.\n  for (i = 0; i < dataLength; ++i) {\n    keyValue = keyPrefix + key.call(parent, data[i], i, data);\n    if (node = nodeByKeyValue[keyValue]) {\n      update[i] = node;\n      node.__data__ = data[i];\n      nodeByKeyValue[keyValue] = null;\n    } else {\n      enter[i] = new EnterNode(parent, data[i]);\n    }\n  }\n\n  // Add any remaining nodes that were not bound to data to exit.\n  for (i = 0; i < groupLength; ++i) {\n    if ((node = group[i]) && (nodeByKeyValue[keyValues[i]] === node)) {\n      exit[i] = node;\n    }\n  }\n}\n\nexport default function(value, key) {\n  if (!value) {\n    data = new Array(this.size()), j = -1;\n    this.each(function(d) { data[++j] = d; });\n    return data;\n  }\n\n  var bind = key ? bindKey : bindIndex,\n      parents = this._parents,\n      groups = this._groups;\n\n  if (typeof value !== \"function\") value = constant(value);\n\n  for (var m = groups.length, update = new Array(m), enter = new Array(m), exit = new Array(m), j = 0; j < m; ++j) {\n    var parent = parents[j],\n        group = groups[j],\n        groupLength = group.length,\n        data = value.call(parent, parent && parent.__data__, j, parents),\n        dataLength = data.length,\n        enterGroup = enter[j] = new Array(dataLength),\n        updateGroup = update[j] = new Array(dataLength),\n        exitGroup = exit[j] = new Array(groupLength);\n\n    bind(parent, group, enterGroup, updateGroup, exitGroup, data, key);\n\n    // Now connect the enter nodes to their following update node, such that\n    // appendChild can insert the materialized enter node before this node,\n    // rather than at the end of the parent node.\n    for (var i0 = 0, i1 = 0, previous, next; i0 < dataLength; ++i0) {\n      if (previous = enterGroup[i0]) {\n        if (i0 >= i1) i1 = i0 + 1;\n        while (!(next = updateGroup[i1]) && ++i1 < dataLength);\n        previous._next = next || null;\n      }\n    }\n  }\n\n  update = new Selection(update, parents);\n  update._enter = enter;\n  update._exit = exit;\n  return update;\n}\n","import {Selection} from \"./index\";\n\nexport default function(compare) {\n  if (!compare) compare = ascending;\n\n  function compareNode(a, b) {\n    return a && b ? compare(a.__data__, b.__data__) : !a - !b;\n  }\n\n  for (var groups = this._groups, m = groups.length, sortgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, sortgroup = sortgroups[j] = new Array(n), node, i = 0; i < n; ++i) {\n      if (node = group[i]) {\n        sortgroup[i] = node;\n      }\n    }\n    sortgroup.sort(compareNode);\n  }\n\n  return new Selection(sortgroups, this._parents).order();\n}\n\nfunction ascending(a, b) {\n  return a < b ? -1 : a > b ? 1 : a >= b ? 0 : NaN;\n}\n","import namespace from \"../namespace\";\n\nfunction attrRemove(name) {\n  return function() {\n    this.removeAttribute(name);\n  };\n}\n\nfunction attrRemoveNS(fullname) {\n  return function() {\n    this.removeAttributeNS(fullname.space, fullname.local);\n  };\n}\n\nfunction attrConstant(name, value) {\n  return function() {\n    this.setAttribute(name, value);\n  };\n}\n\nfunction attrConstantNS(fullname, value) {\n  return function() {\n    this.setAttributeNS(fullname.space, fullname.local, value);\n  };\n}\n\nfunction attrFunction(name, value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    if (v == null) this.removeAttribute(name);\n    else this.setAttribute(name, v);\n  };\n}\n\nfunction attrFunctionNS(fullname, value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    if (v == null) this.removeAttributeNS(fullname.space, fullname.local);\n    else this.setAttributeNS(fullname.space, fullname.local, v);\n  };\n}\n\nexport default function(name, value) {\n  var fullname = namespace(name);\n\n  if (arguments.length < 2) {\n    var node = this.node();\n    return fullname.local\n        ? node.getAttributeNS(fullname.space, fullname.local)\n        : node.getAttribute(fullname);\n  }\n\n  return this.each((value == null\n      ? (fullname.local ? attrRemoveNS : attrRemove) : (typeof value === \"function\"\n      ? (fullname.local ? attrFunctionNS : attrFunction)\n      : (fullname.local ? attrConstantNS : attrConstant)))(fullname, value));\n}\n","export default function(node) {\n  return (node.ownerDocument && node.ownerDocument.defaultView) // node is a Node\n      || (node.document && node) // node is a Window\n      || node.defaultView; // node is a Document\n}\n","import defaultView from \"../window\";\n\nfunction styleRemove(name) {\n  return function() {\n    this.style.removeProperty(name);\n  };\n}\n\nfunction styleConstant(name, value, priority) {\n  return function() {\n    this.style.setProperty(name, value, priority);\n  };\n}\n\nfunction styleFunction(name, value, priority) {\n  return function() {\n    var v = value.apply(this, arguments);\n    if (v == null) this.style.removeProperty(name);\n    else this.style.setProperty(name, v, priority);\n  };\n}\n\nexport default function(name, value, priority) {\n  return arguments.length > 1\n      ? this.each((value == null\n            ? styleRemove : typeof value === \"function\"\n            ? styleFunction\n            : styleConstant)(name, value, priority == null ? \"\" : priority))\n      : styleValue(this.node(), name);\n}\n\nexport function styleValue(node, name) {\n  return node.style.getPropertyValue(name)\n      || defaultView(node).getComputedStyle(node, null).getPropertyValue(name);\n}\n","function propertyRemove(name) {\n  return function() {\n    delete this[name];\n  };\n}\n\nfunction propertyConstant(name, value) {\n  return function() {\n    this[name] = value;\n  };\n}\n\nfunction propertyFunction(name, value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    if (v == null) delete this[name];\n    else this[name] = v;\n  };\n}\n\nexport default function(name, value) {\n  return arguments.length > 1\n      ? this.each((value == null\n          ? propertyRemove : typeof value === \"function\"\n          ? propertyFunction\n          : propertyConstant)(name, value))\n      : this.node()[name];\n}\n","function classArray(string) {\n  return string.trim().split(/^|\\s+/);\n}\n\nfunction classList(node) {\n  return node.classList || new ClassList(node);\n}\n\nfunction ClassList(node) {\n  this._node = node;\n  this._names = classArray(node.getAttribute(\"class\") || \"\");\n}\n\nClassList.prototype = {\n  add: function(name) {\n    var i = this._names.indexOf(name);\n    if (i < 0) {\n      this._names.push(name);\n      this._node.setAttribute(\"class\", this._names.join(\" \"));\n    }\n  },\n  remove: function(name) {\n    var i = this._names.indexOf(name);\n    if (i >= 0) {\n      this._names.splice(i, 1);\n      this._node.setAttribute(\"class\", this._names.join(\" \"));\n    }\n  },\n  contains: function(name) {\n    return this._names.indexOf(name) >= 0;\n  }\n};\n\nfunction classedAdd(node, names) {\n  var list = classList(node), i = -1, n = names.length;\n  while (++i < n) list.add(names[i]);\n}\n\nfunction classedRemove(node, names) {\n  var list = classList(node), i = -1, n = names.length;\n  while (++i < n) list.remove(names[i]);\n}\n\nfunction classedTrue(names) {\n  return function() {\n    classedAdd(this, names);\n  };\n}\n\nfunction classedFalse(names) {\n  return function() {\n    classedRemove(this, names);\n  };\n}\n\nfunction classedFunction(names, value) {\n  return function() {\n    (value.apply(this, arguments) ? classedAdd : classedRemove)(this, names);\n  };\n}\n\nexport default function(name, value) {\n  var names = classArray(name + \"\");\n\n  if (arguments.length < 2) {\n    var list = classList(this.node()), i = -1, n = names.length;\n    while (++i < n) if (!list.contains(names[i])) return false;\n    return true;\n  }\n\n  return this.each((typeof value === \"function\"\n      ? classedFunction : value\n      ? classedTrue\n      : classedFalse)(names, value));\n}\n","function textRemove() {\n  this.textContent = \"\";\n}\n\nfunction textConstant(value) {\n  return function() {\n    this.textContent = value;\n  };\n}\n\nfunction textFunction(value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    this.textContent = v == null ? \"\" : v;\n  };\n}\n\nexport default function(value) {\n  return arguments.length\n      ? this.each(value == null\n          ? textRemove : (typeof value === \"function\"\n          ? textFunction\n          : textConstant)(value))\n      : this.node().textContent;\n}\n","function htmlRemove() {\n  this.innerHTML = \"\";\n}\n\nfunction htmlConstant(value) {\n  return function() {\n    this.innerHTML = value;\n  };\n}\n\nfunction htmlFunction(value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    this.innerHTML = v == null ? \"\" : v;\n  };\n}\n\nexport default function(value) {\n  return arguments.length\n      ? this.each(value == null\n          ? htmlRemove : (typeof value === \"function\"\n          ? htmlFunction\n          : htmlConstant)(value))\n      : this.node().innerHTML;\n}\n","function raise() {\n  if (this.nextSibling) this.parentNode.appendChild(this);\n}\n\nexport default function() {\n  return this.each(raise);\n}\n","function lower() {\n  if (this.previousSibling) this.parentNode.insertBefore(this, this.parentNode.firstChild);\n}\n\nexport default function() {\n  return this.each(lower);\n}\n","import creator from \"../creator\";\nimport selector from \"../selector\";\n\nfunction constantNull() {\n  return null;\n}\n\nexport default function(name, before) {\n  var create = typeof name === \"function\" ? name : creator(name),\n      select = before == null ? constantNull : typeof before === \"function\" ? before : selector(before);\n  return this.select(function() {\n    return this.insertBefore(create.apply(this, arguments), select.apply(this, arguments) || null);\n  });\n}\n","function remove() {\n  var parent = this.parentNode;\n  if (parent) parent.removeChild(this);\n}\n\nexport default function() {\n  return this.each(remove);\n}\n","function selection_cloneShallow() {\n  return this.parentNode.insertBefore(this.cloneNode(false), this.nextSibling);\n}\n\nfunction selection_cloneDeep() {\n  return this.parentNode.insertBefore(this.cloneNode(true), this.nextSibling);\n}\n\nexport default function(deep) {\n  return this.select(deep ? selection_cloneDeep : selection_cloneShallow);\n}\n","var filterEvents = {};\n\nexport var event = null;\n\nif (typeof document !== \"undefined\") {\n  var element = document.documentElement;\n  if (!(\"onmouseenter\" in element)) {\n    filterEvents = {mouseenter: \"mouseover\", mouseleave: \"mouseout\"};\n  }\n}\n\nfunction filterContextListener(listener, index, group) {\n  listener = contextListener(listener, index, group);\n  return function(event) {\n    var related = event.relatedTarget;\n    if (!related || (related !== this && !(related.compareDocumentPosition(this) & 8))) {\n      listener.call(this, event);\n    }\n  };\n}\n\nfunction contextListener(listener, index, group) {\n  return function(event1) {\n    var event0 = event; // Events can be reentrant (e.g., focus).\n    event = event1;\n    try {\n      listener.call(this, this.__data__, index, group);\n    } finally {\n      event = event0;\n    }\n  };\n}\n\nfunction parseTypenames(typenames) {\n  return typenames.trim().split(/^|\\s+/).map(function(t) {\n    var name = \"\", i = t.indexOf(\".\");\n    if (i >= 0) name = t.slice(i + 1), t = t.slice(0, i);\n    return {type: t, name: name};\n  });\n}\n\nfunction onRemove(typename) {\n  return function() {\n    var on = this.__on;\n    if (!on) return;\n    for (var j = 0, i = -1, m = on.length, o; j < m; ++j) {\n      if (o = on[j], (!typename.type || o.type === typename.type) && o.name === typename.name) {\n        this.removeEventListener(o.type, o.listener, o.capture);\n      } else {\n        on[++i] = o;\n      }\n    }\n    if (++i) on.length = i;\n    else delete this.__on;\n  };\n}\n\nfunction onAdd(typename, value, capture) {\n  var wrap = filterEvents.hasOwnProperty(typename.type) ? filterContextListener : contextListener;\n  return function(d, i, group) {\n    var on = this.__on, o, listener = wrap(value, i, group);\n    if (on) for (var j = 0, m = on.length; j < m; ++j) {\n      if ((o = on[j]).type === typename.type && o.name === typename.name) {\n        this.removeEventListener(o.type, o.listener, o.capture);\n        this.addEventListener(o.type, o.listener = listener, o.capture = capture);\n        o.value = value;\n        return;\n      }\n    }\n    this.addEventListener(typename.type, listener, capture);\n    o = {type: typename.type, name: typename.name, value: value, listener: listener, capture: capture};\n    if (!on) this.__on = [o];\n    else on.push(o);\n  };\n}\n\nexport default function(typename, value, capture) {\n  var typenames = parseTypenames(typename + \"\"), i, n = typenames.length, t;\n\n  if (arguments.length < 2) {\n    var on = this.node().__on;\n    if (on) for (var j = 0, m = on.length, o; j < m; ++j) {\n      for (i = 0, o = on[j]; i < n; ++i) {\n        if ((t = typenames[i]).type === o.type && t.name === o.name) {\n          return o.value;\n        }\n      }\n    }\n    return;\n  }\n\n  on = value ? onAdd : onRemove;\n  if (capture == null) capture = false;\n  for (i = 0; i < n; ++i) this.each(on(typenames[i], value, capture));\n  return this;\n}\n\nexport function customEvent(event1, listener, that, args) {\n  var event0 = event;\n  event1.sourceEvent = event;\n  event = event1;\n  try {\n    return listener.apply(that, args);\n  } finally {\n    event = event0;\n  }\n}\n","import defaultView from \"../window\";\n\nfunction dispatchEvent(node, type, params) {\n  var window = defaultView(node),\n      event = window.CustomEvent;\n\n  if (typeof event === \"function\") {\n    event = new event(type, params);\n  } else {\n    event = window.document.createEvent(\"Event\");\n    if (params) event.initEvent(type, params.bubbles, params.cancelable), event.detail = params.detail;\n    else event.initEvent(type, false, false);\n  }\n\n  node.dispatchEvent(event);\n}\n\nfunction dispatchConstant(type, params) {\n  return function() {\n    return dispatchEvent(this, type, params);\n  };\n}\n\nfunction dispatchFunction(type, params) {\n  return function() {\n    return dispatchEvent(this, type, params.apply(this, arguments));\n  };\n}\n\nexport default function(type, params) {\n  return this.each((typeof params === \"function\"\n      ? dispatchFunction\n      : dispatchConstant)(type, params));\n}\n","import selection_select from \"./select\";\nimport selection_selectAll from \"./selectAll\";\nimport selection_filter from \"./filter\";\nimport selection_data from \"./data\";\nimport selection_enter from \"./enter\";\nimport selection_exit from \"./exit\";\nimport selection_join from \"./join\";\nimport selection_merge from \"./merge\";\nimport selection_order from \"./order\";\nimport selection_sort from \"./sort\";\nimport selection_call from \"./call\";\nimport selection_nodes from \"./nodes\";\nimport selection_node from \"./node\";\nimport selection_size from \"./size\";\nimport selection_empty from \"./empty\";\nimport selection_each from \"./each\";\nimport selection_attr from \"./attr\";\nimport selection_style from \"./style\";\nimport selection_property from \"./property\";\nimport selection_classed from \"./classed\";\nimport selection_text from \"./text\";\nimport selection_html from \"./html\";\nimport selection_raise from \"./raise\";\nimport selection_lower from \"./lower\";\nimport selection_append from \"./append\";\nimport selection_insert from \"./insert\";\nimport selection_remove from \"./remove\";\nimport selection_clone from \"./clone\";\nimport selection_datum from \"./datum\";\nimport selection_on from \"./on\";\nimport selection_dispatch from \"./dispatch\";\n\nexport var root = [null];\n\nexport function Selection(groups, parents) {\n  this._groups = groups;\n  this._parents = parents;\n}\n\nfunction selection() {\n  return new Selection([[document.documentElement]], root);\n}\n\nSelection.prototype = selection.prototype = {\n  constructor: Selection,\n  select: selection_select,\n  selectAll: selection_selectAll,\n  filter: selection_filter,\n  data: selection_data,\n  enter: selection_enter,\n  exit: selection_exit,\n  join: selection_join,\n  merge: selection_merge,\n  order: selection_order,\n  sort: selection_sort,\n  call: selection_call,\n  nodes: selection_nodes,\n  node: selection_node,\n  size: selection_size,\n  empty: selection_empty,\n  each: selection_each,\n  attr: selection_attr,\n  style: selection_style,\n  property: selection_property,\n  classed: selection_classed,\n  text: selection_text,\n  html: selection_html,\n  raise: selection_raise,\n  lower: selection_lower,\n  append: selection_append,\n  insert: selection_insert,\n  remove: selection_remove,\n  clone: selection_clone,\n  datum: selection_datum,\n  on: selection_on,\n  dispatch: selection_dispatch\n};\n\nexport default selection;\n","import {Selection, root} from \"./selection/index\";\n\nexport default function(selector) {\n  return typeof selector === \"string\"\n      ? new Selection([[document.querySelector(selector)]], [document.documentElement])\n      : new Selection([[selector]], root);\n}\n","import {Selection} from \"./index\";\nimport selector from \"../selector\";\n\nexport default function(select) {\n  if (typeof select !== \"function\") select = selector(select);\n\n  for (var groups = this._groups, m = groups.length, subgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, subgroup = subgroups[j] = new Array(n), node, subnode, i = 0; i < n; ++i) {\n      if ((node = group[i]) && (subnode = select.call(node, node.__data__, i, group))) {\n        if (\"__data__\" in node) subnode.__data__ = node.__data__;\n        subgroup[i] = subnode;\n      }\n    }\n  }\n\n  return new Selection(subgroups, this._parents);\n}\n","import {Selection} from \"./index\";\nimport selectorAll from \"../selectorAll\";\n\nexport default function(select) {\n  if (typeof select !== \"function\") select = selectorAll(select);\n\n  for (var groups = this._groups, m = groups.length, subgroups = [], parents = [], j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, node, i = 0; i < n; ++i) {\n      if (node = group[i]) {\n        subgroups.push(select.call(node, node.__data__, i, group));\n        parents.push(node);\n      }\n    }\n  }\n\n  return new Selection(subgroups, parents);\n}\n","import {Selection} from \"./index\";\nimport matcher from \"../matcher\";\n\nexport default function(match) {\n  if (typeof match !== \"function\") match = matcher(match);\n\n  for (var groups = this._groups, m = groups.length, subgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, subgroup = subgroups[j] = [], node, i = 0; i < n; ++i) {\n      if ((node = group[i]) && match.call(node, node.__data__, i, group)) {\n        subgroup.push(node);\n      }\n    }\n  }\n\n  return new Selection(subgroups, this._parents);\n}\n","export default function(x) {\n  return function() {\n    return x;\n  };\n}\n","import sparse from \"./sparse\";\nimport {Selection} from \"./index\";\n\nexport default function() {\n  return new Selection(this._exit || this._groups.map(sparse), this._parents);\n}\n","export default function(onenter, onupdate, onexit) {\n  var enter = this.enter(), update = this, exit = this.exit();\n  enter = typeof onenter === \"function\" ? onenter(enter) : enter.append(onenter + \"\");\n  if (onupdate != null) update = onupdate(update);\n  if (onexit == null) exit.remove(); else onexit(exit);\n  return enter && update ? enter.merge(update).order() : update;\n}\n","import {Selection} from \"./index\";\n\nexport default function(selection) {\n\n  for (var groups0 = this._groups, groups1 = selection._groups, m0 = groups0.length, m1 = groups1.length, m = Math.min(m0, m1), merges = new Array(m0), j = 0; j < m; ++j) {\n    for (var group0 = groups0[j], group1 = groups1[j], n = group0.length, merge = merges[j] = new Array(n), node, i = 0; i < n; ++i) {\n      if (node = group0[i] || group1[i]) {\n        merge[i] = node;\n      }\n    }\n  }\n\n  for (; j < m0; ++j) {\n    merges[j] = groups0[j];\n  }\n\n  return new Selection(merges, this._parents);\n}\n","export default function() {\n\n  for (var groups = this._groups, j = -1, m = groups.length; ++j < m;) {\n    for (var group = groups[j], i = group.length - 1, next = group[i], node; --i >= 0;) {\n      if (node = group[i]) {\n        if (next && node.compareDocumentPosition(next) ^ 4) next.parentNode.insertBefore(node, next);\n        next = node;\n      }\n    }\n  }\n\n  return this;\n}\n","export default function() {\n  var callback = arguments[0];\n  arguments[0] = this;\n  callback.apply(null, arguments);\n  return this;\n}\n","export default function() {\n  var nodes = new Array(this.size()), i = -1;\n  this.each(function() { nodes[++i] = this; });\n  return nodes;\n}\n","export default function() {\n\n  for (var groups = this._groups, j = 0, m = groups.length; j < m; ++j) {\n    for (var group = groups[j], i = 0, n = group.length; i < n; ++i) {\n      var node = group[i];\n      if (node) return node;\n    }\n  }\n\n  return null;\n}\n","export default function() {\n  var size = 0;\n  this.each(function() { ++size; });\n  return size;\n}\n","export default function() {\n  return !this.node();\n}\n","export default function(callback) {\n\n  for (var groups = this._groups, j = 0, m = groups.length; j < m; ++j) {\n    for (var group = groups[j], i = 0, n = group.length, node; i < n; ++i) {\n      if (node = group[i]) callback.call(node, node.__data__, i, group);\n    }\n  }\n\n  return this;\n}\n","import creator from \"../creator\";\n\nexport default function(name) {\n  var create = typeof name === \"function\" ? name : creator(name);\n  return this.select(function() {\n    return this.appendChild(create.apply(this, arguments));\n  });\n}\n","export default function(value) {\n  return arguments.length\n      ? this.property(\"__data__\", value)\n      : this.node().__data__;\n}\n","var noop = {value: function() {}};\n\nfunction dispatch() {\n  for (var i = 0, n = arguments.length, _ = {}, t; i < n; ++i) {\n    if (!(t = arguments[i] + \"\") || (t in _)) throw new Error(\"illegal type: \" + t);\n    _[t] = [];\n  }\n  return new Dispatch(_);\n}\n\nfunction Dispatch(_) {\n  this._ = _;\n}\n\nfunction parseTypenames(typenames, types) {\n  return typenames.trim().split(/^|\\s+/).map(function(t) {\n    var name = \"\", i = t.indexOf(\".\");\n    if (i >= 0) name = t.slice(i + 1), t = t.slice(0, i);\n    if (t && !types.hasOwnProperty(t)) throw new Error(\"unknown type: \" + t);\n    return {type: t, name: name};\n  });\n}\n\nDispatch.prototype = dispatch.prototype = {\n  constructor: Dispatch,\n  on: function(typename, callback) {\n    var _ = this._,\n        T = parseTypenames(typename + \"\", _),\n        t,\n        i = -1,\n        n = T.length;\n\n    // If no callback was specified, return the callback of the given type and name.\n    if (arguments.length < 2) {\n      while (++i < n) if ((t = (typename = T[i]).type) && (t = get(_[t], typename.name))) return t;\n      return;\n    }\n\n    // If a type was specified, set the callback for the given type and name.\n    // Otherwise, if a null callback was specified, remove callbacks of the given name.\n    if (callback != null && typeof callback !== \"function\") throw new Error(\"invalid callback: \" + callback);\n    while (++i < n) {\n      if (t = (typename = T[i]).type) _[t] = set(_[t], typename.name, callback);\n      else if (callback == null) for (t in _) _[t] = set(_[t], typename.name, null);\n    }\n\n    return this;\n  },\n  copy: function() {\n    var copy = {}, _ = this._;\n    for (var t in _) copy[t] = _[t].slice();\n    return new Dispatch(copy);\n  },\n  call: function(type, that) {\n    if ((n = arguments.length - 2) > 0) for (var args = new Array(n), i = 0, n, t; i < n; ++i) args[i] = arguments[i + 2];\n    if (!this._.hasOwnProperty(type)) throw new Error(\"unknown type: \" + type);\n    for (t = this._[type], i = 0, n = t.length; i < n; ++i) t[i].value.apply(that, args);\n  },\n  apply: function(type, that, args) {\n    if (!this._.hasOwnProperty(type)) throw new Error(\"unknown type: \" + type);\n    for (var t = this._[type], i = 0, n = t.length; i < n; ++i) t[i].value.apply(that, args);\n  }\n};\n\nfunction get(type, name) {\n  for (var i = 0, n = type.length, c; i < n; ++i) {\n    if ((c = type[i]).name === name) {\n      return c.value;\n    }\n  }\n}\n\nfunction set(type, name, callback) {\n  for (var i = 0, n = type.length; i < n; ++i) {\n    if (type[i].name === name) {\n      type[i] = noop, type = type.slice(0, i).concat(type.slice(i + 1));\n      break;\n    }\n  }\n  if (callback != null) type.push({name: name, value: callback});\n  return type;\n}\n\nexport default dispatch;\n","var frame = 0, // is an animation frame pending?\n    timeout = 0, // is a timeout pending?\n    interval = 0, // are any timers active?\n    pokeDelay = 1000, // how frequently we check for clock skew\n    taskHead,\n    taskTail,\n    clockLast = 0,\n    clockNow = 0,\n    clockSkew = 0,\n    clock = typeof performance === \"object\" && performance.now ? performance : Date,\n    setFrame = typeof window === \"object\" && window.requestAnimationFrame ? window.requestAnimationFrame.bind(window) : function(f) { setTimeout(f, 17); };\n\nexport function now() {\n  return clockNow || (setFrame(clearNow), clockNow = clock.now() + clockSkew);\n}\n\nfunction clearNow() {\n  clockNow = 0;\n}\n\nexport function Timer() {\n  this._call =\n  this._time =\n  this._next = null;\n}\n\nTimer.prototype = timer.prototype = {\n  constructor: Timer,\n  restart: function(callback, delay, time) {\n    if (typeof callback !== \"function\") throw new TypeError(\"callback is not a function\");\n    time = (time == null ? now() : +time) + (delay == null ? 0 : +delay);\n    if (!this._next && taskTail !== this) {\n      if (taskTail) taskTail._next = this;\n      else taskHead = this;\n      taskTail = this;\n    }\n    this._call = callback;\n    this._time = time;\n    sleep();\n  },\n  stop: function() {\n    if (this._call) {\n      this._call = null;\n      this._time = Infinity;\n      sleep();\n    }\n  }\n};\n\nexport function timer(callback, delay, time) {\n  var t = new Timer;\n  t.restart(callback, delay, time);\n  return t;\n}\n\nexport function timerFlush() {\n  now(); // Get the current time, if not already set.\n  ++frame; // Pretend weve set an alarm, if we havent already.\n  var t = taskHead, e;\n  while (t) {\n    if ((e = clockNow - t._time) >= 0) t._call.call(null, e);\n    t = t._next;\n  }\n  --frame;\n}\n\nfunction wake() {\n  clockNow = (clockLast = clock.now()) + clockSkew;\n  frame = timeout = 0;\n  try {\n    timerFlush();\n  } finally {\n    frame = 0;\n    nap();\n    clockNow = 0;\n  }\n}\n\nfunction poke() {\n  var now = clock.now(), delay = now - clockLast;\n  if (delay > pokeDelay) clockSkew -= delay, clockLast = now;\n}\n\nfunction nap() {\n  var t0, t1 = taskHead, t2, time = Infinity;\n  while (t1) {\n    if (t1._call) {\n      if (time > t1._time) time = t1._time;\n      t0 = t1, t1 = t1._next;\n    } else {\n      t2 = t1._next, t1._next = null;\n      t1 = t0 ? t0._next = t2 : taskHead = t2;\n    }\n  }\n  taskTail = t0;\n  sleep(time);\n}\n\nfunction sleep(time) {\n  if (frame) return; // Soonest alarm already set, or will be.\n  if (timeout) timeout = clearTimeout(timeout);\n  var delay = time - clockNow; // Strictly less than if we recomputed clockNow.\n  if (delay > 24) {\n    if (time < Infinity) timeout = setTimeout(wake, time - clock.now() - clockSkew);\n    if (interval) interval = clearInterval(interval);\n  } else {\n    if (!interval) clockLast = clock.now(), interval = setInterval(poke, pokeDelay);\n    frame = 1, setFrame(wake);\n  }\n}\n","import {Timer} from \"./timer\";\n\nexport default function(callback, delay, time) {\n  var t = new Timer;\n  delay = delay == null ? 0 : +delay;\n  t.restart(function(elapsed) {\n    t.stop();\n    callback(elapsed + delay);\n  }, delay, time);\n  return t;\n}\n","import {dispatch} from \"d3-dispatch\";\nimport {timer, timeout} from \"d3-timer\";\n\nvar emptyOn = dispatch(\"start\", \"end\", \"cancel\", \"interrupt\");\nvar emptyTween = [];\n\nexport var CREATED = 0;\nexport var SCHEDULED = 1;\nexport var STARTING = 2;\nexport var STARTED = 3;\nexport var RUNNING = 4;\nexport var ENDING = 5;\nexport var ENDED = 6;\n\nexport default function(node, name, id, index, group, timing) {\n  var schedules = node.__transition;\n  if (!schedules) node.__transition = {};\n  else if (id in schedules) return;\n  create(node, id, {\n    name: name,\n    index: index, // For context during callback.\n    group: group, // For context during callback.\n    on: emptyOn,\n    tween: emptyTween,\n    time: timing.time,\n    delay: timing.delay,\n    duration: timing.duration,\n    ease: timing.ease,\n    timer: null,\n    state: CREATED\n  });\n}\n\nexport function init(node, id) {\n  var schedule = get(node, id);\n  if (schedule.state > CREATED) throw new Error(\"too late; already scheduled\");\n  return schedule;\n}\n\nexport function set(node, id) {\n  var schedule = get(node, id);\n  if (schedule.state > STARTED) throw new Error(\"too late; already running\");\n  return schedule;\n}\n\nexport function get(node, id) {\n  var schedule = node.__transition;\n  if (!schedule || !(schedule = schedule[id])) throw new Error(\"transition not found\");\n  return schedule;\n}\n\nfunction create(node, id, self) {\n  var schedules = node.__transition,\n      tween;\n\n  // Initialize the self timer when the transition is created.\n  // Note the actual delay is not known until the first callback!\n  schedules[id] = self;\n  self.timer = timer(schedule, 0, self.time);\n\n  function schedule(elapsed) {\n    self.state = SCHEDULED;\n    self.timer.restart(start, self.delay, self.time);\n\n    // If the elapsed delay is less than our first sleep, start immediately.\n    if (self.delay <= elapsed) start(elapsed - self.delay);\n  }\n\n  function start(elapsed) {\n    var i, j, n, o;\n\n    // If the state is not SCHEDULED, then we previously errored on start.\n    if (self.state !== SCHEDULED) return stop();\n\n    for (i in schedules) {\n      o = schedules[i];\n      if (o.name !== self.name) continue;\n\n      // While this element already has a starting transition during this frame,\n      // defer starting an interrupting transition until that transition has a\n      // chance to tick (and possibly end); see d3/d3-transition#54!\n      if (o.state === STARTED) return timeout(start);\n\n      // Interrupt the active transition, if any.\n      if (o.state === RUNNING) {\n        o.state = ENDED;\n        o.timer.stop();\n        o.on.call(\"interrupt\", node, node.__data__, o.index, o.group);\n        delete schedules[i];\n      }\n\n      // Cancel any pre-empted transitions.\n      else if (+i < id) {\n        o.state = ENDED;\n        o.timer.stop();\n        o.on.call(\"cancel\", node, node.__data__, o.index, o.group);\n        delete schedules[i];\n      }\n    }\n\n    // Defer the first tick to end of the current frame; see d3/d3#1576.\n    // Note the transition may be canceled after start and before the first tick!\n    // Note this must be scheduled before the start event; see d3/d3-transition#16!\n    // Assuming this is successful, subsequent callbacks go straight to tick.\n    timeout(function() {\n      if (self.state === STARTED) {\n        self.state = RUNNING;\n        self.timer.restart(tick, self.delay, self.time);\n        tick(elapsed);\n      }\n    });\n\n    // Dispatch the start event.\n    // Note this must be done before the tween are initialized.\n    self.state = STARTING;\n    self.on.call(\"start\", node, node.__data__, self.index, self.group);\n    if (self.state !== STARTING) return; // interrupted\n    self.state = STARTED;\n\n    // Initialize the tween, deleting null tween.\n    tween = new Array(n = self.tween.length);\n    for (i = 0, j = -1; i < n; ++i) {\n      if (o = self.tween[i].value.call(node, node.__data__, self.index, self.group)) {\n        tween[++j] = o;\n      }\n    }\n    tween.length = j + 1;\n  }\n\n  function tick(elapsed) {\n    var t = elapsed < self.duration ? self.ease.call(null, elapsed / self.duration) : (self.timer.restart(stop), self.state = ENDING, 1),\n        i = -1,\n        n = tween.length;\n\n    while (++i < n) {\n      tween[i].call(node, t);\n    }\n\n    // Dispatch the end event.\n    if (self.state === ENDING) {\n      self.on.call(\"end\", node, node.__data__, self.index, self.group);\n      stop();\n    }\n  }\n\n  function stop() {\n    self.state = ENDED;\n    self.timer.stop();\n    delete schedules[id];\n    for (var i in schedules) return; // eslint-disable-line no-unused-vars\n    delete node.__transition;\n  }\n}\n","export default function(constructor, factory, prototype) {\n  constructor.prototype = factory.prototype = prototype;\n  prototype.constructor = constructor;\n}\n\nexport function extend(parent, definition) {\n  var prototype = Object.create(parent.prototype);\n  for (var key in definition) prototype[key] = definition[key];\n  return prototype;\n}\n","import define, {extend} from \"./define.js\";\n\nexport function Color() {}\n\nexport var darker = 0.7;\nexport var brighter = 1 / darker;\n\nvar reI = \"\\\\s*([+-]?\\\\d+)\\\\s*\",\n    reN = \"\\\\s*([+-]?\\\\d*\\\\.?\\\\d+(?:[eE][+-]?\\\\d+)?)\\\\s*\",\n    reP = \"\\\\s*([+-]?\\\\d*\\\\.?\\\\d+(?:[eE][+-]?\\\\d+)?)%\\\\s*\",\n    reHex = /^#([0-9a-f]{3,8})$/,\n    reRgbInteger = new RegExp(\"^rgb\\\\(\" + [reI, reI, reI] + \"\\\\)$\"),\n    reRgbPercent = new RegExp(\"^rgb\\\\(\" + [reP, reP, reP] + \"\\\\)$\"),\n    reRgbaInteger = new RegExp(\"^rgba\\\\(\" + [reI, reI, reI, reN] + \"\\\\)$\"),\n    reRgbaPercent = new RegExp(\"^rgba\\\\(\" + [reP, reP, reP, reN] + \"\\\\)$\"),\n    reHslPercent = new RegExp(\"^hsl\\\\(\" + [reN, reP, reP] + \"\\\\)$\"),\n    reHslaPercent = new RegExp(\"^hsla\\\\(\" + [reN, reP, reP, reN] + \"\\\\)$\");\n\nvar named = {\n  aliceblue: 0xf0f8ff,\n  antiquewhite: 0xfaebd7,\n  aqua: 0x00ffff,\n  aquamarine: 0x7fffd4,\n  azure: 0xf0ffff,\n  beige: 0xf5f5dc,\n  bisque: 0xffe4c4,\n  black: 0x000000,\n  blanchedalmond: 0xffebcd,\n  blue: 0x0000ff,\n  blueviolet: 0x8a2be2,\n  brown: 0xa52a2a,\n  burlywood: 0xdeb887,\n  cadetblue: 0x5f9ea0,\n  chartreuse: 0x7fff00,\n  chocolate: 0xd2691e,\n  coral: 0xff7f50,\n  cornflowerblue: 0x6495ed,\n  cornsilk: 0xfff8dc,\n  crimson: 0xdc143c,\n  cyan: 0x00ffff,\n  darkblue: 0x00008b,\n  darkcyan: 0x008b8b,\n  darkgoldenrod: 0xb8860b,\n  darkgray: 0xa9a9a9,\n  darkgreen: 0x006400,\n  darkgrey: 0xa9a9a9,\n  darkkhaki: 0xbdb76b,\n  darkmagenta: 0x8b008b,\n  darkolivegreen: 0x556b2f,\n  darkorange: 0xff8c00,\n  darkorchid: 0x9932cc,\n  darkred: 0x8b0000,\n  darksalmon: 0xe9967a,\n  darkseagreen: 0x8fbc8f,\n  darkslateblue: 0x483d8b,\n  darkslategray: 0x2f4f4f,\n  darkslategrey: 0x2f4f4f,\n  darkturquoise: 0x00ced1,\n  darkviolet: 0x9400d3,\n  deeppink: 0xff1493,\n  deepskyblue: 0x00bfff,\n  dimgray: 0x696969,\n  dimgrey: 0x696969,\n  dodgerblue: 0x1e90ff,\n  firebrick: 0xb22222,\n  floralwhite: 0xfffaf0,\n  forestgreen: 0x228b22,\n  fuchsia: 0xff00ff,\n  gainsboro: 0xdcdcdc,\n  ghostwhite: 0xf8f8ff,\n  gold: 0xffd700,\n  goldenrod: 0xdaa520,\n  gray: 0x808080,\n  green: 0x008000,\n  greenyellow: 0xadff2f,\n  grey: 0x808080,\n  honeydew: 0xf0fff0,\n  hotpink: 0xff69b4,\n  indianred: 0xcd5c5c,\n  indigo: 0x4b0082,\n  ivory: 0xfffff0,\n  khaki: 0xf0e68c,\n  lavender: 0xe6e6fa,\n  lavenderblush: 0xfff0f5,\n  lawngreen: 0x7cfc00,\n  lemonchiffon: 0xfffacd,\n  lightblue: 0xadd8e6,\n  lightcoral: 0xf08080,\n  lightcyan: 0xe0ffff,\n  lightgoldenrodyellow: 0xfafad2,\n  lightgray: 0xd3d3d3,\n  lightgreen: 0x90ee90,\n  lightgrey: 0xd3d3d3,\n  lightpink: 0xffb6c1,\n  lightsalmon: 0xffa07a,\n  lightseagreen: 0x20b2aa,\n  lightskyblue: 0x87cefa,\n  lightslategray: 0x778899,\n  lightslategrey: 0x778899,\n  lightsteelblue: 0xb0c4de,\n  lightyellow: 0xffffe0,\n  lime: 0x00ff00,\n  limegreen: 0x32cd32,\n  linen: 0xfaf0e6,\n  magenta: 0xff00ff,\n  maroon: 0x800000,\n  mediumaquamarine: 0x66cdaa,\n  mediumblue: 0x0000cd,\n  mediumorchid: 0xba55d3,\n  mediumpurple: 0x9370db,\n  mediumseagreen: 0x3cb371,\n  mediumslateblue: 0x7b68ee,\n  mediumspringgreen: 0x00fa9a,\n  mediumturquoise: 0x48d1cc,\n  mediumvioletred: 0xc71585,\n  midnightblue: 0x191970,\n  mintcream: 0xf5fffa,\n  mistyrose: 0xffe4e1,\n  moccasin: 0xffe4b5,\n  navajowhite: 0xffdead,\n  navy: 0x000080,\n  oldlace: 0xfdf5e6,\n  olive: 0x808000,\n  olivedrab: 0x6b8e23,\n  orange: 0xffa500,\n  orangered: 0xff4500,\n  orchid: 0xda70d6,\n  palegoldenrod: 0xeee8aa,\n  palegreen: 0x98fb98,\n  paleturquoise: 0xafeeee,\n  palevioletred: 0xdb7093,\n  papayawhip: 0xffefd5,\n  peachpuff: 0xffdab9,\n  peru: 0xcd853f,\n  pink: 0xffc0cb,\n  plum: 0xdda0dd,\n  powderblue: 0xb0e0e6,\n  purple: 0x800080,\n  rebeccapurple: 0x663399,\n  red: 0xff0000,\n  rosybrown: 0xbc8f8f,\n  royalblue: 0x4169e1,\n  saddlebrown: 0x8b4513,\n  salmon: 0xfa8072,\n  sandybrown: 0xf4a460,\n  seagreen: 0x2e8b57,\n  seashell: 0xfff5ee,\n  sienna: 0xa0522d,\n  silver: 0xc0c0c0,\n  skyblue: 0x87ceeb,\n  slateblue: 0x6a5acd,\n  slategray: 0x708090,\n  slategrey: 0x708090,\n  snow: 0xfffafa,\n  springgreen: 0x00ff7f,\n  steelblue: 0x4682b4,\n  tan: 0xd2b48c,\n  teal: 0x008080,\n  thistle: 0xd8bfd8,\n  tomato: 0xff6347,\n  turquoise: 0x40e0d0,\n  violet: 0xee82ee,\n  wheat: 0xf5deb3,\n  white: 0xffffff,\n  whitesmoke: 0xf5f5f5,\n  yellow: 0xffff00,\n  yellowgreen: 0x9acd32\n};\n\ndefine(Color, color, {\n  copy: function(channels) {\n    return Object.assign(new this.constructor, this, channels);\n  },\n  displayable: function() {\n    return this.rgb().displayable();\n  },\n  hex: color_formatHex, // Deprecated! Use color.formatHex.\n  formatHex: color_formatHex,\n  formatHsl: color_formatHsl,\n  formatRgb: color_formatRgb,\n  toString: color_formatRgb\n});\n\nfunction color_formatHex() {\n  return this.rgb().formatHex();\n}\n\nfunction color_formatHsl() {\n  return hslConvert(this).formatHsl();\n}\n\nfunction color_formatRgb() {\n  return this.rgb().formatRgb();\n}\n\nexport default function color(format) {\n  var m, l;\n  format = (format + \"\").trim().toLowerCase();\n  return (m = reHex.exec(format)) ? (l = m[1].length, m = parseInt(m[1], 16), l === 6 ? rgbn(m) // #ff0000\n      : l === 3 ? new Rgb((m >> 8 & 0xf) | (m >> 4 & 0xf0), (m >> 4 & 0xf) | (m & 0xf0), ((m & 0xf) << 4) | (m & 0xf), 1) // #f00\n      : l === 8 ? new Rgb(m >> 24 & 0xff, m >> 16 & 0xff, m >> 8 & 0xff, (m & 0xff) / 0xff) // #ff000000\n      : l === 4 ? new Rgb((m >> 12 & 0xf) | (m >> 8 & 0xf0), (m >> 8 & 0xf) | (m >> 4 & 0xf0), (m >> 4 & 0xf) | (m & 0xf0), (((m & 0xf) << 4) | (m & 0xf)) / 0xff) // #f000\n      : null) // invalid hex\n      : (m = reRgbInteger.exec(format)) ? new Rgb(m[1], m[2], m[3], 1) // rgb(255, 0, 0)\n      : (m = reRgbPercent.exec(format)) ? new Rgb(m[1] * 255 / 100, m[2] * 255 / 100, m[3] * 255 / 100, 1) // rgb(100%, 0%, 0%)\n      : (m = reRgbaInteger.exec(format)) ? rgba(m[1], m[2], m[3], m[4]) // rgba(255, 0, 0, 1)\n      : (m = reRgbaPercent.exec(format)) ? rgba(m[1] * 255 / 100, m[2] * 255 / 100, m[3] * 255 / 100, m[4]) // rgb(100%, 0%, 0%, 1)\n      : (m = reHslPercent.exec(format)) ? hsla(m[1], m[2] / 100, m[3] / 100, 1) // hsl(120, 50%, 50%)\n      : (m = reHslaPercent.exec(format)) ? hsla(m[1], m[2] / 100, m[3] / 100, m[4]) // hsla(120, 50%, 50%, 1)\n      : named.hasOwnProperty(format) ? rgbn(named[format]) // eslint-disable-line no-prototype-builtins\n      : format === \"transparent\" ? new Rgb(NaN, NaN, NaN, 0)\n      : null;\n}\n\nfunction rgbn(n) {\n  return new Rgb(n >> 16 & 0xff, n >> 8 & 0xff, n & 0xff, 1);\n}\n\nfunction rgba(r, g, b, a) {\n  if (a <= 0) r = g = b = NaN;\n  return new Rgb(r, g, b, a);\n}\n\nexport function rgbConvert(o) {\n  if (!(o instanceof Color)) o = color(o);\n  if (!o) return new Rgb;\n  o = o.rgb();\n  return new Rgb(o.r, o.g, o.b, o.opacity);\n}\n\nexport function rgb(r, g, b, opacity) {\n  return arguments.length === 1 ? rgbConvert(r) : new Rgb(r, g, b, opacity == null ? 1 : opacity);\n}\n\nexport function Rgb(r, g, b, opacity) {\n  this.r = +r;\n  this.g = +g;\n  this.b = +b;\n  this.opacity = +opacity;\n}\n\ndefine(Rgb, rgb, extend(Color, {\n  brighter: function(k) {\n    k = k == null ? brighter : Math.pow(brighter, k);\n    return new Rgb(this.r * k, this.g * k, this.b * k, this.opacity);\n  },\n  darker: function(k) {\n    k = k == null ? darker : Math.pow(darker, k);\n    return new Rgb(this.r * k, this.g * k, this.b * k, this.opacity);\n  },\n  rgb: function() {\n    return this;\n  },\n  displayable: function() {\n    return (-0.5 <= this.r && this.r < 255.5)\n        && (-0.5 <= this.g && this.g < 255.5)\n        && (-0.5 <= this.b && this.b < 255.5)\n        && (0 <= this.opacity && this.opacity <= 1);\n  },\n  hex: rgb_formatHex, // Deprecated! Use color.formatHex.\n  formatHex: rgb_formatHex,\n  formatRgb: rgb_formatRgb,\n  toString: rgb_formatRgb\n}));\n\nfunction rgb_formatHex() {\n  return \"#\" + hex(this.r) + hex(this.g) + hex(this.b);\n}\n\nfunction rgb_formatRgb() {\n  var a = this.opacity; a = isNaN(a) ? 1 : Math.max(0, Math.min(1, a));\n  return (a === 1 ? \"rgb(\" : \"rgba(\")\n      + Math.max(0, Math.min(255, Math.round(this.r) || 0)) + \", \"\n      + Math.max(0, Math.min(255, Math.round(this.g) || 0)) + \", \"\n      + Math.max(0, Math.min(255, Math.round(this.b) || 0))\n      + (a === 1 ? \")\" : \", \" + a + \")\");\n}\n\nfunction hex(value) {\n  value = Math.max(0, Math.min(255, Math.round(value) || 0));\n  return (value < 16 ? \"0\" : \"\") + value.toString(16);\n}\n\nfunction hsla(h, s, l, a) {\n  if (a <= 0) h = s = l = NaN;\n  else if (l <= 0 || l >= 1) h = s = NaN;\n  else if (s <= 0) h = NaN;\n  return new Hsl(h, s, l, a);\n}\n\nexport function hslConvert(o) {\n  if (o instanceof Hsl) return new Hsl(o.h, o.s, o.l, o.opacity);\n  if (!(o instanceof Color)) o = color(o);\n  if (!o) return new Hsl;\n  if (o instanceof Hsl) return o;\n  o = o.rgb();\n  var r = o.r / 255,\n      g = o.g / 255,\n      b = o.b / 255,\n      min = Math.min(r, g, b),\n      max = Math.max(r, g, b),\n      h = NaN,\n      s = max - min,\n      l = (max + min) / 2;\n  if (s) {\n    if (r === max) h = (g - b) / s + (g < b) * 6;\n    else if (g === max) h = (b - r) / s + 2;\n    else h = (r - g) / s + 4;\n    s /= l < 0.5 ? max + min : 2 - max - min;\n    h *= 60;\n  } else {\n    s = l > 0 && l < 1 ? 0 : h;\n  }\n  return new Hsl(h, s, l, o.opacity);\n}\n\nexport function hsl(h, s, l, opacity) {\n  return arguments.length === 1 ? hslConvert(h) : new Hsl(h, s, l, opacity == null ? 1 : opacity);\n}\n\nfunction Hsl(h, s, l, opacity) {\n  this.h = +h;\n  this.s = +s;\n  this.l = +l;\n  this.opacity = +opacity;\n}\n\ndefine(Hsl, hsl, extend(Color, {\n  brighter: function(k) {\n    k = k == null ? brighter : Math.pow(brighter, k);\n    return new Hsl(this.h, this.s, this.l * k, this.opacity);\n  },\n  darker: function(k) {\n    k = k == null ? darker : Math.pow(darker, k);\n    return new Hsl(this.h, this.s, this.l * k, this.opacity);\n  },\n  rgb: function() {\n    var h = this.h % 360 + (this.h < 0) * 360,\n        s = isNaN(h) || isNaN(this.s) ? 0 : this.s,\n        l = this.l,\n        m2 = l + (l < 0.5 ? l : 1 - l) * s,\n        m1 = 2 * l - m2;\n    return new Rgb(\n      hsl2rgb(h >= 240 ? h - 240 : h + 120, m1, m2),\n      hsl2rgb(h, m1, m2),\n      hsl2rgb(h < 120 ? h + 240 : h - 120, m1, m2),\n      this.opacity\n    );\n  },\n  displayable: function() {\n    return (0 <= this.s && this.s <= 1 || isNaN(this.s))\n        && (0 <= this.l && this.l <= 1)\n        && (0 <= this.opacity && this.opacity <= 1);\n  },\n  formatHsl: function() {\n    var a = this.opacity; a = isNaN(a) ? 1 : Math.max(0, Math.min(1, a));\n    return (a === 1 ? \"hsl(\" : \"hsla(\")\n        + (this.h || 0) + \", \"\n        + (this.s || 0) * 100 + \"%, \"\n        + (this.l || 0) * 100 + \"%\"\n        + (a === 1 ? \")\" : \", \" + a + \")\");\n  }\n}));\n\n/* From FvD 13.37, CSS Color Module Level 3 */\nfunction hsl2rgb(h, m1, m2) {\n  return (h < 60 ? m1 + (m2 - m1) * h / 60\n      : h < 180 ? m2\n      : h < 240 ? m1 + (m2 - m1) * (240 - h) / 60\n      : m1) * 255;\n}\n","export default function(x) {\n  return function() {\n    return x;\n  };\n}\n","import constant from \"./constant\";\n\nfunction linear(a, d) {\n  return function(t) {\n    return a + t * d;\n  };\n}\n\nfunction exponential(a, b, y) {\n  return a = Math.pow(a, y), b = Math.pow(b, y) - a, y = 1 / y, function(t) {\n    return Math.pow(a + t * b, y);\n  };\n}\n\nexport function hue(a, b) {\n  var d = b - a;\n  return d ? linear(a, d > 180 || d < -180 ? d - 360 * Math.round(d / 360) : d) : constant(isNaN(a) ? b : a);\n}\n\nexport function gamma(y) {\n  return (y = +y) === 1 ? nogamma : function(a, b) {\n    return b - a ? exponential(a, b, y) : constant(isNaN(a) ? b : a);\n  };\n}\n\nexport default function nogamma(a, b) {\n  var d = b - a;\n  return d ? linear(a, d) : constant(isNaN(a) ? b : a);\n}\n","import {rgb as colorRgb} from \"d3-color\";\nimport basis from \"./basis\";\nimport basisClosed from \"./basisClosed\";\nimport nogamma, {gamma} from \"./color\";\n\nexport default (function rgbGamma(y) {\n  var color = gamma(y);\n\n  function rgb(start, end) {\n    var r = color((start = colorRgb(start)).r, (end = colorRgb(end)).r),\n        g = color(start.g, end.g),\n        b = color(start.b, end.b),\n        opacity = nogamma(start.opacity, end.opacity);\n    return function(t) {\n      start.r = r(t);\n      start.g = g(t);\n      start.b = b(t);\n      start.opacity = opacity(t);\n      return start + \"\";\n    };\n  }\n\n  rgb.gamma = rgbGamma;\n\n  return rgb;\n})(1);\n\nfunction rgbSpline(spline) {\n  return function(colors) {\n    var n = colors.length,\n        r = new Array(n),\n        g = new Array(n),\n        b = new Array(n),\n        i, color;\n    for (i = 0; i < n; ++i) {\n      color = colorRgb(colors[i]);\n      r[i] = color.r || 0;\n      g[i] = color.g || 0;\n      b[i] = color.b || 0;\n    }\n    r = spline(r);\n    g = spline(g);\n    b = spline(b);\n    color.opacity = 1;\n    return function(t) {\n      color.r = r(t);\n      color.g = g(t);\n      color.b = b(t);\n      return color + \"\";\n    };\n  };\n}\n\nexport var rgbBasis = rgbSpline(basis);\nexport var rgbBasisClosed = rgbSpline(basisClosed);\n","export function basis(t1, v0, v1, v2, v3) {\n  var t2 = t1 * t1, t3 = t2 * t1;\n  return ((1 - 3 * t1 + 3 * t2 - t3) * v0\n      + (4 - 6 * t2 + 3 * t3) * v1\n      + (1 + 3 * t1 + 3 * t2 - 3 * t3) * v2\n      + t3 * v3) / 6;\n}\n\nexport default function(values) {\n  var n = values.length - 1;\n  return function(t) {\n    var i = t <= 0 ? (t = 0) : t >= 1 ? (t = 1, n - 1) : Math.floor(t * n),\n        v1 = values[i],\n        v2 = values[i + 1],\n        v0 = i > 0 ? values[i - 1] : 2 * v1 - v2,\n        v3 = i < n - 1 ? values[i + 2] : 2 * v2 - v1;\n    return basis((t - i / n) * n, v0, v1, v2, v3);\n  };\n}\n","export default function(a, b) {\n  return a = +a, b -= a, function(t) {\n    return a + b * t;\n  };\n}\n","import number from \"./number\";\n\nvar reA = /[-+]?(?:\\d+\\.?\\d*|\\.?\\d+)(?:[eE][-+]?\\d+)?/g,\n    reB = new RegExp(reA.source, \"g\");\n\nfunction zero(b) {\n  return function() {\n    return b;\n  };\n}\n\nfunction one(b) {\n  return function(t) {\n    return b(t) + \"\";\n  };\n}\n\nexport default function(a, b) {\n  var bi = reA.lastIndex = reB.lastIndex = 0, // scan index for next number in b\n      am, // current match in a\n      bm, // current match in b\n      bs, // string preceding current number in b, if any\n      i = -1, // index in s\n      s = [], // string constants and placeholders\n      q = []; // number interpolators\n\n  // Coerce inputs to strings.\n  a = a + \"\", b = b + \"\";\n\n  // Interpolate pairs of numbers in a & b.\n  while ((am = reA.exec(a))\n      && (bm = reB.exec(b))) {\n    if ((bs = bm.index) > bi) { // a string precedes the next number in b\n      bs = b.slice(bi, bs);\n      if (s[i]) s[i] += bs; // coalesce with previous string\n      else s[++i] = bs;\n    }\n    if ((am = am[0]) === (bm = bm[0])) { // numbers in a & b match\n      if (s[i]) s[i] += bm; // coalesce with previous string\n      else s[++i] = bm;\n    } else { // interpolate non-matching numbers\n      s[++i] = null;\n      q.push({i: i, x: number(am, bm)});\n    }\n    bi = reB.lastIndex;\n  }\n\n  // Add remains of b.\n  if (bi < b.length) {\n    bs = b.slice(bi);\n    if (s[i]) s[i] += bs; // coalesce with previous string\n    else s[++i] = bs;\n  }\n\n  // Special optimization for only a single match.\n  // Otherwise, interpolate each of the numbers and rejoin the string.\n  return s.length < 2 ? (q[0]\n      ? one(q[0].x)\n      : zero(b))\n      : (b = q.length, function(t) {\n          for (var i = 0, o; i < b; ++i) s[(o = q[i]).i] = o.x(t);\n          return s.join(\"\");\n        });\n}\n","var degrees = 180 / Math.PI;\n\nexport var identity = {\n  translateX: 0,\n  translateY: 0,\n  rotate: 0,\n  skewX: 0,\n  scaleX: 1,\n  scaleY: 1\n};\n\nexport default function(a, b, c, d, e, f) {\n  var scaleX, scaleY, skewX;\n  if (scaleX = Math.sqrt(a * a + b * b)) a /= scaleX, b /= scaleX;\n  if (skewX = a * c + b * d) c -= a * skewX, d -= b * skewX;\n  if (scaleY = Math.sqrt(c * c + d * d)) c /= scaleY, d /= scaleY, skewX /= scaleY;\n  if (a * d < b * c) a = -a, b = -b, skewX = -skewX, scaleX = -scaleX;\n  return {\n    translateX: e,\n    translateY: f,\n    rotate: Math.atan2(b, a) * degrees,\n    skewX: Math.atan(skewX) * degrees,\n    scaleX: scaleX,\n    scaleY: scaleY\n  };\n}\n","import decompose, {identity} from \"./decompose\";\n\nvar cssNode,\n    cssRoot,\n    cssView,\n    svgNode;\n\nexport function parseCss(value) {\n  if (value === \"none\") return identity;\n  if (!cssNode) cssNode = document.createElement(\"DIV\"), cssRoot = document.documentElement, cssView = document.defaultView;\n  cssNode.style.transform = value;\n  value = cssView.getComputedStyle(cssRoot.appendChild(cssNode), null).getPropertyValue(\"transform\");\n  cssRoot.removeChild(cssNode);\n  value = value.slice(7, -1).split(\",\");\n  return decompose(+value[0], +value[1], +value[2], +value[3], +value[4], +value[5]);\n}\n\nexport function parseSvg(value) {\n  if (value == null) return identity;\n  if (!svgNode) svgNode = document.createElementNS(\"http://www.w3.org/2000/svg\", \"g\");\n  svgNode.setAttribute(\"transform\", value);\n  if (!(value = svgNode.transform.baseVal.consolidate())) return identity;\n  value = value.matrix;\n  return decompose(value.a, value.b, value.c, value.d, value.e, value.f);\n}\n","import number from \"../number\";\nimport {parseCss, parseSvg} from \"./parse\";\n\nfunction interpolateTransform(parse, pxComma, pxParen, degParen) {\n\n  function pop(s) {\n    return s.length ? s.pop() + \" \" : \"\";\n  }\n\n  function translate(xa, ya, xb, yb, s, q) {\n    if (xa !== xb || ya !== yb) {\n      var i = s.push(\"translate(\", null, pxComma, null, pxParen);\n      q.push({i: i - 4, x: number(xa, xb)}, {i: i - 2, x: number(ya, yb)});\n    } else if (xb || yb) {\n      s.push(\"translate(\" + xb + pxComma + yb + pxParen);\n    }\n  }\n\n  function rotate(a, b, s, q) {\n    if (a !== b) {\n      if (a - b > 180) b += 360; else if (b - a > 180) a += 360; // shortest path\n      q.push({i: s.push(pop(s) + \"rotate(\", null, degParen) - 2, x: number(a, b)});\n    } else if (b) {\n      s.push(pop(s) + \"rotate(\" + b + degParen);\n    }\n  }\n\n  function skewX(a, b, s, q) {\n    if (a !== b) {\n      q.push({i: s.push(pop(s) + \"skewX(\", null, degParen) - 2, x: number(a, b)});\n    } else if (b) {\n      s.push(pop(s) + \"skewX(\" + b + degParen);\n    }\n  }\n\n  function scale(xa, ya, xb, yb, s, q) {\n    if (xa !== xb || ya !== yb) {\n      var i = s.push(pop(s) + \"scale(\", null, \",\", null, \")\");\n      q.push({i: i - 4, x: number(xa, xb)}, {i: i - 2, x: number(ya, yb)});\n    } else if (xb !== 1 || yb !== 1) {\n      s.push(pop(s) + \"scale(\" + xb + \",\" + yb + \")\");\n    }\n  }\n\n  return function(a, b) {\n    var s = [], // string constants and placeholders\n        q = []; // number interpolators\n    a = parse(a), b = parse(b);\n    translate(a.translateX, a.translateY, b.translateX, b.translateY, s, q);\n    rotate(a.rotate, b.rotate, s, q);\n    skewX(a.skewX, b.skewX, s, q);\n    scale(a.scaleX, a.scaleY, b.scaleX, b.scaleY, s, q);\n    a = b = null; // gc\n    return function(t) {\n      var i = -1, n = q.length, o;\n      while (++i < n) s[(o = q[i]).i] = o.x(t);\n      return s.join(\"\");\n    };\n  };\n}\n\nexport var interpolateTransformCss = interpolateTransform(parseCss, \"px, \", \"px)\", \"deg)\");\nexport var interpolateTransformSvg = interpolateTransform(parseSvg, \", \", \")\", \")\");\n","import {get, set} from \"./schedule\";\n\nfunction tweenRemove(id, name) {\n  var tween0, tween1;\n  return function() {\n    var schedule = set(this, id),\n        tween = schedule.tween;\n\n    // If this node shared tween with the previous node,\n    // just assign the updated shared tween and were done!\n    // Otherwise, copy-on-write.\n    if (tween !== tween0) {\n      tween1 = tween0 = tween;\n      for (var i = 0, n = tween1.length; i < n; ++i) {\n        if (tween1[i].name === name) {\n          tween1 = tween1.slice();\n          tween1.splice(i, 1);\n          break;\n        }\n      }\n    }\n\n    schedule.tween = tween1;\n  };\n}\n\nfunction tweenFunction(id, name, value) {\n  var tween0, tween1;\n  if (typeof value !== \"function\") throw new Error;\n  return function() {\n    var schedule = set(this, id),\n        tween = schedule.tween;\n\n    // If this node shared tween with the previous node,\n    // just assign the updated shared tween and were done!\n    // Otherwise, copy-on-write.\n    if (tween !== tween0) {\n      tween1 = (tween0 = tween).slice();\n      for (var t = {name: name, value: value}, i = 0, n = tween1.length; i < n; ++i) {\n        if (tween1[i].name === name) {\n          tween1[i] = t;\n          break;\n        }\n      }\n      if (i === n) tween1.push(t);\n    }\n\n    schedule.tween = tween1;\n  };\n}\n\nexport default function(name, value) {\n  var id = this._id;\n\n  name += \"\";\n\n  if (arguments.length < 2) {\n    var tween = get(this.node(), id).tween;\n    for (var i = 0, n = tween.length, t; i < n; ++i) {\n      if ((t = tween[i]).name === name) {\n        return t.value;\n      }\n    }\n    return null;\n  }\n\n  return this.each((value == null ? tweenRemove : tweenFunction)(id, name, value));\n}\n\nexport function tweenValue(transition, name, value) {\n  var id = transition._id;\n\n  transition.each(function() {\n    var schedule = set(this, id);\n    (schedule.value || (schedule.value = {}))[name] = value.apply(this, arguments);\n  });\n\n  return function(node) {\n    return get(node, id).value[name];\n  };\n}\n","import {color} from \"d3-color\";\nimport {interpolateNumber, interpolateRgb, interpolateString} from \"d3-interpolate\";\n\nexport default function(a, b) {\n  var c;\n  return (typeof b === \"number\" ? interpolateNumber\n      : b instanceof color ? interpolateRgb\n      : (c = color(b)) ? (b = c, interpolateRgb)\n      : interpolateString)(a, b);\n}\n","import {interpolateTransformSvg as interpolateTransform} from \"d3-interpolate\";\nimport {namespace} from \"d3-selection\";\nimport {tweenValue} from \"./tween\";\nimport interpolate from \"./interpolate\";\n\nfunction attrRemove(name) {\n  return function() {\n    this.removeAttribute(name);\n  };\n}\n\nfunction attrRemoveNS(fullname) {\n  return function() {\n    this.removeAttributeNS(fullname.space, fullname.local);\n  };\n}\n\nfunction attrConstant(name, interpolate, value1) {\n  var string00,\n      string1 = value1 + \"\",\n      interpolate0;\n  return function() {\n    var string0 = this.getAttribute(name);\n    return string0 === string1 ? null\n        : string0 === string00 ? interpolate0\n        : interpolate0 = interpolate(string00 = string0, value1);\n  };\n}\n\nfunction attrConstantNS(fullname, interpolate, value1) {\n  var string00,\n      string1 = value1 + \"\",\n      interpolate0;\n  return function() {\n    var string0 = this.getAttributeNS(fullname.space, fullname.local);\n    return string0 === string1 ? null\n        : string0 === string00 ? interpolate0\n        : interpolate0 = interpolate(string00 = string0, value1);\n  };\n}\n\nfunction attrFunction(name, interpolate, value) {\n  var string00,\n      string10,\n      interpolate0;\n  return function() {\n    var string0, value1 = value(this), string1;\n    if (value1 == null) return void this.removeAttribute(name);\n    string0 = this.getAttribute(name);\n    string1 = value1 + \"\";\n    return string0 === string1 ? null\n        : string0 === string00 && string1 === string10 ? interpolate0\n        : (string10 = string1, interpolate0 = interpolate(string00 = string0, value1));\n  };\n}\n\nfunction attrFunctionNS(fullname, interpolate, value) {\n  var string00,\n      string10,\n      interpolate0;\n  return function() {\n    var string0, value1 = value(this), string1;\n    if (value1 == null) return void this.removeAttributeNS(fullname.space, fullname.local);\n    string0 = this.getAttributeNS(fullname.space, fullname.local);\n    string1 = value1 + \"\";\n    return string0 === string1 ? null\n        : string0 === string00 && string1 === string10 ? interpolate0\n        : (string10 = string1, interpolate0 = interpolate(string00 = string0, value1));\n  };\n}\n\nexport default function(name, value) {\n  var fullname = namespace(name), i = fullname === \"transform\" ? interpolateTransform : interpolate;\n  return this.attrTween(name, typeof value === \"function\"\n      ? (fullname.local ? attrFunctionNS : attrFunction)(fullname, i, tweenValue(this, \"attr.\" + name, value))\n      : value == null ? (fullname.local ? attrRemoveNS : attrRemove)(fullname)\n      : (fullname.local ? attrConstantNS : attrConstant)(fullname, i, value));\n}\n","import {namespace} from \"d3-selection\";\n\nfunction attrInterpolate(name, i) {\n  return function(t) {\n    this.setAttribute(name, i(t));\n  };\n}\n\nfunction attrInterpolateNS(fullname, i) {\n  return function(t) {\n    this.setAttributeNS(fullname.space, fullname.local, i(t));\n  };\n}\n\nfunction attrTweenNS(fullname, value) {\n  var t0, i0;\n  function tween() {\n    var i = value.apply(this, arguments);\n    if (i !== i0) t0 = (i0 = i) && attrInterpolateNS(fullname, i);\n    return t0;\n  }\n  tween._value = value;\n  return tween;\n}\n\nfunction attrTween(name, value) {\n  var t0, i0;\n  function tween() {\n    var i = value.apply(this, arguments);\n    if (i !== i0) t0 = (i0 = i) && attrInterpolate(name, i);\n    return t0;\n  }\n  tween._value = value;\n  return tween;\n}\n\nexport default function(name, value) {\n  var key = \"attr.\" + name;\n  if (arguments.length < 2) return (key = this.tween(key)) && key._value;\n  if (value == null) return this.tween(key, null);\n  if (typeof value !== \"function\") throw new Error;\n  var fullname = namespace(name);\n  return this.tween(key, (fullname.local ? attrTweenNS : attrTween)(fullname, value));\n}\n","import {get, init} from \"./schedule\";\n\nfunction delayFunction(id, value) {\n  return function() {\n    init(this, id).delay = +value.apply(this, arguments);\n  };\n}\n\nfunction delayConstant(id, value) {\n  return value = +value, function() {\n    init(this, id).delay = value;\n  };\n}\n\nexport default function(value) {\n  var id = this._id;\n\n  return arguments.length\n      ? this.each((typeof value === \"function\"\n          ? delayFunction\n          : delayConstant)(id, value))\n      : get(this.node(), id).delay;\n}\n","import {get, set} from \"./schedule\";\n\nfunction durationFunction(id, value) {\n  return function() {\n    set(this, id).duration = +value.apply(this, arguments);\n  };\n}\n\nfunction durationConstant(id, value) {\n  return value = +value, function() {\n    set(this, id).duration = value;\n  };\n}\n\nexport default function(value) {\n  var id = this._id;\n\n  return arguments.length\n      ? this.each((typeof value === \"function\"\n          ? durationFunction\n          : durationConstant)(id, value))\n      : get(this.node(), id).duration;\n}\n","import {get, set} from \"./schedule\";\n\nfunction easeConstant(id, value) {\n  if (typeof value !== \"function\") throw new Error;\n  return function() {\n    set(this, id).ease = value;\n  };\n}\n\nexport default function(value) {\n  var id = this._id;\n\n  return arguments.length\n      ? this.each(easeConstant(id, value))\n      : get(this.node(), id).ease;\n}\n","import {get, set, init} from \"./schedule\";\n\nfunction start(name) {\n  return (name + \"\").trim().split(/^|\\s+/).every(function(t) {\n    var i = t.indexOf(\".\");\n    if (i >= 0) t = t.slice(0, i);\n    return !t || t === \"start\";\n  });\n}\n\nfunction onFunction(id, name, listener) {\n  var on0, on1, sit = start(name) ? init : set;\n  return function() {\n    var schedule = sit(this, id),\n        on = schedule.on;\n\n    // If this node shared a dispatch with the previous node,\n    // just assign the updated shared dispatch and were done!\n    // Otherwise, copy-on-write.\n    if (on !== on0) (on1 = (on0 = on).copy()).on(name, listener);\n\n    schedule.on = on1;\n  };\n}\n\nexport default function(name, listener) {\n  var id = this._id;\n\n  return arguments.length < 2\n      ? get(this.node(), id).on.on(name)\n      : this.each(onFunction(id, name, listener));\n}\n","import {selection} from \"d3-selection\";\n\nvar Selection = selection.prototype.constructor;\n\nexport default function() {\n  return new Selection(this._groups, this._parents);\n}\n","import {interpolateTransformCss as interpolateTransform} from \"d3-interpolate\";\nimport {style} from \"d3-selection\";\nimport {set} from \"./schedule\";\nimport {tweenValue} from \"./tween\";\nimport interpolate from \"./interpolate\";\n\nfunction styleNull(name, interpolate) {\n  var string00,\n      string10,\n      interpolate0;\n  return function() {\n    var string0 = style(this, name),\n        string1 = (this.style.removeProperty(name), style(this, name));\n    return string0 === string1 ? null\n        : string0 === string00 && string1 === string10 ? interpolate0\n        : interpolate0 = interpolate(string00 = string0, string10 = string1);\n  };\n}\n\nfunction styleRemove(name) {\n  return function() {\n    this.style.removeProperty(name);\n  };\n}\n\nfunction styleConstant(name, interpolate, value1) {\n  var string00,\n      string1 = value1 + \"\",\n      interpolate0;\n  return function() {\n    var string0 = style(this, name);\n    return string0 === string1 ? null\n        : string0 === string00 ? interpolate0\n        : interpolate0 = interpolate(string00 = string0, value1);\n  };\n}\n\nfunction styleFunction(name, interpolate, value) {\n  var string00,\n      string10,\n      interpolate0;\n  return function() {\n    var string0 = style(this, name),\n        value1 = value(this),\n        string1 = value1 + \"\";\n    if (value1 == null) string1 = value1 = (this.style.removeProperty(name), style(this, name));\n    return string0 === string1 ? null\n        : string0 === string00 && string1 === string10 ? interpolate0\n        : (string10 = string1, interpolate0 = interpolate(string00 = string0, value1));\n  };\n}\n\nfunction styleMaybeRemove(id, name) {\n  var on0, on1, listener0, key = \"style.\" + name, event = \"end.\" + key, remove;\n  return function() {\n    var schedule = set(this, id),\n        on = schedule.on,\n        listener = schedule.value[key] == null ? remove || (remove = styleRemove(name)) : undefined;\n\n    // If this node shared a dispatch with the previous node,\n    // just assign the updated shared dispatch and were done!\n    // Otherwise, copy-on-write.\n    if (on !== on0 || listener0 !== listener) (on1 = (on0 = on).copy()).on(event, listener0 = listener);\n\n    schedule.on = on1;\n  };\n}\n\nexport default function(name, value, priority) {\n  var i = (name += \"\") === \"transform\" ? interpolateTransform : interpolate;\n  return value == null ? this\n      .styleTween(name, styleNull(name, i))\n      .on(\"end.style.\" + name, styleRemove(name))\n    : typeof value === \"function\" ? this\n      .styleTween(name, styleFunction(name, i, tweenValue(this, \"style.\" + name, value)))\n      .each(styleMaybeRemove(this._id, name))\n    : this\n      .styleTween(name, styleConstant(name, i, value), priority)\n      .on(\"end.style.\" + name, null);\n}\n","function styleInterpolate(name, i, priority) {\n  return function(t) {\n    this.style.setProperty(name, i(t), priority);\n  };\n}\n\nfunction styleTween(name, value, priority) {\n  var t, i0;\n  function tween() {\n    var i = value.apply(this, arguments);\n    if (i !== i0) t = (i0 = i) && styleInterpolate(name, i, priority);\n    return t;\n  }\n  tween._value = value;\n  return tween;\n}\n\nexport default function(name, value, priority) {\n  var key = \"style.\" + (name += \"\");\n  if (arguments.length < 2) return (key = this.tween(key)) && key._value;\n  if (value == null) return this.tween(key, null);\n  if (typeof value !== \"function\") throw new Error;\n  return this.tween(key, styleTween(name, value, priority == null ? \"\" : priority));\n}\n","import {selection} from \"d3-selection\";\nimport transition_attr from \"./attr\";\nimport transition_attrTween from \"./attrTween\";\nimport transition_delay from \"./delay\";\nimport transition_duration from \"./duration\";\nimport transition_ease from \"./ease\";\nimport transition_filter from \"./filter\";\nimport transition_merge from \"./merge\";\nimport transition_on from \"./on\";\nimport transition_remove from \"./remove\";\nimport transition_select from \"./select\";\nimport transition_selectAll from \"./selectAll\";\nimport transition_selection from \"./selection\";\nimport transition_style from \"./style\";\nimport transition_styleTween from \"./styleTween\";\nimport transition_text from \"./text\";\nimport transition_transition from \"./transition\";\nimport transition_tween from \"./tween\";\nimport transition_end from \"./end\";\n\nvar id = 0;\n\nexport function Transition(groups, parents, name, id) {\n  this._groups = groups;\n  this._parents = parents;\n  this._name = name;\n  this._id = id;\n}\n\nexport default function transition(name) {\n  return selection().transition(name);\n}\n\nexport function newId() {\n  return ++id;\n}\n\nvar selection_prototype = selection.prototype;\n\nTransition.prototype = transition.prototype = {\n  constructor: Transition,\n  select: transition_select,\n  selectAll: transition_selectAll,\n  filter: transition_filter,\n  merge: transition_merge,\n  selection: transition_selection,\n  transition: transition_transition,\n  call: selection_prototype.call,\n  nodes: selection_prototype.nodes,\n  node: selection_prototype.node,\n  size: selection_prototype.size,\n  empty: selection_prototype.empty,\n  each: selection_prototype.each,\n  on: transition_on,\n  attr: transition_attr,\n  attrTween: transition_attrTween,\n  style: transition_style,\n  styleTween: transition_styleTween,\n  text: transition_text,\n  remove: transition_remove,\n  tween: transition_tween,\n  delay: transition_delay,\n  duration: transition_duration,\n  ease: transition_ease,\n  end: transition_end\n};\n","import {selector} from \"d3-selection\";\nimport {Transition} from \"./index\";\nimport schedule, {get} from \"./schedule\";\n\nexport default function(select) {\n  var name = this._name,\n      id = this._id;\n\n  if (typeof select !== \"function\") select = selector(select);\n\n  for (var groups = this._groups, m = groups.length, subgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, subgroup = subgroups[j] = new Array(n), node, subnode, i = 0; i < n; ++i) {\n      if ((node = group[i]) && (subnode = select.call(node, node.__data__, i, group))) {\n        if (\"__data__\" in node) subnode.__data__ = node.__data__;\n        subgroup[i] = subnode;\n        schedule(subgroup[i], name, id, i, subgroup, get(node, id));\n      }\n    }\n  }\n\n  return new Transition(subgroups, this._parents, name, id);\n}\n","import {selectorAll} from \"d3-selection\";\nimport {Transition} from \"./index\";\nimport schedule, {get} from \"./schedule\";\n\nexport default function(select) {\n  var name = this._name,\n      id = this._id;\n\n  if (typeof select !== \"function\") select = selectorAll(select);\n\n  for (var groups = this._groups, m = groups.length, subgroups = [], parents = [], j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, node, i = 0; i < n; ++i) {\n      if (node = group[i]) {\n        for (var children = select.call(node, node.__data__, i, group), child, inherit = get(node, id), k = 0, l = children.length; k < l; ++k) {\n          if (child = children[k]) {\n            schedule(child, name, id, k, children, inherit);\n          }\n        }\n        subgroups.push(children);\n        parents.push(node);\n      }\n    }\n  }\n\n  return new Transition(subgroups, parents, name, id);\n}\n","import {matcher} from \"d3-selection\";\nimport {Transition} from \"./index\";\n\nexport default function(match) {\n  if (typeof match !== \"function\") match = matcher(match);\n\n  for (var groups = this._groups, m = groups.length, subgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, subgroup = subgroups[j] = [], node, i = 0; i < n; ++i) {\n      if ((node = group[i]) && match.call(node, node.__data__, i, group)) {\n        subgroup.push(node);\n      }\n    }\n  }\n\n  return new Transition(subgroups, this._parents, this._name, this._id);\n}\n","import {Transition} from \"./index\";\n\nexport default function(transition) {\n  if (transition._id !== this._id) throw new Error;\n\n  for (var groups0 = this._groups, groups1 = transition._groups, m0 = groups0.length, m1 = groups1.length, m = Math.min(m0, m1), merges = new Array(m0), j = 0; j < m; ++j) {\n    for (var group0 = groups0[j], group1 = groups1[j], n = group0.length, merge = merges[j] = new Array(n), node, i = 0; i < n; ++i) {\n      if (node = group0[i] || group1[i]) {\n        merge[i] = node;\n      }\n    }\n  }\n\n  for (; j < m0; ++j) {\n    merges[j] = groups0[j];\n  }\n\n  return new Transition(merges, this._parents, this._name, this._id);\n}\n","import {Transition, newId} from \"./index\";\nimport schedule, {get} from \"./schedule\";\n\nexport default function() {\n  var name = this._name,\n      id0 = this._id,\n      id1 = newId();\n\n  for (var groups = this._groups, m = groups.length, j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, node, i = 0; i < n; ++i) {\n      if (node = group[i]) {\n        var inherit = get(node, id0);\n        schedule(node, name, id1, i, group, {\n          time: inherit.time + inherit.delay + inherit.duration,\n          delay: 0,\n          duration: inherit.duration,\n          ease: inherit.ease\n        });\n      }\n    }\n  }\n\n  return new Transition(groups, this._parents, name, id1);\n}\n","import {tweenValue} from \"./tween\";\n\nfunction textConstant(value) {\n  return function() {\n    this.textContent = value;\n  };\n}\n\nfunction textFunction(value) {\n  return function() {\n    var value1 = value(this);\n    this.textContent = value1 == null ? \"\" : value1;\n  };\n}\n\nexport default function(value) {\n  return this.tween(\"text\", typeof value === \"function\"\n      ? textFunction(tweenValue(this, \"text\", value))\n      : textConstant(value == null ? \"\" : value + \"\"));\n}\n","function removeFunction(id) {\n  return function() {\n    var parent = this.parentNode;\n    for (var i in this.__transition) if (+i !== id) return;\n    if (parent) parent.removeChild(this);\n  };\n}\n\nexport default function() {\n  return this.on(\"end.remove\", removeFunction(this._id));\n}\n","import {set} from \"./schedule\";\n\nexport default function() {\n  var on0, on1, that = this, id = that._id, size = that.size();\n  return new Promise(function(resolve, reject) {\n    var cancel = {value: reject},\n        end = {value: function() { if (--size === 0) resolve(); }};\n\n    that.each(function() {\n      var schedule = set(this, id),\n          on = schedule.on;\n\n      // If this node shared a dispatch with the previous node,\n      // just assign the updated shared dispatch and were done!\n      // Otherwise, copy-on-write.\n      if (on !== on0) {\n        on1 = (on0 = on).copy();\n        on1._.cancel.push(cancel);\n        on1._.interrupt.push(cancel);\n        on1._.end.push(end);\n      }\n\n      schedule.on = on1;\n    });\n  });\n}\n","import {Transition, newId} from \"../transition/index\";\nimport schedule from \"../transition/schedule\";\nimport {easeCubicInOut} from \"d3-ease\";\nimport {now} from \"d3-timer\";\n\nvar defaultTiming = {\n  time: null, // Set on use.\n  delay: 0,\n  duration: 250,\n  ease: easeCubicInOut\n};\n\nfunction inherit(node, id) {\n  var timing;\n  while (!(timing = node.__transition) || !(timing = timing[id])) {\n    if (!(node = node.parentNode)) {\n      return defaultTiming.time = now(), defaultTiming;\n    }\n  }\n  return timing;\n}\n\nexport default function(name) {\n  var id,\n      timing;\n\n  if (name instanceof Transition) {\n    id = name._id, name = name._name;\n  } else {\n    id = newId(), (timing = defaultTiming).time = now(), name = name == null ? null : name + \"\";\n  }\n\n  for (var groups = this._groups, m = groups.length, j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, node, i = 0; i < n; ++i) {\n      if (node = group[i]) {\n        schedule(node, name, id, i, group, timing || inherit(node, id));\n      }\n    }\n  }\n\n  return new Transition(groups, this._parents, name, id);\n}\n","export function cubicIn(t) {\n  return t * t * t;\n}\n\nexport function cubicOut(t) {\n  return --t * t * t + 1;\n}\n\nexport function cubicInOut(t) {\n  return ((t *= 2) <= 1 ? t * t * t : (t -= 2) * t * t + 2) / 2;\n}\n","import {select} from \"d3-selection\";\n\nfunction attrsFunction(selection, map) {\n  return selection.each(function() {\n    var x = map.apply(this, arguments), s = select(this);\n    for (var name in x) s.attr(name, x[name]);\n  });\n}\n\nfunction attrsObject(selection, map) {\n  for (var name in map) selection.attr(name, map[name]);\n  return selection;\n}\n\nexport default function(map) {\n  return (typeof map === \"function\" ? attrsFunction : attrsObject)(this, map);\n}\n","import {select} from \"d3-selection\";\n\nfunction attrsFunction(transition, map) {\n  return transition.each(function() {\n    var x = map.apply(this, arguments), t = select(this).transition(transition);\n    for (var name in x) t.attr(name, x[name]);\n  });\n}\n\nfunction attrsObject(transition, map) {\n  for (var name in map) transition.attr(name, map[name]);\n  return transition;\n}\n\nexport default function(map) {\n  return (typeof map === \"function\" ? attrsFunction : attrsObject)(this, map);\n}\n","import {selection} from \"d3-selection\";\nimport selection_interrupt from \"./interrupt\";\nimport selection_transition from \"./transition\";\n\nselection.prototype.interrupt = selection_interrupt;\nselection.prototype.transition = selection_transition;\n","import interrupt from \"../interrupt\";\n\nexport default function(name) {\n  return this.each(function() {\n    interrupt(this, name);\n  });\n}\n","import {STARTING, ENDING, ENDED} from \"./transition/schedule\";\n\nexport default function(node, name) {\n  var schedules = node.__transition,\n      schedule,\n      active,\n      empty = true,\n      i;\n\n  if (!schedules) return;\n\n  name = name == null ? null : name + \"\";\n\n  for (i in schedules) {\n    if ((schedule = schedules[i]).name !== name) { empty = false; continue; }\n    active = schedule.state > STARTING && schedule.state < ENDING;\n    schedule.state = ENDED;\n    schedule.timer.stop();\n    schedule.on.call(active ? \"interrupt\" : \"cancel\", node, node.__data__, schedule.index, schedule.group);\n    delete schedules[i];\n  }\n\n  if (empty) delete node.__transition;\n}\n","import selection_attrs from 'd3-selection-multi/src/selection/attrs.js';\nimport transition_attrs from 'd3-selection-multi/src/transition/attrs.js';\n\n// import selection_styles from \"./src/selection/styles\";\n// import selection_properties from \"./src/selection/properties\";\n// import transition_styles from \"./src/transition/styles\";\n// selection.prototype.styles = selection_styles;\n// selection.prototype.properties = selection_properties;\n// transition.prototype.styles = transition_styles;\n\nexport const multiSelection = selection => {\n  selection.prototype.attrs = selection_attrs;\n};\n\nexport const multiTransition = transition => {\n  transition.prototype.attrs = transition_attrs;\n};\n","/**\n@license\nCopyright (c) 2017 The Polymer Project Authors. All rights reserved.\nThis code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt\nThe complete set of authors may be found at http://polymer.github.io/AUTHORS.txt\nThe complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt\nCode distributed by Google as part of the polymer project is also\nsubject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt\n*/\n\n/* eslint-disable no-unused-vars */\n/**\n * When using Closure Compiler, JSCompiler_renameProperty(property, object) is replaced by the munged name for object[property]\n * We cannot alias this function, so we have to use a small shim that has the same behavior when not compiling.\n *\n * @param {string} prop Property name\n * @param {?Object} obj Reference object\n * @return {string} Potentially renamed property name\n */\nwindow.JSCompiler_renameProperty = function(prop, obj) {\n  return prop;\n};\n/* eslint-enable */\n\nexport {};\n","/**\n@license\nCopyright (c) 2017 The Polymer Project Authors. All rights reserved.\nThis code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt\nThe complete set of authors may be found at http://polymer.github.io/AUTHORS.txt\nThe complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt\nCode distributed by Google as part of the polymer project is also\nsubject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt\n*/\nimport './boot.js';\n\n// unique global id for deduping mixins.\nlet dedupeId = 0;\n\n/**\n * @constructor\n * @extends {Function}\n * @private\n */\nfunction MixinFunction(){}\n/** @type {(WeakMap | undefined)} */\nMixinFunction.prototype.__mixinApplications;\n/** @type {(Object | undefined)} */\nMixinFunction.prototype.__mixinSet;\n\n/* eslint-disable valid-jsdoc */\n/**\n * Wraps an ES6 class expression mixin such that the mixin is only applied\n * if it has not already been applied its base argument. Also memoizes mixin\n * applications.\n *\n * @template T\n * @param {T} mixin ES6 class expression mixin to wrap\n * @return {T}\n * @suppress {invalidCasts}\n */\nexport const dedupingMixin = function(mixin) {\n  let mixinApplications = /** @type {!MixinFunction} */(mixin).__mixinApplications;\n  if (!mixinApplications) {\n    mixinApplications = new WeakMap();\n    /** @type {!MixinFunction} */(mixin).__mixinApplications = mixinApplications;\n  }\n  // maintain a unique id for each mixin\n  let mixinDedupeId = dedupeId++;\n  function dedupingMixin(base) {\n    let baseSet = /** @type {!MixinFunction} */(base).__mixinSet;\n    if (baseSet && baseSet[mixinDedupeId]) {\n      return base;\n    }\n    let map = mixinApplications;\n    let extended = map.get(base);\n    if (!extended) {\n      extended = /** @type {!Function} */(mixin)(base);\n      map.set(base, extended);\n    }\n    // copy inherited mixin set from the extended class, or the base class\n    // NOTE: we avoid use of Set here because some browser (IE11)\n    // cannot extend a base Set via the constructor.\n    let mixinSet = Object.create(/** @type {!MixinFunction} */(extended).__mixinSet || baseSet || null);\n    mixinSet[mixinDedupeId] = true;\n    /** @type {!MixinFunction} */(extended).__mixinSet = mixinSet;\n    return extended;\n  }\n\n  return dedupingMixin;\n};\n/* eslint-enable valid-jsdoc */\n","import { dedupingMixin } from '@polymer/polymer/lib/utils/mixin.js';\n\n/**\n * ##  MultiGeoDrawable\n *\n * a mixin fo multi geo drawable. It will make sure we redraw when data is set.\n *\n * @memberof MultiChart.mixin\n * @polymer\n * @mixinFunction\n */\nconst MultiGeoDrawable = dedupingMixin(superClass => {\n\n  return class extends superClass {\n\n    static get properties() {\n      return {\n\n        ...super.properties,\n\n        /*\n         * `geoData` data to use for drawing geo chart.\n         * we need another parameter as `data` because some chart - like choropleth - need both geo path data\n         * and value data to display on the chart.\n         */\n        geoData: {\n          type: Object,\n          attribute: 'geo-data'\n        }\n\n      };\n    }\n\n    update(props) {\n      this.log && console.info('update geo props', props, this);\n      super.update(props);\n      if (props.has('geoData')) {\n        this._geoData = this.filterGeo(this.geoData);\n      }\n    }\n\n    get drawableData() {\n       return this._geoData;\n    }\n\n    filterGeo(data) {\n      if (data) {\n        // Note(cg): filter allows to dispay only a subset of the data.\n        // This is usefull for instance when we want to display multiple groups.\n        if (this.filter) {\n          return data.filter(this.filter);\n        }\n        return data;\n      }\n    }\n  };\n});\n\nexport default MultiGeoDrawable;\n","import { Drawable } from '@preignition/multi-chart';\nimport { html, css } from 'lit-element';\nimport { select } from 'd3-selection';\n\n// import { transition } from 'd3-transition';\nimport { transition } from 'd3-transition';\nimport { multiSelection, multiTransition } from '../helper/utils.js';\nimport { default as MultiGeoMixin } from './mixin/drawable-geo-mixin.js';\n\n// Note(cg): multi-select is not part of d3-selection.\n// This is to allow selection.attrs.\nmultiSelection(select().constructor);\nmultiTransition(transition().constructor);\n/**\n * ## MultiDrawableFeature\n *\n * `<multi-drawable-feature>` polymer elements responsible for drawing choropleth area in a geo-chart\n *\n * ### Example\n * ```html\n *    <!-- fetch topojson features from  -->\n *    <topojson-feature id=\"feature\" feature=\"{{feature}}\" data=\"{{geometries}}\" name=\"countries\" url=\"worldSimplify01.json\"></topojson-feature>\n *    <!-- configure transition for this chart  -->\n *    <d3-transition transition=\"{{transition}}\" duration=\"500\"></d3-transition>\n *    <!-- a multi-container-geo will expose path and projection -->\n *    <multi-container-geo\n *      id=\"chart\"\n *      projection=\"{{projection}}\"\n *      path=\"{{path}}\"\n *      projection-type=\"[[projectionType]]\"\n *      rotate=\"[[rotate]]\"\n *      translate=\"[[translate]]\"\n *      scale=\"[[scale]]\"\n *      >\n *        <!-- group of geo elements. When feature changes, contained elements will redraw -->\n *        <multi-container-layer data=\"[[feature]]\" >\n *          <!-- draw features with projected to projection -->\n *          <multi-drawable-feature transition=\"[[transition]]\" projection=\"[[projection]]\" path=\"[[path]]\">\n *          </multi-drawable-feature>\n *        </multi-container-layer>\n *      </multi-container-geo>\n * ```\n *\n * @element multi-drawable-feature \n * @cssprops --multi-drawable-feature-stroke-color -  stroke color for features\n * @cssprops --multi-drawable-feature-fill-color -  fill color for features\n **/\n\nclass MultiDrawableFeature extends\n  MultiGeoMixin(Drawable) {\n\n  // Note(cg): style to add to svghost while dispatching SVG.\n  static get hostStyles() {\n    return css `\n       .multi-drawable-feature {\n        stroke: var(--multi-drawable-feature-stroke-color, var(--secondary-text-color, grey));\n        fill: var(--multi-drawable-feature-fill-color, none);\n      }\n\n      .feature.selectable:hover  {\n        stroke-opacity: 0.7;\n        fill-opacity: 0.7;\n      }\n      `;\n  }\n\n\n  // Note(cg): stores all ids under this.$\n  // firstUpdated(props) {\n  //   super.firstUpdated(props);\n  //   console.info(\"FIRST\")\n  // }\n  render() {\n    return this.html `\n     ${this.featurePath ? this.html`\n        <multi-accessor \n          .path=\"${this.featurePath}\"\n          @accessor-changed=\"${e => this.featureAccessor = e.detail.value}\" \n        ></multi-accessor>` : ''}    \n     ${this.labelPath ? this.html`\n        <multi-accessor \n          .path=\"${this.labelPath}\"\n          @accessor-changed=\"${e => this.labelAccessor = e.detail.value}\" \n        ></multi-accessor>` : ''}\n    <svg>\n      <g id=\"drawable\" part=\"feature\" slot-svg=\"slot-layer\" class=\"multi-drawable-feature\"></g>\n    </svg>\n    `;\n  }\n\n  static get properties() {\n    return {\n\n      ...super.properties,\n\n      /**\n       * `path` the [path](https://github.com/d3/d3-geo#geoPath) generator function\n       */\n      path: {\n        type: Function\n      },\n\n      /**\n       * `attrs` default attributes to be set on the chart\n       */\n      attrs: {\n        type: Object,\n        value: function() {\n          return null;\n        }\n      },\n\n      /*\n       * `autoFit` if true, will recalculate the projectoin so as to fit features\n       * within chart size.\n       */\n      autoFit: {\n        type: Boolean,\n        attribute: 'auto-fit'\n      },\n\n      /**\n       * `featureAccessorPath` the path for accessing the feature keys/ids\n       */\n      featurePath: {\n        type: String,\n        value: 'id',\n        attribute: 'feature-path'\n      },\n\n      /**\n       * `featureAccessor the accessor function from featureAccessorPath.\n       */\n      featureAccessor: {\n        type: Function,\n        notify: true,\n        attribute: 'feature-accessor'\n      },\n\n      /**\n       * `labelAccessorPath` the path for accessing the feature keys/ids\n       */\n      labelPath: {\n        type: String,\n        attribute: 'label-path'\n      },\n\n      /**\n       * `labelAccessor the accessor function from labelAccessorPath.\n       */\n      labelAccessor: {\n        type: Function,\n        attribute: 'label-accessor'\n      },\n    };\n  }\n\n  get shapeName() {\n    return 'path';\n  }\n\n  get shapeClass() {\n    return 'feature';\n  }\n\n  draw(feature) {\n    if (!this.path) {\n      this.log && console.warn('trying to draw but geo path is not yet set');\n      return false;\n    }\n    const drawable = this.drawableData;\n\n    if (!drawable) {\n      this.log && console.warn('data not yet set');\n      return false;\n    }\n\n    if (!drawable.features) {\n      this.log && console.error('data must contain features');\n      return false;\n    }\n\n    this.log && console.info('draw path');\n\n    this.doFit();\n\n    let chart = select(this.targetElement).selectAll(`${this.shapeName}.${this.shapeClass}`);\n    chart = chart.data(drawable.features);\n\n    chart.exit().remove();\n\n    chart = chart.enter().append(this.shapeName)\n      .attr('class', `${this.shapeClass} selectable`)\n      .merge(chart);\n\n    //  we add a title element when labelAccessor exists\n    if (this.labelAccessor) {\n      chart.selectAll('title')\n        .data(d => [d])\n        .enter()\n        .append('title')\n        .text((d, i) => this.labelAccessor(d, i));\n    }\n\n    if (this.shallTransition && this.transition) {\n      chart = this.applyTransition(chart, this.transition);\n    }\n\n    return chart\n      .attrs(this.attrs)\n      .attr('key', (d, i) => this.featureAccessor(d, i))\n      .attr('d', this.path);\n  }\n\n  resize(width, height) {\n    super.resize(width, height);\n    this.doFit();\n  }\n\n  doFit() {\n    if (this.autoFit && this.drawableData && this.path && !this._isFitting) {\n      const projection = this.path.projection();\n      projection.fitExtent([\n        [0, 0],\n        [this.width, this.height]\n      ], this.drawableData);\n\n    }\n  }\n}\n\nexport default MultiDrawableFeature;\n","export default function(a, b) {\n  return a < b ? -1 : a > b ? 1 : a >= b ? 0 : NaN;\n}\n","import ascending from \"./ascending.js\";\nimport bisector from \"./bisector.js\";\n\nvar ascendingBisect = bisector(ascending);\nexport var bisectRight = ascendingBisect.right;\nexport var bisectLeft = ascendingBisect.left;\nexport default bisectRight;\n","import ascending from \"./ascending.js\";\n\nexport default function(compare) {\n  if (compare.length === 1) compare = ascendingComparator(compare);\n  return {\n    left: function(a, x, lo, hi) {\n      if (lo == null) lo = 0;\n      if (hi == null) hi = a.length;\n      while (lo < hi) {\n        var mid = lo + hi >>> 1;\n        if (compare(a[mid], x) < 0) lo = mid + 1;\n        else hi = mid;\n      }\n      return lo;\n    },\n    right: function(a, x, lo, hi) {\n      if (lo == null) lo = 0;\n      if (hi == null) hi = a.length;\n      while (lo < hi) {\n        var mid = lo + hi >>> 1;\n        if (compare(a[mid], x) > 0) hi = mid;\n        else lo = mid + 1;\n      }\n      return lo;\n    }\n  };\n}\n\nfunction ascendingComparator(f) {\n  return function(d, x) {\n    return ascending(f(d), x);\n  };\n}\n","var e10 = Math.sqrt(50),\n    e5 = Math.sqrt(10),\n    e2 = Math.sqrt(2);\n\nexport default function(start, stop, count) {\n  var reverse,\n      i = -1,\n      n,\n      ticks,\n      step;\n\n  stop = +stop, start = +start, count = +count;\n  if (start === stop && count > 0) return [start];\n  if (reverse = stop < start) n = start, start = stop, stop = n;\n  if ((step = tickIncrement(start, stop, count)) === 0 || !isFinite(step)) return [];\n\n  if (step > 0) {\n    start = Math.ceil(start / step);\n    stop = Math.floor(stop / step);\n    ticks = new Array(n = Math.ceil(stop - start + 1));\n    while (++i < n) ticks[i] = (start + i) * step;\n  } else {\n    start = Math.floor(start * step);\n    stop = Math.ceil(stop * step);\n    ticks = new Array(n = Math.ceil(start - stop + 1));\n    while (++i < n) ticks[i] = (start - i) / step;\n  }\n\n  if (reverse) ticks.reverse();\n\n  return ticks;\n}\n\nexport function tickIncrement(start, stop, count) {\n  var step = (stop - start) / Math.max(0, count),\n      power = Math.floor(Math.log(step) / Math.LN10),\n      error = step / Math.pow(10, power);\n  return power >= 0\n      ? (error >= e10 ? 10 : error >= e5 ? 5 : error >= e2 ? 2 : 1) * Math.pow(10, power)\n      : -Math.pow(10, -power) / (error >= e10 ? 10 : error >= e5 ? 5 : error >= e2 ? 2 : 1);\n}\n\nexport function tickStep(start, stop, count) {\n  var step0 = Math.abs(stop - start) / Math.max(0, count),\n      step1 = Math.pow(10, Math.floor(Math.log(step0) / Math.LN10)),\n      error = step0 / step1;\n  if (error >= e10) step1 *= 10;\n  else if (error >= e5) step1 *= 5;\n  else if (error >= e2) step1 *= 2;\n  return stop < start ? -step1 : step1;\n}\n","import { default as MultiDrawableFeature } from './drawable-feature.js';\nimport { min as d3Min, max as d3Max } from 'd3-array';\n\n/**\n * ## MultiDrawableChoropleth\n *\n * `<multi-drawable-choropleth>` polymer elements responsible for drawing choropleth area in a geo-chart\n *\n * ### Example\n *  ```html\n *     <topojson-feature feature=\"{{feature}}\" data=\"{{geometries}}\" name=\"counties\" url=\"us.json\"></topojson-feature>\n *    <!-- get a topojson mesh for states  -->\n *    <topojson-mesh mesh=\"{{mesh}}\" data=\"[[geometries]]\" name=\"states\"></topojson-mesh>\n *    <!-- a multi-container-geo will expose path and projection -->\n *    <multi-container-geo id=\"chart\" enable-zoom projection=\"{{projection}}\" path=\"{{path}}\" projection-type=\"[[projectionType]]\" scale=\"{{scale}}\">\n *        <!-- group of geo elements. When choropleth changes, contained elements will redraw -->\n *        <multi-container-layer>\n *\n *          <!-- draw choropleths with projected to projection -->\n *          <multi-drawable-choropleth data=\"[[data]]\" auto-fit geo-data=\"[[feature]]\" path=\"[[path]]\" attrs=\"[[choroplethAttrs]]\" scale-type=\"scaleQuantize\" domain=\"[[colorDomain]]\" range=\"[[colorRange]]\" color-scale=\"{{colorScale}}\" value-accessor-path=\"+rate\" key-accessor-path=\"id\"></multi-drawable-choropleth>\n *\n *          <!-- show US States -->\n *          <multi-drawable-path path=\"[[path]]\" attrs=\"[[meshAttrs]]\" geo-data=\"[[mesh]]\"></multi-drawable-path>\n *        </multi-container-layer>\n *\n *        <!-- display a legend -->\n *        <multi-legend scale=\"[[colorScale]]\" padding=\"10\" title=\"Unemployment Rate\" labels=\"[[labels]]\" label-format=\".0%\" position=\"right\"> </multi-legend>\n *      </multi-container-geo>\n *  ```\n *\n * @memberof MultiChart\n * @customElement\n * @polymer\n * @appliesMixin MultiChart.mixin.D3ScaleProperty\n * @demo index.html#multi-choropleth-demo\n **/\nclass MultiDrawableChoropleth extends MultiDrawableFeature {\n  render() {\n    return this.html `\n    ${this.featurePath ? this.html`\n        <multi-accessor \n          .path=\"${this.featurePath}\"\n          @accessor-changed=\"${e => this.featureAccessor = e.detail.value}\" \n        ></multi-accessor>` : ''}    \n     ${this.labelPath ? this.html`\n        <multi-accessor \n          .path=\"${this.labelPath}\"\n          @accessor-changed=\"${e => this.labelAccessor = e.detail.value}\" \n        ></multi-accessor>` : ''}    \n        <svg>\n          <g id=\"drawable\" slot-svg=\"slot-layer\" part=\"choropoleth\" class=\"multi-drawable-choropleth\"></g>\n        </svg>\n  `;\n  }\n\n  get dataProcessType() {\n    return 'choropleth';\n  }\n\n  static get properties() {\n    return {\n      ...super.properties,\n\n      /*\n       * `colorScale` scale to use for the choropleth\n       */\n      colorScale: {\n        type: Function\n      },\n\n    };\n  }\n\n  /*\n   * `_observeData` will create a map for easy reference while applying the colorScale\n   */\n\n  draw() {\n    let chart = super.draw();\n    if (chart) {\n\n      const map = this.data;\n\n      chart = chart\n        .attr('fill', (d, i) => {\n          const value = map.get(this.featureAccessor(d, i) + '');\n          return this.colorScale(value);\n        });\n    }\n    return chart;\n  }\n}\n\n\nexport default MultiDrawableChoropleth;\n","import { Drawable } from '@preignition/multi-chart';\nimport { html, css } from 'lit-element';\n// import { select } from 'd3-selection-multi';\nimport { select } from 'd3-selection';\nimport { transition } from 'd3-transition';\nimport { multiSelection, multiTransition } from '../helper/utils.js';\n\nimport { default as MultiGeoMixin } from './mixin/drawable-geo-mixin.js';\n\n// Note(cg): multi-select is not part of d3-selection.\n// This is to allow selection.attrs.\nmultiSelection(select().constructor);\nmultiTransition(transition().constructor);\n/**\n * ## MultiDrawablePath\n *\n * `<multi-drawable-path>` draw a line from a geo path in a given projection\n *\n * ### Styling\n * `<multi-drawable-feature>` provides the following custom properties and mixins\n * for styling:\n *\n * Custom property | Description | Default\n * ----------------|-------------|----------\n * `--multi-drawable-feature-stroke-color` | stroke color for features | `--secondary-text-color` or grey\n * `--multi-drawable-feature-fill-color` | fill color for features | none\n * `--multi-drawable-feature` | Mixin applied to features | `{}`\n *\n * @memberof MultiChart\n * @customElement\n * @polymer\n * @appliesMixin MultiChart.mixin.MultiGeoMixin\n * @demo\n **/\nclass MultiDrawablePath extends\nMultiGeoMixin(Drawable) {\n\n  // Note(cg): style to add to svghost while dispatching SVG.\n  static get hostStyles() {\n    return css `\n        .multi-drawable-path {\n          stroke: var(--multi-drawable-path-stroke-color, var(--secondary-text-color, grey));\n          fill: var(--multi-drawable-path-fill-color, none);\n        }\n      `;\n  }\n\n\n  render() {\n    return this.html `\n      <svg>\n        <g id=\"drawable\" slot-svg=\"slot-layer\" part=\"path\" class=\"multi-drawable-path\"></g>\n      </svg>\n    `;\n  }\n\n  static get properties() {\n    return {\n\n      ...super.properties,\n\n      /**\n       * `path` the [path](https://github.com/d3/d3-geo#geoPath) generator function\n       */\n      path: {\n        type: Function\n      },\n\n      /**\n       * `attrs` default attributes to be set on the chart\n       */\n      attrs: {\n        type: Object\n      }\n    };\n  }\n\n  /*\n   * `registerOrder` - registerable elements are sorted on the basis of this property.\n   */\n  get registerOrder() {\n    return 50;\n  }\n\n  draw(data) {\n    if (!this.path) {\n      this.log && console.warn('trying to draw path but geo path is not yet set');\n      return false;\n    }\n\n    if (!this.drawableData) {\n      this.log && console.warn('data not yet set');\n      return false;\n    }\n\n    this.log && console.info('draw path');\n\n    const chart = select(this.targetElement);\n\n    chart.selectAll('*').remove();\n\n    return chart\n      .append('path')\n      .datum(this.drawableData)\n      .attrs(this.attrs)\n      .attr('d', this.path);\n  }\n}\n\n\nexport default MultiDrawablePath;","var thirdPi = Math.PI / 3,\n    angles = [0, thirdPi, 2 * thirdPi, 3 * thirdPi, 4 * thirdPi, 5 * thirdPi];\n\nfunction pointX(d) {\n  return d[0];\n}\n\nfunction pointY(d) {\n  return d[1];\n}\n\nexport default function() {\n  var x0 = 0,\n      y0 = 0,\n      x1 = 1,\n      y1 = 1,\n      x = pointX,\n      y = pointY,\n      r,\n      dx,\n      dy;\n\n  function hexbin(points) {\n    var binsById = {}, bins = [], i, n = points.length;\n\n    for (i = 0; i < n; ++i) {\n      if (isNaN(px = +x.call(null, point = points[i], i, points))\n          || isNaN(py = +y.call(null, point, i, points))) continue;\n\n      var point,\n          px,\n          py,\n          pj = Math.round(py = py / dy),\n          pi = Math.round(px = px / dx - (pj & 1) / 2),\n          py1 = py - pj;\n\n      if (Math.abs(py1) * 3 > 1) {\n        var px1 = px - pi,\n            pi2 = pi + (px < pi ? -1 : 1) / 2,\n            pj2 = pj + (py < pj ? -1 : 1),\n            px2 = px - pi2,\n            py2 = py - pj2;\n        if (px1 * px1 + py1 * py1 > px2 * px2 + py2 * py2) pi = pi2 + (pj & 1 ? 1 : -1) / 2, pj = pj2;\n      }\n\n      var id = pi + \"-\" + pj, bin = binsById[id];\n      if (bin) bin.push(point);\n      else {\n        bins.push(bin = binsById[id] = [point]);\n        bin.x = (pi + (pj & 1) / 2) * dx;\n        bin.y = pj * dy;\n      }\n    }\n\n    return bins;\n  }\n\n  function hexagon(radius) {\n    var x0 = 0, y0 = 0;\n    return angles.map(function(angle) {\n      var x1 = Math.sin(angle) * radius,\n          y1 = -Math.cos(angle) * radius,\n          dx = x1 - x0,\n          dy = y1 - y0;\n      x0 = x1, y0 = y1;\n      return [dx, dy];\n    });\n  }\n\n  hexbin.hexagon = function(radius) {\n    return \"m\" + hexagon(radius == null ? r : +radius).join(\"l\") + \"z\";\n  };\n\n  hexbin.centers = function() {\n    var centers = [],\n        j = Math.round(y0 / dy),\n        i = Math.round(x0 / dx);\n    for (var y = j * dy; y < y1 + r; y += dy, ++j) {\n      for (var x = i * dx + (j & 1) * dx / 2; x < x1 + dx / 2; x += dx) {\n        centers.push([x, y]);\n      }\n    }\n    return centers;\n  };\n\n  hexbin.mesh = function() {\n    var fragment = hexagon(r).slice(0, 4).join(\"l\");\n    return hexbin.centers().map(function(p) { return \"M\" + p + \"m\" + fragment; }).join(\"\");\n  };\n\n  hexbin.x = function(_) {\n    return arguments.length ? (x = _, hexbin) : x;\n  };\n\n  hexbin.y = function(_) {\n    return arguments.length ? (y = _, hexbin) : y;\n  };\n\n  hexbin.radius = function(_) {\n    return arguments.length ? (r = +_, dx = r * 2 * Math.sin(thirdPi), dy = r * 1.5, hexbin) : r;\n  };\n\n  hexbin.size = function(_) {\n    return arguments.length ? (x0 = y0 = 0, x1 = +_[0], y1 = +_[1], hexbin) : [x1 - x0, y1 - y0];\n  };\n\n  hexbin.extent = function(_) {\n    return arguments.length ? (x0 = +_[0][0], y0 = +_[0][1], x1 = +_[1][0], y1 = +_[1][1], hexbin) : [[x0, y0], [x1, y1]];\n  };\n\n  return hexbin.radius(1);\n}\n","import { LitElement } from 'lit-element';\n\n// import { shapeProperties } from '@preignition/multi-chart/src/helper/utils.js';\nimport { shapeProperties } from '@preignition/multi-chart';\nimport { hexbin } from 'd3-hexbin';\n\nconst instance = hexbin();\nconst keys = Object.keys(instance || {});\nconst props = shapeProperties(keys);\n\nclass D3Hexbin extends LitElement {\n\n  static get properties() {\n\n    return {\n\n      ...props,\n      /**\n       * [`x`](https://github.com/d3/d3-hexbin#x) x-coordinate accessor function\n       */\n\n      /**\n       * [`y`](https://github.com/d3/d3-hexbin#y) y-coordinate accessor function\n       */\n      /**\n       * [`radius`](https://github.com/d3/d3-hexbin#radius) the radius of the hexagon\n       */\n      /**\n       * [`radius`](https://github.com/d3/d3-hexbin#radius) the radius of the hexagon\n       */\n\n      /*\n       * `points` [the hexbin points](https://github.com/d3/d3-hexbin#_hexbin)\n       */\n       points: {\n         type: Array,\n        },\n\n    };\n  }\n  constructor() {\n    super();\n    this.hexbin = hexbin();\n  }\n\n  update(props) {\n    super.update(props);\n    this.updateWrapper(props);\n    if (props.has('points') || props.has('extent')) {\n      this.updatePoints();\n    }\n\n  }\n\n  updateWrapper(props) {\n    let shallNotify = false;\n    props.forEach((value, key) => {\n      if ((this[key] !== undefined) && this.hexbin[key]) {\n        shallNotify = true;\n        this.hexbin[key](this[key]);\n      }\n    });\n    if (shallNotify) {\n      this.dispatchEvent(new CustomEvent(`hexbin-changed`, { detail: { value: this.hexbin }, bubbles: true, composed: true }));\n    }\n  }\n  updatePoints() {\n    const bins = this.hexbin(this.points);\n    bins.forEach((b, i) => {\n      b.forEach((p) => {\n        p.__bin__ = i;\n      });\n    });\n   this.dispatchEvent(new CustomEvent(`bins-changed`, { detail: { value: bins }, bubbles: true, composed: true }));\n  }\n\n}\n\nexport default D3Hexbin;","export function initRange(domain, range) {\n  switch (arguments.length) {\n    case 0: break;\n    case 1: this.range(domain); break;\n    default: this.range(range).domain(domain); break;\n  }\n  return this;\n}\n\nexport function initInterpolator(domain, interpolator) {\n  switch (arguments.length) {\n    case 0: break;\n    case 1: this.interpolator(domain); break;\n    default: this.interpolator(interpolator).domain(domain); break;\n  }\n  return this;\n}\n","import {bisect} from \"d3-array\";\nimport {interpolate as interpolateValue, interpolateNumber, interpolateRound} from \"d3-interpolate\";\nimport constant from \"./constant.js\";\nimport number from \"./number.js\";\n\nvar unit = [0, 1];\n\nexport function identity(x) {\n  return x;\n}\n\nfunction normalize(a, b) {\n  return (b -= (a = +a))\n      ? function(x) { return (x - a) / b; }\n      : constant(isNaN(b) ? NaN : 0.5);\n}\n\nfunction clamper(a, b) {\n  var t;\n  if (a > b) t = a, a = b, b = t;\n  return function(x) { return Math.max(a, Math.min(b, x)); };\n}\n\n// normalize(a, b)(x) takes a domain value x in [a,b] and returns the corresponding parameter t in [0,1].\n// interpolate(a, b)(t) takes a parameter t in [0,1] and returns the corresponding range value x in [a,b].\nfunction bimap(domain, range, interpolate) {\n  var d0 = domain[0], d1 = domain[1], r0 = range[0], r1 = range[1];\n  if (d1 < d0) d0 = normalize(d1, d0), r0 = interpolate(r1, r0);\n  else d0 = normalize(d0, d1), r0 = interpolate(r0, r1);\n  return function(x) { return r0(d0(x)); };\n}\n\nfunction polymap(domain, range, interpolate) {\n  var j = Math.min(domain.length, range.length) - 1,\n      d = new Array(j),\n      r = new Array(j),\n      i = -1;\n\n  // Reverse descending domains.\n  if (domain[j] < domain[0]) {\n    domain = domain.slice().reverse();\n    range = range.slice().reverse();\n  }\n\n  while (++i < j) {\n    d[i] = normalize(domain[i], domain[i + 1]);\n    r[i] = interpolate(range[i], range[i + 1]);\n  }\n\n  return function(x) {\n    var i = bisect(domain, x, 1, j) - 1;\n    return r[i](d[i](x));\n  };\n}\n\nexport function copy(source, target) {\n  return target\n      .domain(source.domain())\n      .range(source.range())\n      .interpolate(source.interpolate())\n      .clamp(source.clamp())\n      .unknown(source.unknown());\n}\n\nexport function transformer() {\n  var domain = unit,\n      range = unit,\n      interpolate = interpolateValue,\n      transform,\n      untransform,\n      unknown,\n      clamp = identity,\n      piecewise,\n      output,\n      input;\n\n  function rescale() {\n    var n = Math.min(domain.length, range.length);\n    if (clamp !== identity) clamp = clamper(domain[0], domain[n - 1]);\n    piecewise = n > 2 ? polymap : bimap;\n    output = input = null;\n    return scale;\n  }\n\n  function scale(x) {\n    return isNaN(x = +x) ? unknown : (output || (output = piecewise(domain.map(transform), range, interpolate)))(transform(clamp(x)));\n  }\n\n  scale.invert = function(y) {\n    return clamp(untransform((input || (input = piecewise(range, domain.map(transform), interpolateNumber)))(y)));\n  };\n\n  scale.domain = function(_) {\n    return arguments.length ? (domain = Array.from(_, number), rescale()) : domain.slice();\n  };\n\n  scale.range = function(_) {\n    return arguments.length ? (range = Array.from(_), rescale()) : range.slice();\n  };\n\n  scale.rangeRound = function(_) {\n    return range = Array.from(_), interpolate = interpolateRound, rescale();\n  };\n\n  scale.clamp = function(_) {\n    return arguments.length ? (clamp = _ ? true : identity, rescale()) : clamp !== identity;\n  };\n\n  scale.interpolate = function(_) {\n    return arguments.length ? (interpolate = _, rescale()) : interpolate;\n  };\n\n  scale.unknown = function(_) {\n    return arguments.length ? (unknown = _, scale) : unknown;\n  };\n\n  return function(t, u) {\n    transform = t, untransform = u;\n    return rescale();\n  };\n}\n\nexport default function continuous() {\n  return transformer()(identity, identity);\n}\n","// Computes the decimal coefficient and exponent of the specified number x with\n// significant digits p, where x is positive and p is in [1, 21] or undefined.\n// For example, formatDecimal(1.23) returns [\"123\", 0].\nexport default function(x, p) {\n  if ((i = (x = p ? x.toExponential(p - 1) : x.toExponential()).indexOf(\"e\")) < 0) return null; // NaN, Infinity\n  var i, coefficient = x.slice(0, i);\n\n  // The string returned by toExponential either has the form \\d\\.\\d+e[-+]\\d+\n  // (e.g., 1.2e+3) or the form \\de[-+]\\d+ (e.g., 1e+3).\n  return [\n    coefficient.length > 1 ? coefficient[0] + coefficient.slice(2) : coefficient,\n    +x.slice(i + 1)\n  ];\n}\n","import formatDecimal from \"./formatDecimal.js\";\n\nexport default function(x) {\n  return x = formatDecimal(Math.abs(x)), x ? x[1] : NaN;\n}\n","// [[fill]align][sign][symbol][0][width][,][.precision][~][type]\nvar re = /^(?:(.)?([<>=^]))?([+\\-( ])?([$#])?(0)?(\\d+)?(,)?(\\.\\d+)?(~)?([a-z%])?$/i;\n\nexport default function formatSpecifier(specifier) {\n  if (!(match = re.exec(specifier))) throw new Error(\"invalid format: \" + specifier);\n  var match;\n  return new FormatSpecifier({\n    fill: match[1],\n    align: match[2],\n    sign: match[3],\n    symbol: match[4],\n    zero: match[5],\n    width: match[6],\n    comma: match[7],\n    precision: match[8] && match[8].slice(1),\n    trim: match[9],\n    type: match[10]\n  });\n}\n\nformatSpecifier.prototype = FormatSpecifier.prototype; // instanceof\n\nexport function FormatSpecifier(specifier) {\n  this.fill = specifier.fill === undefined ? \" \" : specifier.fill + \"\";\n  this.align = specifier.align === undefined ? \">\" : specifier.align + \"\";\n  this.sign = specifier.sign === undefined ? \"-\" : specifier.sign + \"\";\n  this.symbol = specifier.symbol === undefined ? \"\" : specifier.symbol + \"\";\n  this.zero = !!specifier.zero;\n  this.width = specifier.width === undefined ? undefined : +specifier.width;\n  this.comma = !!specifier.comma;\n  this.precision = specifier.precision === undefined ? undefined : +specifier.precision;\n  this.trim = !!specifier.trim;\n  this.type = specifier.type === undefined ? \"\" : specifier.type + \"\";\n}\n\nFormatSpecifier.prototype.toString = function() {\n  return this.fill\n      + this.align\n      + this.sign\n      + this.symbol\n      + (this.zero ? \"0\" : \"\")\n      + (this.width === undefined ? \"\" : Math.max(1, this.width | 0))\n      + (this.comma ? \",\" : \"\")\n      + (this.precision === undefined ? \"\" : \".\" + Math.max(0, this.precision | 0))\n      + (this.trim ? \"~\" : \"\")\n      + this.type;\n};\n","import formatDecimal from \"./formatDecimal.js\";\n\nexport var prefixExponent;\n\nexport default function(x, p) {\n  var d = formatDecimal(x, p);\n  if (!d) return x + \"\";\n  var coefficient = d[0],\n      exponent = d[1],\n      i = exponent - (prefixExponent = Math.max(-8, Math.min(8, Math.floor(exponent / 3))) * 3) + 1,\n      n = coefficient.length;\n  return i === n ? coefficient\n      : i > n ? coefficient + new Array(i - n + 1).join(\"0\")\n      : i > 0 ? coefficient.slice(0, i) + \".\" + coefficient.slice(i)\n      : \"0.\" + new Array(1 - i).join(\"0\") + formatDecimal(x, Math.max(0, p + i - 1))[0]; // less than 1y!\n}\n","import formatDecimal from \"./formatDecimal.js\";\n\nexport default function(x, p) {\n  var d = formatDecimal(x, p);\n  if (!d) return x + \"\";\n  var coefficient = d[0],\n      exponent = d[1];\n  return exponent < 0 ? \"0.\" + new Array(-exponent).join(\"0\") + coefficient\n      : coefficient.length > exponent + 1 ? coefficient.slice(0, exponent + 1) + \".\" + coefficient.slice(exponent + 1)\n      : coefficient + new Array(exponent - coefficient.length + 2).join(\"0\");\n}\n","import formatPrefixAuto from \"./formatPrefixAuto.js\";\nimport formatRounded from \"./formatRounded.js\";\n\nexport default {\n  \"%\": function(x, p) { return (x * 100).toFixed(p); },\n  \"b\": function(x) { return Math.round(x).toString(2); },\n  \"c\": function(x) { return x + \"\"; },\n  \"d\": function(x) { return Math.round(x).toString(10); },\n  \"e\": function(x, p) { return x.toExponential(p); },\n  \"f\": function(x, p) { return x.toFixed(p); },\n  \"g\": function(x, p) { return x.toPrecision(p); },\n  \"o\": function(x) { return Math.round(x).toString(8); },\n  \"p\": function(x, p) { return formatRounded(x * 100, p); },\n  \"r\": formatRounded,\n  \"s\": formatPrefixAuto,\n  \"X\": function(x) { return Math.round(x).toString(16).toUpperCase(); },\n  \"x\": function(x) { return Math.round(x).toString(16); }\n};\n","export default function(x) {\n  return x;\n}\n","import exponent from \"./exponent.js\";\nimport formatGroup from \"./formatGroup.js\";\nimport formatNumerals from \"./formatNumerals.js\";\nimport formatSpecifier from \"./formatSpecifier.js\";\nimport formatTrim from \"./formatTrim.js\";\nimport formatTypes from \"./formatTypes.js\";\nimport {prefixExponent} from \"./formatPrefixAuto.js\";\nimport identity from \"./identity.js\";\n\nvar map = Array.prototype.map,\n    prefixes = [\"y\",\"z\",\"a\",\"f\",\"p\",\"n\",\"\",\"m\",\"\",\"k\",\"M\",\"G\",\"T\",\"P\",\"E\",\"Z\",\"Y\"];\n\nexport default function(locale) {\n  var group = locale.grouping === undefined || locale.thousands === undefined ? identity : formatGroup(map.call(locale.grouping, Number), locale.thousands + \"\"),\n      currencyPrefix = locale.currency === undefined ? \"\" : locale.currency[0] + \"\",\n      currencySuffix = locale.currency === undefined ? \"\" : locale.currency[1] + \"\",\n      decimal = locale.decimal === undefined ? \".\" : locale.decimal + \"\",\n      numerals = locale.numerals === undefined ? identity : formatNumerals(map.call(locale.numerals, String)),\n      percent = locale.percent === undefined ? \"%\" : locale.percent + \"\",\n      minus = locale.minus === undefined ? \"-\" : locale.minus + \"\",\n      nan = locale.nan === undefined ? \"NaN\" : locale.nan + \"\";\n\n  function newFormat(specifier) {\n    specifier = formatSpecifier(specifier);\n\n    var fill = specifier.fill,\n        align = specifier.align,\n        sign = specifier.sign,\n        symbol = specifier.symbol,\n        zero = specifier.zero,\n        width = specifier.width,\n        comma = specifier.comma,\n        precision = specifier.precision,\n        trim = specifier.trim,\n        type = specifier.type;\n\n    // The \"n\" type is an alias for \",g\".\n    if (type === \"n\") comma = true, type = \"g\";\n\n    // The \"\" type, and any invalid type, is an alias for \".12~g\".\n    else if (!formatTypes[type]) precision === undefined && (precision = 12), trim = true, type = \"g\";\n\n    // If zero fill is specified, padding goes after sign and before digits.\n    if (zero || (fill === \"0\" && align === \"=\")) zero = true, fill = \"0\", align = \"=\";\n\n    // Compute the prefix and suffix.\n    // For SI-prefix, the suffix is lazily computed.\n    var prefix = symbol === \"$\" ? currencyPrefix : symbol === \"#\" && /[boxX]/.test(type) ? \"0\" + type.toLowerCase() : \"\",\n        suffix = symbol === \"$\" ? currencySuffix : /[%p]/.test(type) ? percent : \"\";\n\n    // What format function should we use?\n    // Is this an integer type?\n    // Can this type generate exponential notation?\n    var formatType = formatTypes[type],\n        maybeSuffix = /[defgprs%]/.test(type);\n\n    // Set the default precision if not specified,\n    // or clamp the specified precision to the supported range.\n    // For significant precision, it must be in [1, 21].\n    // For fixed precision, it must be in [0, 20].\n    precision = precision === undefined ? 6\n        : /[gprs]/.test(type) ? Math.max(1, Math.min(21, precision))\n        : Math.max(0, Math.min(20, precision));\n\n    function format(value) {\n      var valuePrefix = prefix,\n          valueSuffix = suffix,\n          i, n, c;\n\n      if (type === \"c\") {\n        valueSuffix = formatType(value) + valueSuffix;\n        value = \"\";\n      } else {\n        value = +value;\n\n        // Perform the initial formatting.\n        var valueNegative = value < 0;\n        value = isNaN(value) ? nan : formatType(Math.abs(value), precision);\n\n        // Trim insignificant zeros.\n        if (trim) value = formatTrim(value);\n\n        // If a negative value rounds to zero during formatting, treat as positive.\n        if (valueNegative && +value === 0) valueNegative = false;\n\n        // Compute the prefix and suffix.\n        valuePrefix = (valueNegative ? (sign === \"(\" ? sign : minus) : sign === \"-\" || sign === \"(\" ? \"\" : sign) + valuePrefix;\n\n        valueSuffix = (type === \"s\" ? prefixes[8 + prefixExponent / 3] : \"\") + valueSuffix + (valueNegative && sign === \"(\" ? \")\" : \"\");\n\n        // Break the formatted value into the integer value part that can be\n        // grouped, and fractional or exponential suffix part that is not.\n        if (maybeSuffix) {\n          i = -1, n = value.length;\n          while (++i < n) {\n            if (c = value.charCodeAt(i), 48 > c || c > 57) {\n              valueSuffix = (c === 46 ? decimal + value.slice(i + 1) : value.slice(i)) + valueSuffix;\n              value = value.slice(0, i);\n              break;\n            }\n          }\n        }\n      }\n\n      // If the fill character is not \"0\", grouping is applied before padding.\n      if (comma && !zero) value = group(value, Infinity);\n\n      // Compute the padding.\n      var length = valuePrefix.length + value.length + valueSuffix.length,\n          padding = length < width ? new Array(width - length + 1).join(fill) : \"\";\n\n      // If the fill character is \"0\", grouping is applied after padding.\n      if (comma && zero) value = group(padding + value, padding.length ? width - valueSuffix.length : Infinity), padding = \"\";\n\n      // Reconstruct the final output based on the desired alignment.\n      switch (align) {\n        case \"<\": value = valuePrefix + value + valueSuffix + padding; break;\n        case \"=\": value = valuePrefix + padding + value + valueSuffix; break;\n        case \"^\": value = padding.slice(0, length = padding.length >> 1) + valuePrefix + value + valueSuffix + padding.slice(length); break;\n        default: value = padding + valuePrefix + value + valueSuffix; break;\n      }\n\n      return numerals(value);\n    }\n\n    format.toString = function() {\n      return specifier + \"\";\n    };\n\n    return format;\n  }\n\n  function formatPrefix(specifier, value) {\n    var f = newFormat((specifier = formatSpecifier(specifier), specifier.type = \"f\", specifier)),\n        e = Math.max(-8, Math.min(8, Math.floor(exponent(value) / 3))) * 3,\n        k = Math.pow(10, -e),\n        prefix = prefixes[8 + e / 3];\n    return function(value) {\n      return f(k * value) + prefix;\n    };\n  }\n\n  return {\n    format: newFormat,\n    formatPrefix: formatPrefix\n  };\n}\n","import formatLocale from \"./locale.js\";\n\nvar locale;\nexport var format;\nexport var formatPrefix;\n\ndefaultLocale({\n  decimal: \".\",\n  thousands: \",\",\n  grouping: [3],\n  currency: [\"$\", \"\"],\n  minus: \"-\"\n});\n\nexport default function defaultLocale(definition) {\n  locale = formatLocale(definition);\n  format = locale.format;\n  formatPrefix = locale.formatPrefix;\n  return locale;\n}\n","export default function(grouping, thousands) {\n  return function(value, width) {\n    var i = value.length,\n        t = [],\n        j = 0,\n        g = grouping[0],\n        length = 0;\n\n    while (i > 0 && g > 0) {\n      if (length + g + 1 > width) g = Math.max(1, width - length);\n      t.push(value.substring(i -= g, i + g));\n      if ((length += g + 1) > width) break;\n      g = grouping[j = (j + 1) % grouping.length];\n    }\n\n    return t.reverse().join(thousands);\n  };\n}\n","export default function(numerals) {\n  return function(value) {\n    return value.replace(/[0-9]/g, function(i) {\n      return numerals[+i];\n    });\n  };\n}\n","// Trims insignificant zeros, e.g., replaces 1.2000k with 1.2k.\nexport default function(s) {\n  out: for (var n = s.length, i = 1, i0 = -1, i1; i < n; ++i) {\n    switch (s[i]) {\n      case \".\": i0 = i1 = i; break;\n      case \"0\": if (i0 === 0) i0 = i; i1 = i; break;\n      default: if (i0 > 0) { if (!+s[i]) break out; i0 = 0; } break;\n    }\n  }\n  return i0 > 0 ? s.slice(0, i0) + s.slice(i1 + 1) : s;\n}\n","import {tickStep} from \"d3-array\";\nimport {format, formatPrefix, formatSpecifier, precisionFixed, precisionPrefix, precisionRound} from \"d3-format\";\n\nexport default function(start, stop, count, specifier) {\n  var step = tickStep(start, stop, count),\n      precision;\n  specifier = formatSpecifier(specifier == null ? \",f\" : specifier);\n  switch (specifier.type) {\n    case \"s\": {\n      var value = Math.max(Math.abs(start), Math.abs(stop));\n      if (specifier.precision == null && !isNaN(precision = precisionPrefix(step, value))) specifier.precision = precision;\n      return formatPrefix(specifier, value);\n    }\n    case \"\":\n    case \"e\":\n    case \"g\":\n    case \"p\":\n    case \"r\": {\n      if (specifier.precision == null && !isNaN(precision = precisionRound(step, Math.max(Math.abs(start), Math.abs(stop))))) specifier.precision = precision - (specifier.type === \"e\");\n      break;\n    }\n    case \"f\":\n    case \"%\": {\n      if (specifier.precision == null && !isNaN(precision = precisionFixed(step))) specifier.precision = precision - (specifier.type === \"%\") * 2;\n      break;\n    }\n  }\n  return format(specifier);\n}\n","import exponent from \"./exponent.js\";\n\nexport default function(step, value) {\n  return Math.max(0, Math.max(-8, Math.min(8, Math.floor(exponent(value) / 3))) * 3 - exponent(Math.abs(step)));\n}\n","import exponent from \"./exponent.js\";\n\nexport default function(step, max) {\n  step = Math.abs(step), max = Math.abs(max) - step;\n  return Math.max(0, exponent(max) - exponent(step)) + 1;\n}\n","import exponent from \"./exponent.js\";\n\nexport default function(step) {\n  return Math.max(0, -exponent(Math.abs(step)));\n}\n","import {ticks, tickIncrement} from \"d3-array\";\nimport continuous, {copy} from \"./continuous.js\";\nimport {initRange} from \"./init.js\";\nimport tickFormat from \"./tickFormat.js\";\n\nexport function linearish(scale) {\n  var domain = scale.domain;\n\n  scale.ticks = function(count) {\n    var d = domain();\n    return ticks(d[0], d[d.length - 1], count == null ? 10 : count);\n  };\n\n  scale.tickFormat = function(count, specifier) {\n    var d = domain();\n    return tickFormat(d[0], d[d.length - 1], count == null ? 10 : count, specifier);\n  };\n\n  scale.nice = function(count) {\n    if (count == null) count = 10;\n\n    var d = domain(),\n        i0 = 0,\n        i1 = d.length - 1,\n        start = d[i0],\n        stop = d[i1],\n        step;\n\n    if (stop < start) {\n      step = start, start = stop, stop = step;\n      step = i0, i0 = i1, i1 = step;\n    }\n\n    step = tickIncrement(start, stop, count);\n\n    if (step > 0) {\n      start = Math.floor(start / step) * step;\n      stop = Math.ceil(stop / step) * step;\n      step = tickIncrement(start, stop, count);\n    } else if (step < 0) {\n      start = Math.ceil(start * step) / step;\n      stop = Math.floor(stop * step) / step;\n      step = tickIncrement(start, stop, count);\n    }\n\n    if (step > 0) {\n      d[i0] = Math.floor(start / step) * step;\n      d[i1] = Math.ceil(stop / step) * step;\n      domain(d);\n    } else if (step < 0) {\n      d[i0] = Math.ceil(start * step) / step;\n      d[i1] = Math.floor(stop * step) / step;\n      domain(d);\n    }\n\n    return scale;\n  };\n\n  return scale;\n}\n\nexport default function linear() {\n  var scale = continuous();\n\n  scale.copy = function() {\n    return copy(scale, linear());\n  };\n\n  initRange.apply(scale, arguments);\n\n  return linearish(scale);\n}\n","import {identity} from \"./continuous.js\";\nimport {initInterpolator} from \"./init.js\";\nimport {linearish} from \"./linear.js\";\nimport {loggish} from \"./log.js\";\nimport {symlogish} from \"./symlog.js\";\nimport {powish} from \"./pow.js\";\n\nfunction transformer() {\n  var x0 = 0,\n      x1 = 1,\n      t0,\n      t1,\n      k10,\n      transform,\n      interpolator = identity,\n      clamp = false,\n      unknown;\n\n  function scale(x) {\n    return isNaN(x = +x) ? unknown : interpolator(k10 === 0 ? 0.5 : (x = (transform(x) - t0) * k10, clamp ? Math.max(0, Math.min(1, x)) : x));\n  }\n\n  scale.domain = function(_) {\n    return arguments.length ? ([x0, x1] = _, t0 = transform(x0 = +x0), t1 = transform(x1 = +x1), k10 = t0 === t1 ? 0 : 1 / (t1 - t0), scale) : [x0, x1];\n  };\n\n  scale.clamp = function(_) {\n    return arguments.length ? (clamp = !!_, scale) : clamp;\n  };\n\n  scale.interpolator = function(_) {\n    return arguments.length ? (interpolator = _, scale) : interpolator;\n  };\n\n  scale.range = function() {\n    return [interpolator(0), interpolator(1)];\n  };\n\n  scale.unknown = function(_) {\n    return arguments.length ? (unknown = _, scale) : unknown;\n  };\n\n  return function(t) {\n    transform = t, t0 = t(x0), t1 = t(x1), k10 = t0 === t1 ? 0 : 1 / (t1 - t0);\n    return scale;\n  };\n}\n\nexport function copy(source, target) {\n  return target\n      .domain(source.domain())\n      .interpolator(source.interpolator())\n      .clamp(source.clamp())\n      .unknown(source.unknown());\n}\n\nexport default function sequential() {\n  var scale = linearish(transformer()(identity));\n\n  scale.copy = function() {\n    return copy(scale, sequential());\n  };\n\n  return initInterpolator.apply(scale, arguments);\n}\n\nexport function sequentialLog() {\n  var scale = loggish(transformer()).domain([1, 10]);\n\n  scale.copy = function() {\n    return copy(scale, sequentialLog()).base(scale.base());\n  };\n\n  return initInterpolator.apply(scale, arguments);\n}\n\nexport function sequentialSymlog() {\n  var scale = symlogish(transformer());\n\n  scale.copy = function() {\n    return copy(scale, sequentialSymlog()).constant(scale.constant());\n  };\n\n  return initInterpolator.apply(scale, arguments);\n}\n\nexport function sequentialPow() {\n  var scale = powish(transformer());\n\n  scale.copy = function() {\n    return copy(scale, sequentialPow()).exponent(scale.exponent());\n  };\n\n  return initInterpolator.apply(scale, arguments);\n}\n\nexport function sequentialSqrt() {\n  return sequentialPow.apply(null, arguments).exponent(0.5);\n}\n","export default function(specifier) {\n  var n = specifier.length / 6 | 0, colors = new Array(n), i = 0;\n  while (i < n) colors[i] = \"#\" + specifier.slice(i * 6, ++i * 6);\n  return colors;\n}\n","import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"deebf79ecae13182bd\",\n  \"eff3ffbdd7e76baed62171b5\",\n  \"eff3ffbdd7e76baed63182bd08519c\",\n  \"eff3ffc6dbef9ecae16baed63182bd08519c\",\n  \"eff3ffc6dbef9ecae16baed64292c62171b5084594\",\n  \"f7fbffdeebf7c6dbef9ecae16baed64292c62171b5084594\",\n  \"f7fbffdeebf7c6dbef9ecae16baed64292c62171b508519c08306b\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors.js\";\n\nfunction ramp(range) {\n  var n = range.length;\n  return function(t) {\n    return range[Math.max(0, Math.min(n - 1, Math.floor(t * n)))];\n  };\n}\n\nexport default ramp(colors(\"44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725\"));\n\nexport var magma = ramp(colors(\"00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf\"));\n\nexport var inferno = ramp(colors(\"00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4\"));\n\nexport var plasma = ramp(colors(\"0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921\"));\n","import {interpolateRgbBasis} from \"d3-interpolate\";\n\nexport default function(scheme) {\n  return interpolateRgbBasis(scheme[scheme.length - 1]);\n}\n","import { html, css } from 'lit-element';\nimport { Drawable } from '@preignition/multi-chart';\n// import { default as MultiDrawable } from './multi-drawable.js';\nimport { default as MultiGeoMixin } from './mixin/drawable-geo-mixin.js';\n\nimport Hexbin from '../d3-wrapper/d3-hexbin.js';\nimport { select } from 'd3-selection';\nimport { scaleSequential } from 'd3-scale';\nimport { interpolateViridis } from 'd3-scale-chromatic';\n\nclass MultiDrawableHexbin extends\nMultiGeoMixin(\n  Drawable) {\n\n  // Note(cg): style to add to svghost while dispatching SVG.\n  static get hostStyles() {\n    return css `\n        #drawable.hexbin {\n          fill: var(--drawable-hexbin-fill);\n          stroke: var(--drawable-hexbin-stroke);\n        }\n      `;\n  }\n\n  render() {\n    return this.html `\n    <d3-hexbin \n      @hexbin-changed=\"${this.onSetHexbin}\" \n      @bins-changed=\"${this.onSetBins}\" \n      .y=\"${this.y}\" \n      .x=\"${this.x}\" \n      .extent=\"${this.extent}\"\n      .radius=\"${this.radius}\" \n      .points=\"${this.points}\"\n    ></d3-hexbin>\n    <svg>\n      <g id=\"drawable\"  part=\"drawable-hexbin\"  class=\"drawable hexbin\"></g>\n    </svg>\n`;\n  }\n\n\n  static get properties() {\n    return {\n\n      ...super.properties,\n\n      ...Hexbin.properties,\n\n      /*\n       * `hexbin` [the hexbin generator](https://github.com/d3/d3-hexbin#hexbin)\n       */\n      hexbin: {\n        type: Function,\n      },\n\n      /*\n       * `bins` [result of hexbin(data)](https://github.com/d3/d3-hexbin#_hexbin)\n       */\n\n      /*\n       * `colorScale` scale to use for the choropleth\n       */\n      colorScale: {\n        type: Function,\n      },\n\n      /*\n       * `multiPosition` position used to re-order items when appended by dispatch-svg\n       * nodePosition larger than 0 will render on top.\n       */\n       multiPosition: {\n         type: Number,\n         attribute: 'multi-position',\n         value: 10\n       },\n\n    };\n  }\n\n  constructor() {\n    super();\n    this.x = d => d.__point__[0];\n    this.y = d => d.__point__[1];\n  }\n\n  get shapeClass() {\n    return 'hexbin';\n  }\n\n  get shapeName() {\n    return 'path';\n  }\n\n  onSetHexbin(e) {\n    this.hexbin = e.detail.value;\n  }\n  onSetBins(e) {\n    this.geoData = e.detail.value;\n\n  }\n\n  resize(width, height) {\n    super.resize(...arguments);\n    if (this.hexbin) {\n      this.extent = [\n        [0, 0],\n        [width, height]\n      ];\n    }\n  }\n\n  draw() {\n    const data = this.drawableData;\n    if (!this.width || !this.height || !data || !this.hexbin) {\n      return;\n    }\n\n    // TODO(cg): comment.\n\n     const color = this.colorScale || scaleSequential(interpolateViridis).domain([0, 50]);\n\n    let chart = select(this.targetElement).selectAll(`${this.shapeName}.${this.shapeClass}`);\n\n    // if (this.shallTransition) {\n    //   chart = this.applyTransition(chart, this.transition);\n    // }\n\n    chart = chart.data(data);\n\n    chart.exit().remove();\n\n    chart = chart.enter().append(this.shapeName)\n      .attr('class', `${this.shapeClass} selectable shape`)\n      .merge(chart);\n\n    chart\n      .attr('d', (d) => { return 'M' + d.x + ',' + d.y + this.hexbin.hexagon(); })\n      .style('fill', function(d) {\n        return color(d.length);\n      });\n\n    return chart;\n\n  }\n}\n\nexport default MultiDrawableHexbin;","// Adds floating point numbers with twice the normal precision.\n// Reference: J. R. Shewchuk, Adaptive Precision Floating-Point Arithmetic and\n// Fast Robust Geometric Predicates, Discrete & Computational Geometry 18(3)\n// 305363 (1997).\n// Code adapted from GeographicLib by Charles F. F. Karney,\n// http://geographiclib.sourceforge.net/\n\nexport default function() {\n  return new Adder;\n}\n\nfunction Adder() {\n  this.reset();\n}\n\nAdder.prototype = {\n  constructor: Adder,\n  reset: function() {\n    this.s = // rounded value\n    this.t = 0; // exact error\n  },\n  add: function(y) {\n    add(temp, y, this.t);\n    add(this, temp.s, this.s);\n    if (this.s) this.t += temp.t;\n    else this.s = temp.t;\n  },\n  valueOf: function() {\n    return this.s;\n  }\n};\n\nvar temp = new Adder;\n\nfunction add(adder, a, b) {\n  var x = adder.s = a + b,\n      bv = x - a,\n      av = x - bv;\n  adder.t = (a - av) + (b - bv);\n}\n","export var epsilon = 1e-6;\nexport var epsilon2 = 1e-12;\nexport var pi = Math.PI;\nexport var halfPi = pi / 2;\nexport var quarterPi = pi / 4;\nexport var tau = pi * 2;\n\nexport var degrees = 180 / pi;\nexport var radians = pi / 180;\n\nexport var abs = Math.abs;\nexport var atan = Math.atan;\nexport var atan2 = Math.atan2;\nexport var cos = Math.cos;\nexport var ceil = Math.ceil;\nexport var exp = Math.exp;\nexport var floor = Math.floor;\nexport var log = Math.log;\nexport var pow = Math.pow;\nexport var sin = Math.sin;\nexport var sign = Math.sign || function(x) { return x > 0 ? 1 : x < 0 ? -1 : 0; };\nexport var sqrt = Math.sqrt;\nexport var tan = Math.tan;\n\nexport function acos(x) {\n  return x > 1 ? 0 : x < -1 ? pi : Math.acos(x);\n}\n\nexport function asin(x) {\n  return x > 1 ? halfPi : x < -1 ? -halfPi : Math.asin(x);\n}\n\nexport function haversin(x) {\n  return (x = sin(x / 2)) * x;\n}\n","export default function noop() {}\n","function streamGeometry(geometry, stream) {\n  if (geometry && streamGeometryType.hasOwnProperty(geometry.type)) {\n    streamGeometryType[geometry.type](geometry, stream);\n  }\n}\n\nvar streamObjectType = {\n  Feature: function(object, stream) {\n    streamGeometry(object.geometry, stream);\n  },\n  FeatureCollection: function(object, stream) {\n    var features = object.features, i = -1, n = features.length;\n    while (++i < n) streamGeometry(features[i].geometry, stream);\n  }\n};\n\nvar streamGeometryType = {\n  Sphere: function(object, stream) {\n    stream.sphere();\n  },\n  Point: function(object, stream) {\n    object = object.coordinates;\n    stream.point(object[0], object[1], object[2]);\n  },\n  MultiPoint: function(object, stream) {\n    var coordinates = object.coordinates, i = -1, n = coordinates.length;\n    while (++i < n) object = coordinates[i], stream.point(object[0], object[1], object[2]);\n  },\n  LineString: function(object, stream) {\n    streamLine(object.coordinates, stream, 0);\n  },\n  MultiLineString: function(object, stream) {\n    var coordinates = object.coordinates, i = -1, n = coordinates.length;\n    while (++i < n) streamLine(coordinates[i], stream, 0);\n  },\n  Polygon: function(object, stream) {\n    streamPolygon(object.coordinates, stream);\n  },\n  MultiPolygon: function(object, stream) {\n    var coordinates = object.coordinates, i = -1, n = coordinates.length;\n    while (++i < n) streamPolygon(coordinates[i], stream);\n  },\n  GeometryCollection: function(object, stream) {\n    var geometries = object.geometries, i = -1, n = geometries.length;\n    while (++i < n) streamGeometry(geometries[i], stream);\n  }\n};\n\nfunction streamLine(coordinates, stream, closed) {\n  var i = -1, n = coordinates.length - closed, coordinate;\n  stream.lineStart();\n  while (++i < n) coordinate = coordinates[i], stream.point(coordinate[0], coordinate[1], coordinate[2]);\n  stream.lineEnd();\n}\n\nfunction streamPolygon(coordinates, stream) {\n  var i = -1, n = coordinates.length;\n  stream.polygonStart();\n  while (++i < n) streamLine(coordinates[i], stream, 1);\n  stream.polygonEnd();\n}\n\nexport default function(object, stream) {\n  if (object && streamObjectType.hasOwnProperty(object.type)) {\n    streamObjectType[object.type](object, stream);\n  } else {\n    streamGeometry(object, stream);\n  }\n}\n","import adder from \"./adder\";\nimport {atan2, cos, quarterPi, radians, sin, tau} from \"./math\";\nimport noop from \"./noop\";\nimport stream from \"./stream\";\n\nexport var areaRingSum = adder();\n\nvar areaSum = adder(),\n    lambda00,\n    phi00,\n    lambda0,\n    cosPhi0,\n    sinPhi0;\n\nexport var areaStream = {\n  point: noop,\n  lineStart: noop,\n  lineEnd: noop,\n  polygonStart: function() {\n    areaRingSum.reset();\n    areaStream.lineStart = areaRingStart;\n    areaStream.lineEnd = areaRingEnd;\n  },\n  polygonEnd: function() {\n    var areaRing = +areaRingSum;\n    areaSum.add(areaRing < 0 ? tau + areaRing : areaRing);\n    this.lineStart = this.lineEnd = this.point = noop;\n  },\n  sphere: function() {\n    areaSum.add(tau);\n  }\n};\n\nfunction areaRingStart() {\n  areaStream.point = areaPointFirst;\n}\n\nfunction areaRingEnd() {\n  areaPoint(lambda00, phi00);\n}\n\nfunction areaPointFirst(lambda, phi) {\n  areaStream.point = areaPoint;\n  lambda00 = lambda, phi00 = phi;\n  lambda *= radians, phi *= radians;\n  lambda0 = lambda, cosPhi0 = cos(phi = phi / 2 + quarterPi), sinPhi0 = sin(phi);\n}\n\nfunction areaPoint(lambda, phi) {\n  lambda *= radians, phi *= radians;\n  phi = phi / 2 + quarterPi; // half the angular distance from south pole\n\n  // Spherical excess E for a spherical triangle with vertices: south pole,\n  // previous point, current point.  Uses a formula derived from Cagnolis\n  // theorem.  See Todhunter, Spherical Trig. (1871), Sec. 103, Eq. (2).\n  var dLambda = lambda - lambda0,\n      sdLambda = dLambda >= 0 ? 1 : -1,\n      adLambda = sdLambda * dLambda,\n      cosPhi = cos(phi),\n      sinPhi = sin(phi),\n      k = sinPhi0 * sinPhi,\n      u = cosPhi0 * cosPhi + k * cos(adLambda),\n      v = k * sdLambda * sin(adLambda);\n  areaRingSum.add(atan2(v, u));\n\n  // Advance the previous points.\n  lambda0 = lambda, cosPhi0 = cosPhi, sinPhi0 = sinPhi;\n}\n\nexport default function(object) {\n  areaSum.reset();\n  stream(object, areaStream);\n  return areaSum * 2;\n}\n","import {asin, atan2, cos, sin, sqrt} from \"./math\";\n\nexport function spherical(cartesian) {\n  return [atan2(cartesian[1], cartesian[0]), asin(cartesian[2])];\n}\n\nexport function cartesian(spherical) {\n  var lambda = spherical[0], phi = spherical[1], cosPhi = cos(phi);\n  return [cosPhi * cos(lambda), cosPhi * sin(lambda), sin(phi)];\n}\n\nexport function cartesianDot(a, b) {\n  return a[0] * b[0] + a[1] * b[1] + a[2] * b[2];\n}\n\nexport function cartesianCross(a, b) {\n  return [a[1] * b[2] - a[2] * b[1], a[2] * b[0] - a[0] * b[2], a[0] * b[1] - a[1] * b[0]];\n}\n\n// TODO return a\nexport function cartesianAddInPlace(a, b) {\n  a[0] += b[0], a[1] += b[1], a[2] += b[2];\n}\n\nexport function cartesianScale(vector, k) {\n  return [vector[0] * k, vector[1] * k, vector[2] * k];\n}\n\n// TODO return d\nexport function cartesianNormalizeInPlace(d) {\n  var l = sqrt(d[0] * d[0] + d[1] * d[1] + d[2] * d[2]);\n  d[0] /= l, d[1] /= l, d[2] /= l;\n}\n","import adder from \"./adder\";\nimport {areaStream, areaRingSum} from \"./area\";\nimport {cartesian, cartesianCross, cartesianNormalizeInPlace, spherical} from \"./cartesian\";\nimport {abs, degrees, epsilon, radians} from \"./math\";\nimport stream from \"./stream\";\n\nvar lambda0, phi0, lambda1, phi1, // bounds\n    lambda2, // previous lambda-coordinate\n    lambda00, phi00, // first point\n    p0, // previous 3D point\n    deltaSum = adder(),\n    ranges,\n    range;\n\nvar boundsStream = {\n  point: boundsPoint,\n  lineStart: boundsLineStart,\n  lineEnd: boundsLineEnd,\n  polygonStart: function() {\n    boundsStream.point = boundsRingPoint;\n    boundsStream.lineStart = boundsRingStart;\n    boundsStream.lineEnd = boundsRingEnd;\n    deltaSum.reset();\n    areaStream.polygonStart();\n  },\n  polygonEnd: function() {\n    areaStream.polygonEnd();\n    boundsStream.point = boundsPoint;\n    boundsStream.lineStart = boundsLineStart;\n    boundsStream.lineEnd = boundsLineEnd;\n    if (areaRingSum < 0) lambda0 = -(lambda1 = 180), phi0 = -(phi1 = 90);\n    else if (deltaSum > epsilon) phi1 = 90;\n    else if (deltaSum < -epsilon) phi0 = -90;\n    range[0] = lambda0, range[1] = lambda1;\n  },\n  sphere: function() {\n    lambda0 = -(lambda1 = 180), phi0 = -(phi1 = 90);\n  }\n};\n\nfunction boundsPoint(lambda, phi) {\n  ranges.push(range = [lambda0 = lambda, lambda1 = lambda]);\n  if (phi < phi0) phi0 = phi;\n  if (phi > phi1) phi1 = phi;\n}\n\nfunction linePoint(lambda, phi) {\n  var p = cartesian([lambda * radians, phi * radians]);\n  if (p0) {\n    var normal = cartesianCross(p0, p),\n        equatorial = [normal[1], -normal[0], 0],\n        inflection = cartesianCross(equatorial, normal);\n    cartesianNormalizeInPlace(inflection);\n    inflection = spherical(inflection);\n    var delta = lambda - lambda2,\n        sign = delta > 0 ? 1 : -1,\n        lambdai = inflection[0] * degrees * sign,\n        phii,\n        antimeridian = abs(delta) > 180;\n    if (antimeridian ^ (sign * lambda2 < lambdai && lambdai < sign * lambda)) {\n      phii = inflection[1] * degrees;\n      if (phii > phi1) phi1 = phii;\n    } else if (lambdai = (lambdai + 360) % 360 - 180, antimeridian ^ (sign * lambda2 < lambdai && lambdai < sign * lambda)) {\n      phii = -inflection[1] * degrees;\n      if (phii < phi0) phi0 = phii;\n    } else {\n      if (phi < phi0) phi0 = phi;\n      if (phi > phi1) phi1 = phi;\n    }\n    if (antimeridian) {\n      if (lambda < lambda2) {\n        if (angle(lambda0, lambda) > angle(lambda0, lambda1)) lambda1 = lambda;\n      } else {\n        if (angle(lambda, lambda1) > angle(lambda0, lambda1)) lambda0 = lambda;\n      }\n    } else {\n      if (lambda1 >= lambda0) {\n        if (lambda < lambda0) lambda0 = lambda;\n        if (lambda > lambda1) lambda1 = lambda;\n      } else {\n        if (lambda > lambda2) {\n          if (angle(lambda0, lambda) > angle(lambda0, lambda1)) lambda1 = lambda;\n        } else {\n          if (angle(lambda, lambda1) > angle(lambda0, lambda1)) lambda0 = lambda;\n        }\n      }\n    }\n  } else {\n    ranges.push(range = [lambda0 = lambda, lambda1 = lambda]);\n  }\n  if (phi < phi0) phi0 = phi;\n  if (phi > phi1) phi1 = phi;\n  p0 = p, lambda2 = lambda;\n}\n\nfunction boundsLineStart() {\n  boundsStream.point = linePoint;\n}\n\nfunction boundsLineEnd() {\n  range[0] = lambda0, range[1] = lambda1;\n  boundsStream.point = boundsPoint;\n  p0 = null;\n}\n\nfunction boundsRingPoint(lambda, phi) {\n  if (p0) {\n    var delta = lambda - lambda2;\n    deltaSum.add(abs(delta) > 180 ? delta + (delta > 0 ? 360 : -360) : delta);\n  } else {\n    lambda00 = lambda, phi00 = phi;\n  }\n  areaStream.point(lambda, phi);\n  linePoint(lambda, phi);\n}\n\nfunction boundsRingStart() {\n  areaStream.lineStart();\n}\n\nfunction boundsRingEnd() {\n  boundsRingPoint(lambda00, phi00);\n  areaStream.lineEnd();\n  if (abs(deltaSum) > epsilon) lambda0 = -(lambda1 = 180);\n  range[0] = lambda0, range[1] = lambda1;\n  p0 = null;\n}\n\n// Finds the left-right distance between two longitudes.\n// This is almost the same as (lambda1 - lambda0 + 360) % 360, except that we want\n// the distance between 180 to be 360.\nfunction angle(lambda0, lambda1) {\n  return (lambda1 -= lambda0) < 0 ? lambda1 + 360 : lambda1;\n}\n\nfunction rangeCompare(a, b) {\n  return a[0] - b[0];\n}\n\nfunction rangeContains(range, x) {\n  return range[0] <= range[1] ? range[0] <= x && x <= range[1] : x < range[0] || range[1] < x;\n}\n\nexport default function(feature) {\n  var i, n, a, b, merged, deltaMax, delta;\n\n  phi1 = lambda1 = -(lambda0 = phi0 = Infinity);\n  ranges = [];\n  stream(feature, boundsStream);\n\n  // First, sort ranges by their minimum longitudes.\n  if (n = ranges.length) {\n    ranges.sort(rangeCompare);\n\n    // Then, merge any ranges that overlap.\n    for (i = 1, a = ranges[0], merged = [a]; i < n; ++i) {\n      b = ranges[i];\n      if (rangeContains(a, b[0]) || rangeContains(a, b[1])) {\n        if (angle(a[0], b[1]) > angle(a[0], a[1])) a[1] = b[1];\n        if (angle(b[0], a[1]) > angle(a[0], a[1])) a[0] = b[0];\n      } else {\n        merged.push(a = b);\n      }\n    }\n\n    // Finally, find the largest gap between the merged ranges.\n    // The final bounding box will be the inverse of this gap.\n    for (deltaMax = -Infinity, n = merged.length - 1, i = 0, a = merged[n]; i <= n; a = b, ++i) {\n      b = merged[i];\n      if ((delta = angle(a[1], b[0])) > deltaMax) deltaMax = delta, lambda0 = b[0], lambda1 = a[1];\n    }\n  }\n\n  ranges = range = null;\n\n  return lambda0 === Infinity || phi0 === Infinity\n      ? [[NaN, NaN], [NaN, NaN]]\n      : [[lambda0, phi0], [lambda1, phi1]];\n}\n","import {asin, atan2, cos, degrees, epsilon, epsilon2, radians, sin, sqrt} from \"./math\";\nimport noop from \"./noop\";\nimport stream from \"./stream\";\n\nvar W0, W1,\n    X0, Y0, Z0,\n    X1, Y1, Z1,\n    X2, Y2, Z2,\n    lambda00, phi00, // first point\n    x0, y0, z0; // previous point\n\nvar centroidStream = {\n  sphere: noop,\n  point: centroidPoint,\n  lineStart: centroidLineStart,\n  lineEnd: centroidLineEnd,\n  polygonStart: function() {\n    centroidStream.lineStart = centroidRingStart;\n    centroidStream.lineEnd = centroidRingEnd;\n  },\n  polygonEnd: function() {\n    centroidStream.lineStart = centroidLineStart;\n    centroidStream.lineEnd = centroidLineEnd;\n  }\n};\n\n// Arithmetic mean of Cartesian vectors.\nfunction centroidPoint(lambda, phi) {\n  lambda *= radians, phi *= radians;\n  var cosPhi = cos(phi);\n  centroidPointCartesian(cosPhi * cos(lambda), cosPhi * sin(lambda), sin(phi));\n}\n\nfunction centroidPointCartesian(x, y, z) {\n  ++W0;\n  X0 += (x - X0) / W0;\n  Y0 += (y - Y0) / W0;\n  Z0 += (z - Z0) / W0;\n}\n\nfunction centroidLineStart() {\n  centroidStream.point = centroidLinePointFirst;\n}\n\nfunction centroidLinePointFirst(lambda, phi) {\n  lambda *= radians, phi *= radians;\n  var cosPhi = cos(phi);\n  x0 = cosPhi * cos(lambda);\n  y0 = cosPhi * sin(lambda);\n  z0 = sin(phi);\n  centroidStream.point = centroidLinePoint;\n  centroidPointCartesian(x0, y0, z0);\n}\n\nfunction centroidLinePoint(lambda, phi) {\n  lambda *= radians, phi *= radians;\n  var cosPhi = cos(phi),\n      x = cosPhi * cos(lambda),\n      y = cosPhi * sin(lambda),\n      z = sin(phi),\n      w = atan2(sqrt((w = y0 * z - z0 * y) * w + (w = z0 * x - x0 * z) * w + (w = x0 * y - y0 * x) * w), x0 * x + y0 * y + z0 * z);\n  W1 += w;\n  X1 += w * (x0 + (x0 = x));\n  Y1 += w * (y0 + (y0 = y));\n  Z1 += w * (z0 + (z0 = z));\n  centroidPointCartesian(x0, y0, z0);\n}\n\nfunction centroidLineEnd() {\n  centroidStream.point = centroidPoint;\n}\n\n// See J. E. Brock, The Inertia Tensor for a Spherical Triangle,\n// J. Applied Mechanics 42, 239 (1975).\nfunction centroidRingStart() {\n  centroidStream.point = centroidRingPointFirst;\n}\n\nfunction centroidRingEnd() {\n  centroidRingPoint(lambda00, phi00);\n  centroidStream.point = centroidPoint;\n}\n\nfunction centroidRingPointFirst(lambda, phi) {\n  lambda00 = lambda, phi00 = phi;\n  lambda *= radians, phi *= radians;\n  centroidStream.point = centroidRingPoint;\n  var cosPhi = cos(phi);\n  x0 = cosPhi * cos(lambda);\n  y0 = cosPhi * sin(lambda);\n  z0 = sin(phi);\n  centroidPointCartesian(x0, y0, z0);\n}\n\nfunction centroidRingPoint(lambda, phi) {\n  lambda *= radians, phi *= radians;\n  var cosPhi = cos(phi),\n      x = cosPhi * cos(lambda),\n      y = cosPhi * sin(lambda),\n      z = sin(phi),\n      cx = y0 * z - z0 * y,\n      cy = z0 * x - x0 * z,\n      cz = x0 * y - y0 * x,\n      m = sqrt(cx * cx + cy * cy + cz * cz),\n      w = asin(m), // line weight = angle\n      v = m && -w / m; // area weight multiplier\n  X2 += v * cx;\n  Y2 += v * cy;\n  Z2 += v * cz;\n  W1 += w;\n  X1 += w * (x0 + (x0 = x));\n  Y1 += w * (y0 + (y0 = y));\n  Z1 += w * (z0 + (z0 = z));\n  centroidPointCartesian(x0, y0, z0);\n}\n\nexport default function(object) {\n  W0 = W1 =\n  X0 = Y0 = Z0 =\n  X1 = Y1 = Z1 =\n  X2 = Y2 = Z2 = 0;\n  stream(object, centroidStream);\n\n  var x = X2,\n      y = Y2,\n      z = Z2,\n      m = x * x + y * y + z * z;\n\n  // If the area-weighted ccentroid is undefined, fall back to length-weighted ccentroid.\n  if (m < epsilon2) {\n    x = X1, y = Y1, z = Z1;\n    // If the feature has zero length, fall back to arithmetic mean of point vectors.\n    if (W1 < epsilon) x = X0, y = Y0, z = Z0;\n    m = x * x + y * y + z * z;\n    // If the feature still has an undefined ccentroid, then return.\n    if (m < epsilon2) return [NaN, NaN];\n  }\n\n  return [atan2(y, x) * degrees, asin(z / sqrt(m)) * degrees];\n}\n","export default function(x) {\n  return function() {\n    return x;\n  };\n}\n","export default function(a, b) {\n\n  function compose(x, y) {\n    return x = a(x, y), b(x[0], x[1]);\n  }\n\n  if (a.invert && b.invert) compose.invert = function(x, y) {\n    return x = b.invert(x, y), x && a.invert(x[0], x[1]);\n  };\n\n  return compose;\n}\n","import compose from \"./compose\";\nimport {abs, asin, atan2, cos, degrees, pi, radians, sin, tau} from \"./math\";\n\nfunction rotationIdentity(lambda, phi) {\n  return [abs(lambda) > pi ? lambda + Math.round(-lambda / tau) * tau : lambda, phi];\n}\n\nrotationIdentity.invert = rotationIdentity;\n\nexport function rotateRadians(deltaLambda, deltaPhi, deltaGamma) {\n  return (deltaLambda %= tau) ? (deltaPhi || deltaGamma ? compose(rotationLambda(deltaLambda), rotationPhiGamma(deltaPhi, deltaGamma))\n    : rotationLambda(deltaLambda))\n    : (deltaPhi || deltaGamma ? rotationPhiGamma(deltaPhi, deltaGamma)\n    : rotationIdentity);\n}\n\nfunction forwardRotationLambda(deltaLambda) {\n  return function(lambda, phi) {\n    return lambda += deltaLambda, [lambda > pi ? lambda - tau : lambda < -pi ? lambda + tau : lambda, phi];\n  };\n}\n\nfunction rotationLambda(deltaLambda) {\n  var rotation = forwardRotationLambda(deltaLambda);\n  rotation.invert = forwardRotationLambda(-deltaLambda);\n  return rotation;\n}\n\nfunction rotationPhiGamma(deltaPhi, deltaGamma) {\n  var cosDeltaPhi = cos(deltaPhi),\n      sinDeltaPhi = sin(deltaPhi),\n      cosDeltaGamma = cos(deltaGamma),\n      sinDeltaGamma = sin(deltaGamma);\n\n  function rotation(lambda, phi) {\n    var cosPhi = cos(phi),\n        x = cos(lambda) * cosPhi,\n        y = sin(lambda) * cosPhi,\n        z = sin(phi),\n        k = z * cosDeltaPhi + x * sinDeltaPhi;\n    return [\n      atan2(y * cosDeltaGamma - k * sinDeltaGamma, x * cosDeltaPhi - z * sinDeltaPhi),\n      asin(k * cosDeltaGamma + y * sinDeltaGamma)\n    ];\n  }\n\n  rotation.invert = function(lambda, phi) {\n    var cosPhi = cos(phi),\n        x = cos(lambda) * cosPhi,\n        y = sin(lambda) * cosPhi,\n        z = sin(phi),\n        k = z * cosDeltaGamma - y * sinDeltaGamma;\n    return [\n      atan2(y * cosDeltaGamma + z * sinDeltaGamma, x * cosDeltaPhi + k * sinDeltaPhi),\n      asin(k * cosDeltaPhi - x * sinDeltaPhi)\n    ];\n  };\n\n  return rotation;\n}\n\nexport default function(rotate) {\n  rotate = rotateRadians(rotate[0] * radians, rotate[1] * radians, rotate.length > 2 ? rotate[2] * radians : 0);\n\n  function forward(coordinates) {\n    coordinates = rotate(coordinates[0] * radians, coordinates[1] * radians);\n    return coordinates[0] *= degrees, coordinates[1] *= degrees, coordinates;\n  }\n\n  forward.invert = function(coordinates) {\n    coordinates = rotate.invert(coordinates[0] * radians, coordinates[1] * radians);\n    return coordinates[0] *= degrees, coordinates[1] *= degrees, coordinates;\n  };\n\n  return forward;\n}\n","import {cartesian, cartesianNormalizeInPlace, spherical} from \"./cartesian\";\nimport constant from \"./constant\";\nimport {acos, cos, degrees, epsilon, radians, sin, tau} from \"./math\";\nimport {rotateRadians} from \"./rotation\";\n\n// Generates a circle centered at [0, 0], with a given radius and precision.\nexport function circleStream(stream, radius, delta, direction, t0, t1) {\n  if (!delta) return;\n  var cosRadius = cos(radius),\n      sinRadius = sin(radius),\n      step = direction * delta;\n  if (t0 == null) {\n    t0 = radius + direction * tau;\n    t1 = radius - step / 2;\n  } else {\n    t0 = circleRadius(cosRadius, t0);\n    t1 = circleRadius(cosRadius, t1);\n    if (direction > 0 ? t0 < t1 : t0 > t1) t0 += direction * tau;\n  }\n  for (var point, t = t0; direction > 0 ? t > t1 : t < t1; t -= step) {\n    point = spherical([cosRadius, -sinRadius * cos(t), -sinRadius * sin(t)]);\n    stream.point(point[0], point[1]);\n  }\n}\n\n// Returns the signed angle of a cartesian point relative to [cosRadius, 0, 0].\nfunction circleRadius(cosRadius, point) {\n  point = cartesian(point), point[0] -= cosRadius;\n  cartesianNormalizeInPlace(point);\n  var radius = acos(-point[1]);\n  return ((-point[2] < 0 ? -radius : radius) + tau - epsilon) % tau;\n}\n\nexport default function() {\n  var center = constant([0, 0]),\n      radius = constant(90),\n      precision = constant(6),\n      ring,\n      rotate,\n      stream = {point: point};\n\n  function point(x, y) {\n    ring.push(x = rotate(x, y));\n    x[0] *= degrees, x[1] *= degrees;\n  }\n\n  function circle() {\n    var c = center.apply(this, arguments),\n        r = radius.apply(this, arguments) * radians,\n        p = precision.apply(this, arguments) * radians;\n    ring = [];\n    rotate = rotateRadians(-c[0] * radians, -c[1] * radians, 0).invert;\n    circleStream(stream, r, p, 1);\n    c = {type: \"Polygon\", coordinates: [ring]};\n    ring = rotate = null;\n    return c;\n  }\n\n  circle.center = function(_) {\n    return arguments.length ? (center = typeof _ === \"function\" ? _ : constant([+_[0], +_[1]]), circle) : center;\n  };\n\n  circle.radius = function(_) {\n    return arguments.length ? (radius = typeof _ === \"function\" ? _ : constant(+_), circle) : radius;\n  };\n\n  circle.precision = function(_) {\n    return arguments.length ? (precision = typeof _ === \"function\" ? _ : constant(+_), circle) : precision;\n  };\n\n  return circle;\n}\n","import noop from \"../noop\";\n\nexport default function() {\n  var lines = [],\n      line;\n  return {\n    point: function(x, y) {\n      line.push([x, y]);\n    },\n    lineStart: function() {\n      lines.push(line = []);\n    },\n    lineEnd: noop,\n    rejoin: function() {\n      if (lines.length > 1) lines.push(lines.pop().concat(lines.shift()));\n    },\n    result: function() {\n      var result = lines;\n      lines = [];\n      line = null;\n      return result;\n    }\n  };\n}\n","import {abs, epsilon} from \"./math\";\n\nexport default function(a, b) {\n  return abs(a[0] - b[0]) < epsilon && abs(a[1] - b[1]) < epsilon;\n}\n","import pointEqual from \"../pointEqual\";\n\nfunction Intersection(point, points, other, entry) {\n  this.x = point;\n  this.z = points;\n  this.o = other; // another intersection\n  this.e = entry; // is an entry?\n  this.v = false; // visited\n  this.n = this.p = null; // next & previous\n}\n\n// A generalized polygon clipping algorithm: given a polygon that has been cut\n// into its visible line segments, and rejoins the segments by interpolating\n// along the clip edge.\nexport default function(segments, compareIntersection, startInside, interpolate, stream) {\n  var subject = [],\n      clip = [],\n      i,\n      n;\n\n  segments.forEach(function(segment) {\n    if ((n = segment.length - 1) <= 0) return;\n    var n, p0 = segment[0], p1 = segment[n], x;\n\n    // If the first and last points of a segment are coincident, then treat as a\n    // closed ring. TODO if all rings are closed, then the winding order of the\n    // exterior ring should be checked.\n    if (pointEqual(p0, p1)) {\n      stream.lineStart();\n      for (i = 0; i < n; ++i) stream.point((p0 = segment[i])[0], p0[1]);\n      stream.lineEnd();\n      return;\n    }\n\n    subject.push(x = new Intersection(p0, segment, null, true));\n    clip.push(x.o = new Intersection(p0, null, x, false));\n    subject.push(x = new Intersection(p1, segment, null, false));\n    clip.push(x.o = new Intersection(p1, null, x, true));\n  });\n\n  if (!subject.length) return;\n\n  clip.sort(compareIntersection);\n  link(subject);\n  link(clip);\n\n  for (i = 0, n = clip.length; i < n; ++i) {\n    clip[i].e = startInside = !startInside;\n  }\n\n  var start = subject[0],\n      points,\n      point;\n\n  while (1) {\n    // Find first unvisited intersection.\n    var current = start,\n        isSubject = true;\n    while (current.v) if ((current = current.n) === start) return;\n    points = current.z;\n    stream.lineStart();\n    do {\n      current.v = current.o.v = true;\n      if (current.e) {\n        if (isSubject) {\n          for (i = 0, n = points.length; i < n; ++i) stream.point((point = points[i])[0], point[1]);\n        } else {\n          interpolate(current.x, current.n.x, 1, stream);\n        }\n        current = current.n;\n      } else {\n        if (isSubject) {\n          points = current.p.z;\n          for (i = points.length - 1; i >= 0; --i) stream.point((point = points[i])[0], point[1]);\n        } else {\n          interpolate(current.x, current.p.x, -1, stream);\n        }\n        current = current.p;\n      }\n      current = current.o;\n      points = current.z;\n      isSubject = !isSubject;\n    } while (!current.v);\n    stream.lineEnd();\n  }\n}\n\nfunction link(array) {\n  if (!(n = array.length)) return;\n  var n,\n      i = 0,\n      a = array[0],\n      b;\n  while (++i < n) {\n    a.n = b = array[i];\n    b.p = a;\n    a = b;\n  }\n  a.n = b = array[0];\n  b.p = a;\n}\n","import adder from \"./adder\";\nimport {cartesian, cartesianCross, cartesianNormalizeInPlace} from \"./cartesian\";\nimport {abs, asin, atan2, cos, epsilon, halfPi, pi, quarterPi, sign, sin, tau} from \"./math\";\n\nvar sum = adder();\n\nfunction longitude(point) {\n  if (abs(point[0]) <= pi)\n    return point[0];\n  else\n    return sign(point[0]) * ((abs(point[0]) + pi) % tau - pi);\n}\n\nexport default function(polygon, point) {\n  var lambda = longitude(point),\n      phi = point[1],\n      sinPhi = sin(phi),\n      normal = [sin(lambda), -cos(lambda), 0],\n      angle = 0,\n      winding = 0;\n\n  sum.reset();\n\n  if (sinPhi === 1) phi = halfPi + epsilon;\n  else if (sinPhi === -1) phi = -halfPi - epsilon;\n\n  for (var i = 0, n = polygon.length; i < n; ++i) {\n    if (!(m = (ring = polygon[i]).length)) continue;\n    var ring,\n        m,\n        point0 = ring[m - 1],\n        lambda0 = longitude(point0),\n        phi0 = point0[1] / 2 + quarterPi,\n        sinPhi0 = sin(phi0),\n        cosPhi0 = cos(phi0);\n\n    for (var j = 0; j < m; ++j, lambda0 = lambda1, sinPhi0 = sinPhi1, cosPhi0 = cosPhi1, point0 = point1) {\n      var point1 = ring[j],\n          lambda1 = longitude(point1),\n          phi1 = point1[1] / 2 + quarterPi,\n          sinPhi1 = sin(phi1),\n          cosPhi1 = cos(phi1),\n          delta = lambda1 - lambda0,\n          sign = delta >= 0 ? 1 : -1,\n          absDelta = sign * delta,\n          antimeridian = absDelta > pi,\n          k = sinPhi0 * sinPhi1;\n\n      sum.add(atan2(k * sign * sin(absDelta), cosPhi0 * cosPhi1 + k * cos(absDelta)));\n      angle += antimeridian ? delta + sign * tau : delta;\n\n      // Are the longitudes either side of the points meridian (lambda),\n      // and are the latitudes smaller than the parallel (phi)?\n      if (antimeridian ^ lambda0 >= lambda ^ lambda1 >= lambda) {\n        var arc = cartesianCross(cartesian(point0), cartesian(point1));\n        cartesianNormalizeInPlace(arc);\n        var intersection = cartesianCross(normal, arc);\n        cartesianNormalizeInPlace(intersection);\n        var phiArc = (antimeridian ^ delta >= 0 ? -1 : 1) * asin(intersection[2]);\n        if (phi > phiArc || phi === phiArc && (arc[0] || arc[1])) {\n          winding += antimeridian ^ delta >= 0 ? 1 : -1;\n        }\n      }\n    }\n  }\n\n  // First, determine whether the South pole is inside or outside:\n  //\n  // It is inside if:\n  // * the polygon winds around it in a clockwise direction.\n  // * the polygon does not (cumulatively) wind around it, but has a negative\n  //   (counter-clockwise) area.\n  //\n  // Second, count the (signed) number of times a segment crosses a lambda\n  // from the point to the South pole.  If it is zero, then the point is the\n  // same side as the South pole.\n\n  return (angle < -epsilon || angle < epsilon && sum < -epsilon) ^ (winding & 1);\n}\n","export default function(a, b) {\n  return a < b ? -1 : a > b ? 1 : a >= b ? 0 : NaN;\n}\n","import ascending from \"./ascending\";\n\nexport default function(compare) {\n  if (compare.length === 1) compare = ascendingComparator(compare);\n  return {\n    left: function(a, x, lo, hi) {\n      if (lo == null) lo = 0;\n      if (hi == null) hi = a.length;\n      while (lo < hi) {\n        var mid = lo + hi >>> 1;\n        if (compare(a[mid], x) < 0) lo = mid + 1;\n        else hi = mid;\n      }\n      return lo;\n    },\n    right: function(a, x, lo, hi) {\n      if (lo == null) lo = 0;\n      if (hi == null) hi = a.length;\n      while (lo < hi) {\n        var mid = lo + hi >>> 1;\n        if (compare(a[mid], x) > 0) hi = mid;\n        else lo = mid + 1;\n      }\n      return lo;\n    }\n  };\n}\n\nfunction ascendingComparator(f) {\n  return function(d, x) {\n    return ascending(f(d), x);\n  };\n}\n","import ascending from \"./ascending\";\nimport bisector from \"./bisector\";\n\nvar ascendingBisect = bisector(ascending);\nexport var bisectRight = ascendingBisect.right;\nexport var bisectLeft = ascendingBisect.left;\nexport default bisectRight;\n","export default function(start, stop, step) {\n  start = +start, stop = +stop, step = (n = arguments.length) < 2 ? (stop = start, start = 0, 1) : n < 3 ? 1 : +step;\n\n  var i = -1,\n      n = Math.max(0, Math.ceil((stop - start) / step)) | 0,\n      range = new Array(n);\n\n  while (++i < n) {\n    range[i] = start + i * step;\n  }\n\n  return range;\n}\n","export default function(arrays) {\n  var n = arrays.length,\n      m,\n      i = -1,\n      j = 0,\n      merged,\n      array;\n\n  while (++i < n) j += arrays[i].length;\n  merged = new Array(j);\n\n  while (--n >= 0) {\n    array = arrays[n];\n    m = array.length;\n    while (--m >= 0) {\n      merged[--j] = array[m];\n    }\n  }\n\n  return merged;\n}\n","import clipBuffer from \"./buffer\";\nimport clipRejoin from \"./rejoin\";\nimport {epsilon, halfPi} from \"../math\";\nimport polygonContains from \"../polygonContains\";\nimport {merge} from \"d3-array\";\n\nexport default function(pointVisible, clipLine, interpolate, start) {\n  return function(sink) {\n    var line = clipLine(sink),\n        ringBuffer = clipBuffer(),\n        ringSink = clipLine(ringBuffer),\n        polygonStarted = false,\n        polygon,\n        segments,\n        ring;\n\n    var clip = {\n      point: point,\n      lineStart: lineStart,\n      lineEnd: lineEnd,\n      polygonStart: function() {\n        clip.point = pointRing;\n        clip.lineStart = ringStart;\n        clip.lineEnd = ringEnd;\n        segments = [];\n        polygon = [];\n      },\n      polygonEnd: function() {\n        clip.point = point;\n        clip.lineStart = lineStart;\n        clip.lineEnd = lineEnd;\n        segments = merge(segments);\n        var startInside = polygonContains(polygon, start);\n        if (segments.length) {\n          if (!polygonStarted) sink.polygonStart(), polygonStarted = true;\n          clipRejoin(segments, compareIntersection, startInside, interpolate, sink);\n        } else if (startInside) {\n          if (!polygonStarted) sink.polygonStart(), polygonStarted = true;\n          sink.lineStart();\n          interpolate(null, null, 1, sink);\n          sink.lineEnd();\n        }\n        if (polygonStarted) sink.polygonEnd(), polygonStarted = false;\n        segments = polygon = null;\n      },\n      sphere: function() {\n        sink.polygonStart();\n        sink.lineStart();\n        interpolate(null, null, 1, sink);\n        sink.lineEnd();\n        sink.polygonEnd();\n      }\n    };\n\n    function point(lambda, phi) {\n      if (pointVisible(lambda, phi)) sink.point(lambda, phi);\n    }\n\n    function pointLine(lambda, phi) {\n      line.point(lambda, phi);\n    }\n\n    function lineStart() {\n      clip.point = pointLine;\n      line.lineStart();\n    }\n\n    function lineEnd() {\n      clip.point = point;\n      line.lineEnd();\n    }\n\n    function pointRing(lambda, phi) {\n      ring.push([lambda, phi]);\n      ringSink.point(lambda, phi);\n    }\n\n    function ringStart() {\n      ringSink.lineStart();\n      ring = [];\n    }\n\n    function ringEnd() {\n      pointRing(ring[0][0], ring[0][1]);\n      ringSink.lineEnd();\n\n      var clean = ringSink.clean(),\n          ringSegments = ringBuffer.result(),\n          i, n = ringSegments.length, m,\n          segment,\n          point;\n\n      ring.pop();\n      polygon.push(ring);\n      ring = null;\n\n      if (!n) return;\n\n      // No intersections.\n      if (clean & 1) {\n        segment = ringSegments[0];\n        if ((m = segment.length - 1) > 0) {\n          if (!polygonStarted) sink.polygonStart(), polygonStarted = true;\n          sink.lineStart();\n          for (i = 0; i < m; ++i) sink.point((point = segment[i])[0], point[1]);\n          sink.lineEnd();\n        }\n        return;\n      }\n\n      // Rejoin connected segments.\n      // TODO reuse ringBuffer.rejoin()?\n      if (n > 1 && clean & 2) ringSegments.push(ringSegments.pop().concat(ringSegments.shift()));\n\n      segments.push(ringSegments.filter(validSegment));\n    }\n\n    return clip;\n  };\n}\n\nfunction validSegment(segment) {\n  return segment.length > 1;\n}\n\n// Intersections are sorted along the clip edge. For both antimeridian cutting\n// and circle clipping, the same comparison is used.\nfunction compareIntersection(a, b) {\n  return ((a = a.x)[0] < 0 ? a[1] - halfPi - epsilon : halfPi - a[1])\n       - ((b = b.x)[0] < 0 ? b[1] - halfPi - epsilon : halfPi - b[1]);\n}\n","import clip from \"./index\";\nimport {abs, atan, cos, epsilon, halfPi, pi, sin} from \"../math\";\n\nexport default clip(\n  function() { return true; },\n  clipAntimeridianLine,\n  clipAntimeridianInterpolate,\n  [-pi, -halfPi]\n);\n\n// Takes a line and cuts into visible segments. Return values: 0 - there were\n// intersections or the line was empty; 1 - no intersections; 2 - there were\n// intersections, and the first and last segments should be rejoined.\nfunction clipAntimeridianLine(stream) {\n  var lambda0 = NaN,\n      phi0 = NaN,\n      sign0 = NaN,\n      clean; // no intersections\n\n  return {\n    lineStart: function() {\n      stream.lineStart();\n      clean = 1;\n    },\n    point: function(lambda1, phi1) {\n      var sign1 = lambda1 > 0 ? pi : -pi,\n          delta = abs(lambda1 - lambda0);\n      if (abs(delta - pi) < epsilon) { // line crosses a pole\n        stream.point(lambda0, phi0 = (phi0 + phi1) / 2 > 0 ? halfPi : -halfPi);\n        stream.point(sign0, phi0);\n        stream.lineEnd();\n        stream.lineStart();\n        stream.point(sign1, phi0);\n        stream.point(lambda1, phi0);\n        clean = 0;\n      } else if (sign0 !== sign1 && delta >= pi) { // line crosses antimeridian\n        if (abs(lambda0 - sign0) < epsilon) lambda0 -= sign0 * epsilon; // handle degeneracies\n        if (abs(lambda1 - sign1) < epsilon) lambda1 -= sign1 * epsilon;\n        phi0 = clipAntimeridianIntersect(lambda0, phi0, lambda1, phi1);\n        stream.point(sign0, phi0);\n        stream.lineEnd();\n        stream.lineStart();\n        stream.point(sign1, phi0);\n        clean = 0;\n      }\n      stream.point(lambda0 = lambda1, phi0 = phi1);\n      sign0 = sign1;\n    },\n    lineEnd: function() {\n      stream.lineEnd();\n      lambda0 = phi0 = NaN;\n    },\n    clean: function() {\n      return 2 - clean; // if intersections, rejoin first and last segments\n    }\n  };\n}\n\nfunction clipAntimeridianIntersect(lambda0, phi0, lambda1, phi1) {\n  var cosPhi0,\n      cosPhi1,\n      sinLambda0Lambda1 = sin(lambda0 - lambda1);\n  return abs(sinLambda0Lambda1) > epsilon\n      ? atan((sin(phi0) * (cosPhi1 = cos(phi1)) * sin(lambda1)\n          - sin(phi1) * (cosPhi0 = cos(phi0)) * sin(lambda0))\n          / (cosPhi0 * cosPhi1 * sinLambda0Lambda1))\n      : (phi0 + phi1) / 2;\n}\n\nfunction clipAntimeridianInterpolate(from, to, direction, stream) {\n  var phi;\n  if (from == null) {\n    phi = direction * halfPi;\n    stream.point(-pi, phi);\n    stream.point(0, phi);\n    stream.point(pi, phi);\n    stream.point(pi, 0);\n    stream.point(pi, -phi);\n    stream.point(0, -phi);\n    stream.point(-pi, -phi);\n    stream.point(-pi, 0);\n    stream.point(-pi, phi);\n  } else if (abs(from[0] - to[0]) > epsilon) {\n    var lambda = from[0] < to[0] ? pi : -pi;\n    phi = direction * lambda / 2;\n    stream.point(-lambda, phi);\n    stream.point(0, phi);\n    stream.point(lambda, phi);\n  } else {\n    stream.point(to[0], to[1]);\n  }\n}\n","import {cartesian, cartesianAddInPlace, cartesianCross, cartesianDot, cartesianScale, spherical} from \"../cartesian\";\nimport {circleStream} from \"../circle\";\nimport {abs, cos, epsilon, pi, radians, sqrt} from \"../math\";\nimport pointEqual from \"../pointEqual\";\nimport clip from \"./index\";\n\nexport default function(radius) {\n  var cr = cos(radius),\n      delta = 6 * radians,\n      smallRadius = cr > 0,\n      notHemisphere = abs(cr) > epsilon; // TODO optimise for this common case\n\n  function interpolate(from, to, direction, stream) {\n    circleStream(stream, radius, delta, direction, from, to);\n  }\n\n  function visible(lambda, phi) {\n    return cos(lambda) * cos(phi) > cr;\n  }\n\n  // Takes a line and cuts into visible segments. Return values used for polygon\n  // clipping: 0 - there were intersections or the line was empty; 1 - no\n  // intersections 2 - there were intersections, and the first and last segments\n  // should be rejoined.\n  function clipLine(stream) {\n    var point0, // previous point\n        c0, // code for previous point\n        v0, // visibility of previous point\n        v00, // visibility of first point\n        clean; // no intersections\n    return {\n      lineStart: function() {\n        v00 = v0 = false;\n        clean = 1;\n      },\n      point: function(lambda, phi) {\n        var point1 = [lambda, phi],\n            point2,\n            v = visible(lambda, phi),\n            c = smallRadius\n              ? v ? 0 : code(lambda, phi)\n              : v ? code(lambda + (lambda < 0 ? pi : -pi), phi) : 0;\n        if (!point0 && (v00 = v0 = v)) stream.lineStart();\n        // Handle degeneracies.\n        // TODO ignore if not clipping polygons.\n        if (v !== v0) {\n          point2 = intersect(point0, point1);\n          if (!point2 || pointEqual(point0, point2) || pointEqual(point1, point2)) {\n            point1[0] += epsilon;\n            point1[1] += epsilon;\n            v = visible(point1[0], point1[1]);\n          }\n        }\n        if (v !== v0) {\n          clean = 0;\n          if (v) {\n            // outside going in\n            stream.lineStart();\n            point2 = intersect(point1, point0);\n            stream.point(point2[0], point2[1]);\n          } else {\n            // inside going out\n            point2 = intersect(point0, point1);\n            stream.point(point2[0], point2[1]);\n            stream.lineEnd();\n          }\n          point0 = point2;\n        } else if (notHemisphere && point0 && smallRadius ^ v) {\n          var t;\n          // If the codes for two points are different, or are both zero,\n          // and there this segment intersects with the small circle.\n          if (!(c & c0) && (t = intersect(point1, point0, true))) {\n            clean = 0;\n            if (smallRadius) {\n              stream.lineStart();\n              stream.point(t[0][0], t[0][1]);\n              stream.point(t[1][0], t[1][1]);\n              stream.lineEnd();\n            } else {\n              stream.point(t[1][0], t[1][1]);\n              stream.lineEnd();\n              stream.lineStart();\n              stream.point(t[0][0], t[0][1]);\n            }\n          }\n        }\n        if (v && (!point0 || !pointEqual(point0, point1))) {\n          stream.point(point1[0], point1[1]);\n        }\n        point0 = point1, v0 = v, c0 = c;\n      },\n      lineEnd: function() {\n        if (v0) stream.lineEnd();\n        point0 = null;\n      },\n      // Rejoin first and last segments if there were intersections and the first\n      // and last points were visible.\n      clean: function() {\n        return clean | ((v00 && v0) << 1);\n      }\n    };\n  }\n\n  // Intersects the great circle between a and b with the clip circle.\n  function intersect(a, b, two) {\n    var pa = cartesian(a),\n        pb = cartesian(b);\n\n    // We have two planes, n1.p = d1 and n2.p = d2.\n    // Find intersection line p(t) = c1 n1 + c2 n2 + t (n1  n2).\n    var n1 = [1, 0, 0], // normal\n        n2 = cartesianCross(pa, pb),\n        n2n2 = cartesianDot(n2, n2),\n        n1n2 = n2[0], // cartesianDot(n1, n2),\n        determinant = n2n2 - n1n2 * n1n2;\n\n    // Two polar points.\n    if (!determinant) return !two && a;\n\n    var c1 =  cr * n2n2 / determinant,\n        c2 = -cr * n1n2 / determinant,\n        n1xn2 = cartesianCross(n1, n2),\n        A = cartesianScale(n1, c1),\n        B = cartesianScale(n2, c2);\n    cartesianAddInPlace(A, B);\n\n    // Solve |p(t)|^2 = 1.\n    var u = n1xn2,\n        w = cartesianDot(A, u),\n        uu = cartesianDot(u, u),\n        t2 = w * w - uu * (cartesianDot(A, A) - 1);\n\n    if (t2 < 0) return;\n\n    var t = sqrt(t2),\n        q = cartesianScale(u, (-w - t) / uu);\n    cartesianAddInPlace(q, A);\n    q = spherical(q);\n\n    if (!two) return q;\n\n    // Two intersection points.\n    var lambda0 = a[0],\n        lambda1 = b[0],\n        phi0 = a[1],\n        phi1 = b[1],\n        z;\n\n    if (lambda1 < lambda0) z = lambda0, lambda0 = lambda1, lambda1 = z;\n\n    var delta = lambda1 - lambda0,\n        polar = abs(delta - pi) < epsilon,\n        meridian = polar || delta < epsilon;\n\n    if (!polar && phi1 < phi0) z = phi0, phi0 = phi1, phi1 = z;\n\n    // Check that the first point is between a and b.\n    if (meridian\n        ? polar\n          ? phi0 + phi1 > 0 ^ q[1] < (abs(q[0] - lambda0) < epsilon ? phi0 : phi1)\n          : phi0 <= q[1] && q[1] <= phi1\n        : delta > pi ^ (lambda0 <= q[0] && q[0] <= lambda1)) {\n      var q1 = cartesianScale(u, (-w + t) / uu);\n      cartesianAddInPlace(q1, A);\n      return [q, spherical(q1)];\n    }\n  }\n\n  // Generates a 4-bit vector representing the location of a point relative to\n  // the small circle's bounding box.\n  function code(lambda, phi) {\n    var r = smallRadius ? radius : pi - radius,\n        code = 0;\n    if (lambda < -r) code |= 1; // left\n    else if (lambda > r) code |= 2; // right\n    if (phi < -r) code |= 4; // below\n    else if (phi > r) code |= 8; // above\n    return code;\n  }\n\n  return clip(visible, clipLine, interpolate, smallRadius ? [0, -radius] : [-pi, radius - pi]);\n}\n","import {abs, epsilon} from \"../math\";\nimport clipBuffer from \"./buffer\";\nimport clipLine from \"./line\";\nimport clipRejoin from \"./rejoin\";\nimport {merge} from \"d3-array\";\n\nvar clipMax = 1e9, clipMin = -clipMax;\n\n// TODO Use d3-polygons polygonContains here for the ring check?\n// TODO Eliminate duplicate buffering in clipBuffer and polygon.push?\n\nexport default function clipRectangle(x0, y0, x1, y1) {\n\n  function visible(x, y) {\n    return x0 <= x && x <= x1 && y0 <= y && y <= y1;\n  }\n\n  function interpolate(from, to, direction, stream) {\n    var a = 0, a1 = 0;\n    if (from == null\n        || (a = corner(from, direction)) !== (a1 = corner(to, direction))\n        || comparePoint(from, to) < 0 ^ direction > 0) {\n      do stream.point(a === 0 || a === 3 ? x0 : x1, a > 1 ? y1 : y0);\n      while ((a = (a + direction + 4) % 4) !== a1);\n    } else {\n      stream.point(to[0], to[1]);\n    }\n  }\n\n  function corner(p, direction) {\n    return abs(p[0] - x0) < epsilon ? direction > 0 ? 0 : 3\n        : abs(p[0] - x1) < epsilon ? direction > 0 ? 2 : 1\n        : abs(p[1] - y0) < epsilon ? direction > 0 ? 1 : 0\n        : direction > 0 ? 3 : 2; // abs(p[1] - y1) < epsilon\n  }\n\n  function compareIntersection(a, b) {\n    return comparePoint(a.x, b.x);\n  }\n\n  function comparePoint(a, b) {\n    var ca = corner(a, 1),\n        cb = corner(b, 1);\n    return ca !== cb ? ca - cb\n        : ca === 0 ? b[1] - a[1]\n        : ca === 1 ? a[0] - b[0]\n        : ca === 2 ? a[1] - b[1]\n        : b[0] - a[0];\n  }\n\n  return function(stream) {\n    var activeStream = stream,\n        bufferStream = clipBuffer(),\n        segments,\n        polygon,\n        ring,\n        x__, y__, v__, // first point\n        x_, y_, v_, // previous point\n        first,\n        clean;\n\n    var clipStream = {\n      point: point,\n      lineStart: lineStart,\n      lineEnd: lineEnd,\n      polygonStart: polygonStart,\n      polygonEnd: polygonEnd\n    };\n\n    function point(x, y) {\n      if (visible(x, y)) activeStream.point(x, y);\n    }\n\n    function polygonInside() {\n      var winding = 0;\n\n      for (var i = 0, n = polygon.length; i < n; ++i) {\n        for (var ring = polygon[i], j = 1, m = ring.length, point = ring[0], a0, a1, b0 = point[0], b1 = point[1]; j < m; ++j) {\n          a0 = b0, a1 = b1, point = ring[j], b0 = point[0], b1 = point[1];\n          if (a1 <= y1) { if (b1 > y1 && (b0 - a0) * (y1 - a1) > (b1 - a1) * (x0 - a0)) ++winding; }\n          else { if (b1 <= y1 && (b0 - a0) * (y1 - a1) < (b1 - a1) * (x0 - a0)) --winding; }\n        }\n      }\n\n      return winding;\n    }\n\n    // Buffer geometry within a polygon and then clip it en masse.\n    function polygonStart() {\n      activeStream = bufferStream, segments = [], polygon = [], clean = true;\n    }\n\n    function polygonEnd() {\n      var startInside = polygonInside(),\n          cleanInside = clean && startInside,\n          visible = (segments = merge(segments)).length;\n      if (cleanInside || visible) {\n        stream.polygonStart();\n        if (cleanInside) {\n          stream.lineStart();\n          interpolate(null, null, 1, stream);\n          stream.lineEnd();\n        }\n        if (visible) {\n          clipRejoin(segments, compareIntersection, startInside, interpolate, stream);\n        }\n        stream.polygonEnd();\n      }\n      activeStream = stream, segments = polygon = ring = null;\n    }\n\n    function lineStart() {\n      clipStream.point = linePoint;\n      if (polygon) polygon.push(ring = []);\n      first = true;\n      v_ = false;\n      x_ = y_ = NaN;\n    }\n\n    // TODO rather than special-case polygons, simply handle them separately.\n    // Ideally, coincident intersection points should be jittered to avoid\n    // clipping issues.\n    function lineEnd() {\n      if (segments) {\n        linePoint(x__, y__);\n        if (v__ && v_) bufferStream.rejoin();\n        segments.push(bufferStream.result());\n      }\n      clipStream.point = point;\n      if (v_) activeStream.lineEnd();\n    }\n\n    function linePoint(x, y) {\n      var v = visible(x, y);\n      if (polygon) ring.push([x, y]);\n      if (first) {\n        x__ = x, y__ = y, v__ = v;\n        first = false;\n        if (v) {\n          activeStream.lineStart();\n          activeStream.point(x, y);\n        }\n      } else {\n        if (v && v_) activeStream.point(x, y);\n        else {\n          var a = [x_ = Math.max(clipMin, Math.min(clipMax, x_)), y_ = Math.max(clipMin, Math.min(clipMax, y_))],\n              b = [x = Math.max(clipMin, Math.min(clipMax, x)), y = Math.max(clipMin, Math.min(clipMax, y))];\n          if (clipLine(a, b, x0, y0, x1, y1)) {\n            if (!v_) {\n              activeStream.lineStart();\n              activeStream.point(a[0], a[1]);\n            }\n            activeStream.point(b[0], b[1]);\n            if (!v) activeStream.lineEnd();\n            clean = false;\n          } else if (v) {\n            activeStream.lineStart();\n            activeStream.point(x, y);\n            clean = false;\n          }\n        }\n      }\n      x_ = x, y_ = y, v_ = v;\n    }\n\n    return clipStream;\n  };\n}\n","export default function(a, b, x0, y0, x1, y1) {\n  var ax = a[0],\n      ay = a[1],\n      bx = b[0],\n      by = b[1],\n      t0 = 0,\n      t1 = 1,\n      dx = bx - ax,\n      dy = by - ay,\n      r;\n\n  r = x0 - ax;\n  if (!dx && r > 0) return;\n  r /= dx;\n  if (dx < 0) {\n    if (r < t0) return;\n    if (r < t1) t1 = r;\n  } else if (dx > 0) {\n    if (r > t1) return;\n    if (r > t0) t0 = r;\n  }\n\n  r = x1 - ax;\n  if (!dx && r < 0) return;\n  r /= dx;\n  if (dx < 0) {\n    if (r > t1) return;\n    if (r > t0) t0 = r;\n  } else if (dx > 0) {\n    if (r < t0) return;\n    if (r < t1) t1 = r;\n  }\n\n  r = y0 - ay;\n  if (!dy && r > 0) return;\n  r /= dy;\n  if (dy < 0) {\n    if (r < t0) return;\n    if (r < t1) t1 = r;\n  } else if (dy > 0) {\n    if (r > t1) return;\n    if (r > t0) t0 = r;\n  }\n\n  r = y1 - ay;\n  if (!dy && r < 0) return;\n  r /= dy;\n  if (dy < 0) {\n    if (r > t1) return;\n    if (r > t0) t0 = r;\n  } else if (dy > 0) {\n    if (r < t0) return;\n    if (r < t1) t1 = r;\n  }\n\n  if (t0 > 0) a[0] = ax + t0 * dx, a[1] = ay + t0 * dy;\n  if (t1 < 1) b[0] = ax + t1 * dx, b[1] = ay + t1 * dy;\n  return true;\n}\n","import adder from \"./adder\";\nimport {abs, atan2, cos, radians, sin, sqrt} from \"./math\";\nimport noop from \"./noop\";\nimport stream from \"./stream\";\n\nvar lengthSum = adder(),\n    lambda0,\n    sinPhi0,\n    cosPhi0;\n\nvar lengthStream = {\n  sphere: noop,\n  point: noop,\n  lineStart: lengthLineStart,\n  lineEnd: noop,\n  polygonStart: noop,\n  polygonEnd: noop\n};\n\nfunction lengthLineStart() {\n  lengthStream.point = lengthPointFirst;\n  lengthStream.lineEnd = lengthLineEnd;\n}\n\nfunction lengthLineEnd() {\n  lengthStream.point = lengthStream.lineEnd = noop;\n}\n\nfunction lengthPointFirst(lambda, phi) {\n  lambda *= radians, phi *= radians;\n  lambda0 = lambda, sinPhi0 = sin(phi), cosPhi0 = cos(phi);\n  lengthStream.point = lengthPoint;\n}\n\nfunction lengthPoint(lambda, phi) {\n  lambda *= radians, phi *= radians;\n  var sinPhi = sin(phi),\n      cosPhi = cos(phi),\n      delta = abs(lambda - lambda0),\n      cosDelta = cos(delta),\n      sinDelta = sin(delta),\n      x = cosPhi * sinDelta,\n      y = cosPhi0 * sinPhi - sinPhi0 * cosPhi * cosDelta,\n      z = sinPhi0 * sinPhi + cosPhi0 * cosPhi * cosDelta;\n  lengthSum.add(atan2(sqrt(x * x + y * y), z));\n  lambda0 = lambda, sinPhi0 = sinPhi, cosPhi0 = cosPhi;\n}\n\nexport default function(object) {\n  lengthSum.reset();\n  stream(object, lengthStream);\n  return +lengthSum;\n}\n","import length from \"./length\";\n\nvar coordinates = [null, null],\n    object = {type: \"LineString\", coordinates: coordinates};\n\nexport default function(a, b) {\n  coordinates[0] = a;\n  coordinates[1] = b;\n  return length(object);\n}\n","import {default as polygonContains} from \"./polygonContains\";\nimport {default as distance} from \"./distance\";\nimport {epsilon2, radians} from \"./math\";\n\nvar containsObjectType = {\n  Feature: function(object, point) {\n    return containsGeometry(object.geometry, point);\n  },\n  FeatureCollection: function(object, point) {\n    var features = object.features, i = -1, n = features.length;\n    while (++i < n) if (containsGeometry(features[i].geometry, point)) return true;\n    return false;\n  }\n};\n\nvar containsGeometryType = {\n  Sphere: function() {\n    return true;\n  },\n  Point: function(object, point) {\n    return containsPoint(object.coordinates, point);\n  },\n  MultiPoint: function(object, point) {\n    var coordinates = object.coordinates, i = -1, n = coordinates.length;\n    while (++i < n) if (containsPoint(coordinates[i], point)) return true;\n    return false;\n  },\n  LineString: function(object, point) {\n    return containsLine(object.coordinates, point);\n  },\n  MultiLineString: function(object, point) {\n    var coordinates = object.coordinates, i = -1, n = coordinates.length;\n    while (++i < n) if (containsLine(coordinates[i], point)) return true;\n    return false;\n  },\n  Polygon: function(object, point) {\n    return containsPolygon(object.coordinates, point);\n  },\n  MultiPolygon: function(object, point) {\n    var coordinates = object.coordinates, i = -1, n = coordinates.length;\n    while (++i < n) if (containsPolygon(coordinates[i], point)) return true;\n    return false;\n  },\n  GeometryCollection: function(object, point) {\n    var geometries = object.geometries, i = -1, n = geometries.length;\n    while (++i < n) if (containsGeometry(geometries[i], point)) return true;\n    return false;\n  }\n};\n\nfunction containsGeometry(geometry, point) {\n  return geometry && containsGeometryType.hasOwnProperty(geometry.type)\n      ? containsGeometryType[geometry.type](geometry, point)\n      : false;\n}\n\nfunction containsPoint(coordinates, point) {\n  return distance(coordinates, point) === 0;\n}\n\nfunction containsLine(coordinates, point) {\n  var ao, bo, ab;\n  for (var i = 0, n = coordinates.length; i < n; i++) {\n    bo = distance(coordinates[i], point);\n    if (bo === 0) return true;\n    if (i > 0) {\n      ab = distance(coordinates[i], coordinates[i - 1]);\n      if (\n        ab > 0 &&\n        ao <= ab &&\n        bo <= ab &&\n        (ao + bo - ab) * (1 - Math.pow((ao - bo) / ab, 2)) < epsilon2 * ab\n      )\n        return true;\n    }\n    ao = bo;\n  }\n  return false;\n}\n\nfunction containsPolygon(coordinates, point) {\n  return !!polygonContains(coordinates.map(ringRadians), pointRadians(point));\n}\n\nfunction ringRadians(ring) {\n  return ring = ring.map(pointRadians), ring.pop(), ring;\n}\n\nfunction pointRadians(point) {\n  return [point[0] * radians, point[1] * radians];\n}\n\nexport default function(object, point) {\n  return (object && containsObjectType.hasOwnProperty(object.type)\n      ? containsObjectType[object.type]\n      : containsGeometry)(object, point);\n}\n","import {range} from \"d3-array\";\nimport {abs, ceil, epsilon} from \"./math\";\n\nfunction graticuleX(y0, y1, dy) {\n  var y = range(y0, y1 - epsilon, dy).concat(y1);\n  return function(x) { return y.map(function(y) { return [x, y]; }); };\n}\n\nfunction graticuleY(x0, x1, dx) {\n  var x = range(x0, x1 - epsilon, dx).concat(x1);\n  return function(y) { return x.map(function(x) { return [x, y]; }); };\n}\n\nexport default function graticule() {\n  var x1, x0, X1, X0,\n      y1, y0, Y1, Y0,\n      dx = 10, dy = dx, DX = 90, DY = 360,\n      x, y, X, Y,\n      precision = 2.5;\n\n  function graticule() {\n    return {type: \"MultiLineString\", coordinates: lines()};\n  }\n\n  function lines() {\n    return range(ceil(X0 / DX) * DX, X1, DX).map(X)\n        .concat(range(ceil(Y0 / DY) * DY, Y1, DY).map(Y))\n        .concat(range(ceil(x0 / dx) * dx, x1, dx).filter(function(x) { return abs(x % DX) > epsilon; }).map(x))\n        .concat(range(ceil(y0 / dy) * dy, y1, dy).filter(function(y) { return abs(y % DY) > epsilon; }).map(y));\n  }\n\n  graticule.lines = function() {\n    return lines().map(function(coordinates) { return {type: \"LineString\", coordinates: coordinates}; });\n  };\n\n  graticule.outline = function() {\n    return {\n      type: \"Polygon\",\n      coordinates: [\n        X(X0).concat(\n        Y(Y1).slice(1),\n        X(X1).reverse().slice(1),\n        Y(Y0).reverse().slice(1))\n      ]\n    };\n  };\n\n  graticule.extent = function(_) {\n    if (!arguments.length) return graticule.extentMinor();\n    return graticule.extentMajor(_).extentMinor(_);\n  };\n\n  graticule.extentMajor = function(_) {\n    if (!arguments.length) return [[X0, Y0], [X1, Y1]];\n    X0 = +_[0][0], X1 = +_[1][0];\n    Y0 = +_[0][1], Y1 = +_[1][1];\n    if (X0 > X1) _ = X0, X0 = X1, X1 = _;\n    if (Y0 > Y1) _ = Y0, Y0 = Y1, Y1 = _;\n    return graticule.precision(precision);\n  };\n\n  graticule.extentMinor = function(_) {\n    if (!arguments.length) return [[x0, y0], [x1, y1]];\n    x0 = +_[0][0], x1 = +_[1][0];\n    y0 = +_[0][1], y1 = +_[1][1];\n    if (x0 > x1) _ = x0, x0 = x1, x1 = _;\n    if (y0 > y1) _ = y0, y0 = y1, y1 = _;\n    return graticule.precision(precision);\n  };\n\n  graticule.step = function(_) {\n    if (!arguments.length) return graticule.stepMinor();\n    return graticule.stepMajor(_).stepMinor(_);\n  };\n\n  graticule.stepMajor = function(_) {\n    if (!arguments.length) return [DX, DY];\n    DX = +_[0], DY = +_[1];\n    return graticule;\n  };\n\n  graticule.stepMinor = function(_) {\n    if (!arguments.length) return [dx, dy];\n    dx = +_[0], dy = +_[1];\n    return graticule;\n  };\n\n  graticule.precision = function(_) {\n    if (!arguments.length) return precision;\n    precision = +_;\n    x = graticuleX(y0, y1, 90);\n    y = graticuleY(x0, x1, precision);\n    X = graticuleX(Y0, Y1, 90);\n    Y = graticuleY(X0, X1, precision);\n    return graticule;\n  };\n\n  return graticule\n      .extentMajor([[-180, -90 + epsilon], [180, 90 - epsilon]])\n      .extentMinor([[-180, -80 - epsilon], [180, 80 + epsilon]]);\n}\n\nexport function graticule10() {\n  return graticule()();\n}\n","export default function(x) {\n  return x;\n}\n","import adder from \"../adder\";\nimport {abs} from \"../math\";\nimport noop from \"../noop\";\n\nvar areaSum = adder(),\n    areaRingSum = adder(),\n    x00,\n    y00,\n    x0,\n    y0;\n\nvar areaStream = {\n  point: noop,\n  lineStart: noop,\n  lineEnd: noop,\n  polygonStart: function() {\n    areaStream.lineStart = areaRingStart;\n    areaStream.lineEnd = areaRingEnd;\n  },\n  polygonEnd: function() {\n    areaStream.lineStart = areaStream.lineEnd = areaStream.point = noop;\n    areaSum.add(abs(areaRingSum));\n    areaRingSum.reset();\n  },\n  result: function() {\n    var area = areaSum / 2;\n    areaSum.reset();\n    return area;\n  }\n};\n\nfunction areaRingStart() {\n  areaStream.point = areaPointFirst;\n}\n\nfunction areaPointFirst(x, y) {\n  areaStream.point = areaPoint;\n  x00 = x0 = x, y00 = y0 = y;\n}\n\nfunction areaPoint(x, y) {\n  areaRingSum.add(y0 * x - x0 * y);\n  x0 = x, y0 = y;\n}\n\nfunction areaRingEnd() {\n  areaPoint(x00, y00);\n}\n\nexport default areaStream;\n","import noop from \"../noop\";\n\nvar x0 = Infinity,\n    y0 = x0,\n    x1 = -x0,\n    y1 = x1;\n\nvar boundsStream = {\n  point: boundsPoint,\n  lineStart: noop,\n  lineEnd: noop,\n  polygonStart: noop,\n  polygonEnd: noop,\n  result: function() {\n    var bounds = [[x0, y0], [x1, y1]];\n    x1 = y1 = -(y0 = x0 = Infinity);\n    return bounds;\n  }\n};\n\nfunction boundsPoint(x, y) {\n  if (x < x0) x0 = x;\n  if (x > x1) x1 = x;\n  if (y < y0) y0 = y;\n  if (y > y1) y1 = y;\n}\n\nexport default boundsStream;\n","import {sqrt} from \"../math\";\n\n// TODO Enforce positive area for exterior, negative area for interior?\n\nvar X0 = 0,\n    Y0 = 0,\n    Z0 = 0,\n    X1 = 0,\n    Y1 = 0,\n    Z1 = 0,\n    X2 = 0,\n    Y2 = 0,\n    Z2 = 0,\n    x00,\n    y00,\n    x0,\n    y0;\n\nvar centroidStream = {\n  point: centroidPoint,\n  lineStart: centroidLineStart,\n  lineEnd: centroidLineEnd,\n  polygonStart: function() {\n    centroidStream.lineStart = centroidRingStart;\n    centroidStream.lineEnd = centroidRingEnd;\n  },\n  polygonEnd: function() {\n    centroidStream.point = centroidPoint;\n    centroidStream.lineStart = centroidLineStart;\n    centroidStream.lineEnd = centroidLineEnd;\n  },\n  result: function() {\n    var centroid = Z2 ? [X2 / Z2, Y2 / Z2]\n        : Z1 ? [X1 / Z1, Y1 / Z1]\n        : Z0 ? [X0 / Z0, Y0 / Z0]\n        : [NaN, NaN];\n    X0 = Y0 = Z0 =\n    X1 = Y1 = Z1 =\n    X2 = Y2 = Z2 = 0;\n    return centroid;\n  }\n};\n\nfunction centroidPoint(x, y) {\n  X0 += x;\n  Y0 += y;\n  ++Z0;\n}\n\nfunction centroidLineStart() {\n  centroidStream.point = centroidPointFirstLine;\n}\n\nfunction centroidPointFirstLine(x, y) {\n  centroidStream.point = centroidPointLine;\n  centroidPoint(x0 = x, y0 = y);\n}\n\nfunction centroidPointLine(x, y) {\n  var dx = x - x0, dy = y - y0, z = sqrt(dx * dx + dy * dy);\n  X1 += z * (x0 + x) / 2;\n  Y1 += z * (y0 + y) / 2;\n  Z1 += z;\n  centroidPoint(x0 = x, y0 = y);\n}\n\nfunction centroidLineEnd() {\n  centroidStream.point = centroidPoint;\n}\n\nfunction centroidRingStart() {\n  centroidStream.point = centroidPointFirstRing;\n}\n\nfunction centroidRingEnd() {\n  centroidPointRing(x00, y00);\n}\n\nfunction centroidPointFirstRing(x, y) {\n  centroidStream.point = centroidPointRing;\n  centroidPoint(x00 = x0 = x, y00 = y0 = y);\n}\n\nfunction centroidPointRing(x, y) {\n  var dx = x - x0,\n      dy = y - y0,\n      z = sqrt(dx * dx + dy * dy);\n\n  X1 += z * (x0 + x) / 2;\n  Y1 += z * (y0 + y) / 2;\n  Z1 += z;\n\n  z = y0 * x - x0 * y;\n  X2 += z * (x0 + x);\n  Y2 += z * (y0 + y);\n  Z2 += z * 3;\n  centroidPoint(x0 = x, y0 = y);\n}\n\nexport default centroidStream;\n","import {tau} from \"../math\";\nimport noop from \"../noop\";\n\nexport default function PathContext(context) {\n  this._context = context;\n}\n\nPathContext.prototype = {\n  _radius: 4.5,\n  pointRadius: function(_) {\n    return this._radius = _, this;\n  },\n  polygonStart: function() {\n    this._line = 0;\n  },\n  polygonEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._point = 0;\n  },\n  lineEnd: function() {\n    if (this._line === 0) this._context.closePath();\n    this._point = NaN;\n  },\n  point: function(x, y) {\n    switch (this._point) {\n      case 0: {\n        this._context.moveTo(x, y);\n        this._point = 1;\n        break;\n      }\n      case 1: {\n        this._context.lineTo(x, y);\n        break;\n      }\n      default: {\n        this._context.moveTo(x + this._radius, y);\n        this._context.arc(x, y, this._radius, 0, tau);\n        break;\n      }\n    }\n  },\n  result: noop\n};\n","import adder from \"../adder\";\nimport {sqrt} from \"../math\";\nimport noop from \"../noop\";\n\nvar lengthSum = adder(),\n    lengthRing,\n    x00,\n    y00,\n    x0,\n    y0;\n\nvar lengthStream = {\n  point: noop,\n  lineStart: function() {\n    lengthStream.point = lengthPointFirst;\n  },\n  lineEnd: function() {\n    if (lengthRing) lengthPoint(x00, y00);\n    lengthStream.point = noop;\n  },\n  polygonStart: function() {\n    lengthRing = true;\n  },\n  polygonEnd: function() {\n    lengthRing = null;\n  },\n  result: function() {\n    var length = +lengthSum;\n    lengthSum.reset();\n    return length;\n  }\n};\n\nfunction lengthPointFirst(x, y) {\n  lengthStream.point = lengthPoint;\n  x00 = x0 = x, y00 = y0 = y;\n}\n\nfunction lengthPoint(x, y) {\n  x0 -= x, y0 -= y;\n  lengthSum.add(sqrt(x0 * x0 + y0 * y0));\n  x0 = x, y0 = y;\n}\n\nexport default lengthStream;\n","export default function PathString() {\n  this._string = [];\n}\n\nPathString.prototype = {\n  _radius: 4.5,\n  _circle: circle(4.5),\n  pointRadius: function(_) {\n    if ((_ = +_) !== this._radius) this._radius = _, this._circle = null;\n    return this;\n  },\n  polygonStart: function() {\n    this._line = 0;\n  },\n  polygonEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._point = 0;\n  },\n  lineEnd: function() {\n    if (this._line === 0) this._string.push(\"Z\");\n    this._point = NaN;\n  },\n  point: function(x, y) {\n    switch (this._point) {\n      case 0: {\n        this._string.push(\"M\", x, \",\", y);\n        this._point = 1;\n        break;\n      }\n      case 1: {\n        this._string.push(\"L\", x, \",\", y);\n        break;\n      }\n      default: {\n        if (this._circle == null) this._circle = circle(this._radius);\n        this._string.push(\"M\", x, \",\", y, this._circle);\n        break;\n      }\n    }\n  },\n  result: function() {\n    if (this._string.length) {\n      var result = this._string.join(\"\");\n      this._string = [];\n      return result;\n    } else {\n      return null;\n    }\n  }\n};\n\nfunction circle(radius) {\n  return \"m0,\" + radius\n      + \"a\" + radius + \",\" + radius + \" 0 1,1 0,\" + -2 * radius\n      + \"a\" + radius + \",\" + radius + \" 0 1,1 0,\" + 2 * radius\n      + \"z\";\n}\n","import identity from \"../identity\";\nimport stream from \"../stream\";\nimport pathArea from \"./area\";\nimport pathBounds from \"./bounds\";\nimport pathCentroid from \"./centroid\";\nimport PathContext from \"./context\";\nimport pathMeasure from \"./measure\";\nimport PathString from \"./string\";\n\nexport default function(projection, context) {\n  var pointRadius = 4.5,\n      projectionStream,\n      contextStream;\n\n  function path(object) {\n    if (object) {\n      if (typeof pointRadius === \"function\") contextStream.pointRadius(+pointRadius.apply(this, arguments));\n      stream(object, projectionStream(contextStream));\n    }\n    return contextStream.result();\n  }\n\n  path.area = function(object) {\n    stream(object, projectionStream(pathArea));\n    return pathArea.result();\n  };\n\n  path.measure = function(object) {\n    stream(object, projectionStream(pathMeasure));\n    return pathMeasure.result();\n  };\n\n  path.bounds = function(object) {\n    stream(object, projectionStream(pathBounds));\n    return pathBounds.result();\n  };\n\n  path.centroid = function(object) {\n    stream(object, projectionStream(pathCentroid));\n    return pathCentroid.result();\n  };\n\n  path.projection = function(_) {\n    return arguments.length ? (projectionStream = _ == null ? (projection = null, identity) : (projection = _).stream, path) : projection;\n  };\n\n  path.context = function(_) {\n    if (!arguments.length) return context;\n    contextStream = _ == null ? (context = null, new PathString) : new PathContext(context = _);\n    if (typeof pointRadius !== \"function\") contextStream.pointRadius(pointRadius);\n    return path;\n  };\n\n  path.pointRadius = function(_) {\n    if (!arguments.length) return pointRadius;\n    pointRadius = typeof _ === \"function\" ? _ : (contextStream.pointRadius(+_), +_);\n    return path;\n  };\n\n  return path.projection(projection).context(context);\n}\n","export default function(methods) {\n  return {\n    stream: transformer(methods)\n  };\n}\n\nexport function transformer(methods) {\n  return function(stream) {\n    var s = new TransformStream;\n    for (var key in methods) s[key] = methods[key];\n    s.stream = stream;\n    return s;\n  };\n}\n\nfunction TransformStream() {}\n\nTransformStream.prototype = {\n  constructor: TransformStream,\n  point: function(x, y) { this.stream.point(x, y); },\n  sphere: function() { this.stream.sphere(); },\n  lineStart: function() { this.stream.lineStart(); },\n  lineEnd: function() { this.stream.lineEnd(); },\n  polygonStart: function() { this.stream.polygonStart(); },\n  polygonEnd: function() { this.stream.polygonEnd(); }\n};\n","import {default as geoStream} from \"../stream\";\nimport boundsStream from \"../path/bounds\";\n\nfunction fit(projection, fitBounds, object) {\n  var clip = projection.clipExtent && projection.clipExtent();\n  projection.scale(150).translate([0, 0]);\n  if (clip != null) projection.clipExtent(null);\n  geoStream(object, projection.stream(boundsStream));\n  fitBounds(boundsStream.result());\n  if (clip != null) projection.clipExtent(clip);\n  return projection;\n}\n\nexport function fitExtent(projection, extent, object) {\n  return fit(projection, function(b) {\n    var w = extent[1][0] - extent[0][0],\n        h = extent[1][1] - extent[0][1],\n        k = Math.min(w / (b[1][0] - b[0][0]), h / (b[1][1] - b[0][1])),\n        x = +extent[0][0] + (w - k * (b[1][0] + b[0][0])) / 2,\n        y = +extent[0][1] + (h - k * (b[1][1] + b[0][1])) / 2;\n    projection.scale(150 * k).translate([x, y]);\n  }, object);\n}\n\nexport function fitSize(projection, size, object) {\n  return fitExtent(projection, [[0, 0], size], object);\n}\n\nexport function fitWidth(projection, width, object) {\n  return fit(projection, function(b) {\n    var w = +width,\n        k = w / (b[1][0] - b[0][0]),\n        x = (w - k * (b[1][0] + b[0][0])) / 2,\n        y = -k * b[0][1];\n    projection.scale(150 * k).translate([x, y]);\n  }, object);\n}\n\nexport function fitHeight(projection, height, object) {\n  return fit(projection, function(b) {\n    var h = +height,\n        k = h / (b[1][1] - b[0][1]),\n        x = -k * b[0][0],\n        y = (h - k * (b[1][1] + b[0][1])) / 2;\n    projection.scale(150 * k).translate([x, y]);\n  }, object);\n}\n","import {cartesian} from \"../cartesian\";\nimport {abs, asin, atan2, cos, epsilon, radians, sqrt} from \"../math\";\nimport {transformer} from \"../transform\";\n\nvar maxDepth = 16, // maximum depth of subdivision\n    cosMinDistance = cos(30 * radians); // cos(minimum angular distance)\n\nexport default function(project, delta2) {\n  return +delta2 ? resample(project, delta2) : resampleNone(project);\n}\n\nfunction resampleNone(project) {\n  return transformer({\n    point: function(x, y) {\n      x = project(x, y);\n      this.stream.point(x[0], x[1]);\n    }\n  });\n}\n\nfunction resample(project, delta2) {\n\n  function resampleLineTo(x0, y0, lambda0, a0, b0, c0, x1, y1, lambda1, a1, b1, c1, depth, stream) {\n    var dx = x1 - x0,\n        dy = y1 - y0,\n        d2 = dx * dx + dy * dy;\n    if (d2 > 4 * delta2 && depth--) {\n      var a = a0 + a1,\n          b = b0 + b1,\n          c = c0 + c1,\n          m = sqrt(a * a + b * b + c * c),\n          phi2 = asin(c /= m),\n          lambda2 = abs(abs(c) - 1) < epsilon || abs(lambda0 - lambda1) < epsilon ? (lambda0 + lambda1) / 2 : atan2(b, a),\n          p = project(lambda2, phi2),\n          x2 = p[0],\n          y2 = p[1],\n          dx2 = x2 - x0,\n          dy2 = y2 - y0,\n          dz = dy * dx2 - dx * dy2;\n      if (dz * dz / d2 > delta2 // perpendicular projected distance\n          || abs((dx * dx2 + dy * dy2) / d2 - 0.5) > 0.3 // midpoint close to an end\n          || a0 * a1 + b0 * b1 + c0 * c1 < cosMinDistance) { // angular distance\n        resampleLineTo(x0, y0, lambda0, a0, b0, c0, x2, y2, lambda2, a /= m, b /= m, c, depth, stream);\n        stream.point(x2, y2);\n        resampleLineTo(x2, y2, lambda2, a, b, c, x1, y1, lambda1, a1, b1, c1, depth, stream);\n      }\n    }\n  }\n  return function(stream) {\n    var lambda00, x00, y00, a00, b00, c00, // first point\n        lambda0, x0, y0, a0, b0, c0; // previous point\n\n    var resampleStream = {\n      point: point,\n      lineStart: lineStart,\n      lineEnd: lineEnd,\n      polygonStart: function() { stream.polygonStart(); resampleStream.lineStart = ringStart; },\n      polygonEnd: function() { stream.polygonEnd(); resampleStream.lineStart = lineStart; }\n    };\n\n    function point(x, y) {\n      x = project(x, y);\n      stream.point(x[0], x[1]);\n    }\n\n    function lineStart() {\n      x0 = NaN;\n      resampleStream.point = linePoint;\n      stream.lineStart();\n    }\n\n    function linePoint(lambda, phi) {\n      var c = cartesian([lambda, phi]), p = project(lambda, phi);\n      resampleLineTo(x0, y0, lambda0, a0, b0, c0, x0 = p[0], y0 = p[1], lambda0 = lambda, a0 = c[0], b0 = c[1], c0 = c[2], maxDepth, stream);\n      stream.point(x0, y0);\n    }\n\n    function lineEnd() {\n      resampleStream.point = point;\n      stream.lineEnd();\n    }\n\n    function ringStart() {\n      lineStart();\n      resampleStream.point = ringPoint;\n      resampleStream.lineEnd = ringEnd;\n    }\n\n    function ringPoint(lambda, phi) {\n      linePoint(lambda00 = lambda, phi), x00 = x0, y00 = y0, a00 = a0, b00 = b0, c00 = c0;\n      resampleStream.point = linePoint;\n    }\n\n    function ringEnd() {\n      resampleLineTo(x0, y0, lambda0, a0, b0, c0, x00, y00, lambda00, a00, b00, c00, maxDepth, stream);\n      resampleStream.lineEnd = lineEnd;\n      lineEnd();\n    }\n\n    return resampleStream;\n  };\n}\n","import clipAntimeridian from \"../clip/antimeridian\";\nimport clipCircle from \"../clip/circle\";\nimport clipRectangle from \"../clip/rectangle\";\nimport compose from \"../compose\";\nimport identity from \"../identity\";\nimport {cos, degrees, radians, sin, sqrt} from \"../math\";\nimport {rotateRadians} from \"../rotation\";\nimport {transformer} from \"../transform\";\nimport {fitExtent, fitSize, fitWidth, fitHeight} from \"./fit\";\nimport resample from \"./resample\";\n\nvar transformRadians = transformer({\n  point: function(x, y) {\n    this.stream.point(x * radians, y * radians);\n  }\n});\n\nfunction transformRotate(rotate) {\n  return transformer({\n    point: function(x, y) {\n      var r = rotate(x, y);\n      return this.stream.point(r[0], r[1]);\n    }\n  });\n}\n\nfunction scaleTranslate(k, dx, dy) {\n  function transform(x, y) {\n    return [dx + k * x, dy - k * y];\n  }\n  transform.invert = function(x, y) {\n    return [(x - dx) / k, (dy - y) / k];\n  };\n  return transform;\n}\n\nfunction scaleTranslateRotate(k, dx, dy, alpha) {\n  var cosAlpha = cos(alpha),\n      sinAlpha = sin(alpha),\n      a = cosAlpha * k,\n      b = sinAlpha * k,\n      ai = cosAlpha / k,\n      bi = sinAlpha / k,\n      ci = (sinAlpha * dy - cosAlpha * dx) / k,\n      fi = (sinAlpha * dx + cosAlpha * dy) / k;\n  function transform(x, y) {\n    return [a * x - b * y + dx, dy - b * x - a * y];\n  }\n  transform.invert = function(x, y) {\n    return [ai * x - bi * y + ci, fi - bi * x - ai * y];\n  };\n  return transform;\n}\n\nexport default function projection(project) {\n  return projectionMutator(function() { return project; })();\n}\n\nexport function projectionMutator(projectAt) {\n  var project,\n      k = 150, // scale\n      x = 480, y = 250, // translate\n      lambda = 0, phi = 0, // center\n      deltaLambda = 0, deltaPhi = 0, deltaGamma = 0, rotate, // pre-rotate\n      alpha = 0, // post-rotate\n      theta = null, preclip = clipAntimeridian, // pre-clip angle\n      x0 = null, y0, x1, y1, postclip = identity, // post-clip extent\n      delta2 = 0.5, // precision\n      projectResample,\n      projectTransform,\n      projectRotateTransform,\n      cache,\n      cacheStream;\n\n  function projection(point) {\n    return projectRotateTransform(point[0] * radians, point[1] * radians);\n  }\n\n  function invert(point) {\n    point = projectRotateTransform.invert(point[0], point[1]);\n    return point && [point[0] * degrees, point[1] * degrees];\n  }\n\n  projection.stream = function(stream) {\n    return cache && cacheStream === stream ? cache : cache = transformRadians(transformRotate(rotate)(preclip(projectResample(postclip(cacheStream = stream)))));\n  };\n\n  projection.preclip = function(_) {\n    return arguments.length ? (preclip = _, theta = undefined, reset()) : preclip;\n  };\n\n  projection.postclip = function(_) {\n    return arguments.length ? (postclip = _, x0 = y0 = x1 = y1 = null, reset()) : postclip;\n  };\n\n  projection.clipAngle = function(_) {\n    return arguments.length ? (preclip = +_ ? clipCircle(theta = _ * radians) : (theta = null, clipAntimeridian), reset()) : theta * degrees;\n  };\n\n  projection.clipExtent = function(_) {\n    return arguments.length ? (postclip = _ == null ? (x0 = y0 = x1 = y1 = null, identity) : clipRectangle(x0 = +_[0][0], y0 = +_[0][1], x1 = +_[1][0], y1 = +_[1][1]), reset()) : x0 == null ? null : [[x0, y0], [x1, y1]];\n  };\n\n  projection.scale = function(_) {\n    return arguments.length ? (k = +_, recenter()) : k;\n  };\n\n  projection.translate = function(_) {\n    return arguments.length ? (x = +_[0], y = +_[1], recenter()) : [x, y];\n  };\n\n  projection.center = function(_) {\n    return arguments.length ? (lambda = _[0] % 360 * radians, phi = _[1] % 360 * radians, recenter()) : [lambda * degrees, phi * degrees];\n  };\n\n  projection.rotate = function(_) {\n    return arguments.length ? (deltaLambda = _[0] % 360 * radians, deltaPhi = _[1] % 360 * radians, deltaGamma = _.length > 2 ? _[2] % 360 * radians : 0, recenter()) : [deltaLambda * degrees, deltaPhi * degrees, deltaGamma * degrees];\n  };\n\n  projection.angle = function(_) {\n    return arguments.length ? (alpha = _ % 360 * radians, recenter()) : alpha * degrees;\n  };\n\n  projection.precision = function(_) {\n    return arguments.length ? (projectResample = resample(projectTransform, delta2 = _ * _), reset()) : sqrt(delta2);\n  };\n\n  projection.fitExtent = function(extent, object) {\n    return fitExtent(projection, extent, object);\n  };\n\n  projection.fitSize = function(size, object) {\n    return fitSize(projection, size, object);\n  };\n\n  projection.fitWidth = function(width, object) {\n    return fitWidth(projection, width, object);\n  };\n\n  projection.fitHeight = function(height, object) {\n    return fitHeight(projection, height, object);\n  };\n\n  function recenter() {\n    var center = scaleTranslateRotate(k, 0, 0, alpha).apply(null, project(lambda, phi)),\n        transform = (alpha ? scaleTranslateRotate : scaleTranslate)(k, x - center[0], y - center[1], alpha);\n    rotate = rotateRadians(deltaLambda, deltaPhi, deltaGamma);\n    projectTransform = compose(project, transform);\n    projectRotateTransform = compose(rotate, projectTransform);\n    projectResample = resample(projectTransform, delta2);\n    return reset();\n  }\n\n  function reset() {\n    cache = cacheStream = null;\n    return projection;\n  }\n\n  return function() {\n    project = projectAt.apply(this, arguments);\n    projection.invert = project.invert && invert;\n    return recenter();\n  };\n}\n","import {degrees, pi, radians} from \"../math\";\nimport {projectionMutator} from \"./index\";\n\nexport function conicProjection(projectAt) {\n  var phi0 = 0,\n      phi1 = pi / 3,\n      m = projectionMutator(projectAt),\n      p = m(phi0, phi1);\n\n  p.parallels = function(_) {\n    return arguments.length ? m(phi0 = _[0] * radians, phi1 = _[1] * radians) : [phi0 * degrees, phi1 * degrees];\n  };\n\n  return p;\n}\n","import {abs, asin, atan2, cos, epsilon, sign, sin, sqrt} from \"../math\";\nimport {conicProjection} from \"./conic\";\nimport {cylindricalEqualAreaRaw} from \"./cylindricalEqualArea\";\n\nexport function conicEqualAreaRaw(y0, y1) {\n  var sy0 = sin(y0), n = (sy0 + sin(y1)) / 2;\n\n  // Are the parallels symmetrical around the Equator?\n  if (abs(n) < epsilon) return cylindricalEqualAreaRaw(y0);\n\n  var c = 1 + sy0 * (2 * n - sy0), r0 = sqrt(c) / n;\n\n  function project(x, y) {\n    var r = sqrt(c - 2 * n * sin(y)) / n;\n    return [r * sin(x *= n), r0 - r * cos(x)];\n  }\n\n  project.invert = function(x, y) {\n    var r0y = r0 - y;\n    return [atan2(x, abs(r0y)) / n * sign(r0y), asin((c - (x * x + r0y * r0y) * n * n) / (2 * n))];\n  };\n\n  return project;\n}\n\nexport default function() {\n  return conicProjection(conicEqualAreaRaw)\n      .scale(155.424)\n      .center([0, 33.6442]);\n}\n","import {asin, cos, sin} from \"../math\";\n\nexport function cylindricalEqualAreaRaw(phi0) {\n  var cosPhi0 = cos(phi0);\n\n  function forward(lambda, phi) {\n    return [lambda * cosPhi0, sin(phi) / cosPhi0];\n  }\n\n  forward.invert = function(x, y) {\n    return [x / cosPhi0, asin(y * cosPhi0)];\n  };\n\n  return forward;\n}\n","import conicEqualArea from \"./conicEqualArea\";\n\nexport default function() {\n  return conicEqualArea()\n      .parallels([29.5, 45.5])\n      .scale(1070)\n      .translate([480, 250])\n      .rotate([96, 0])\n      .center([-0.6, 38.7]);\n}\n","import {asin, atan2, cos, sin, sqrt} from \"../math\";\n\nexport function azimuthalRaw(scale) {\n  return function(x, y) {\n    var cx = cos(x),\n        cy = cos(y),\n        k = scale(cx * cy);\n    return [\n      k * cy * sin(x),\n      k * sin(y)\n    ];\n  }\n}\n\nexport function azimuthalInvert(angle) {\n  return function(x, y) {\n    var z = sqrt(x * x + y * y),\n        c = angle(z),\n        sc = sin(c),\n        cc = cos(c);\n    return [\n      atan2(x * sc, z * cc),\n      asin(z && y * sc / z)\n    ];\n  }\n}\n","import {asin, sqrt} from \"../math\";\nimport {azimuthalRaw, azimuthalInvert} from \"./azimuthal\";\nimport projection from \"./index\";\n\nexport var azimuthalEqualAreaRaw = azimuthalRaw(function(cxcy) {\n  return sqrt(2 / (1 + cxcy));\n});\n\nazimuthalEqualAreaRaw.invert = azimuthalInvert(function(z) {\n  return 2 * asin(z / 2);\n});\n\nexport default function() {\n  return projection(azimuthalEqualAreaRaw)\n      .scale(124.75)\n      .clipAngle(180 - 1e-3);\n}\n","import {acos, sin} from \"../math\";\nimport {azimuthalRaw, azimuthalInvert} from \"./azimuthal\";\nimport projection from \"./index\";\n\nexport var azimuthalEquidistantRaw = azimuthalRaw(function(c) {\n  return (c = acos(c)) && c / sin(c);\n});\n\nazimuthalEquidistantRaw.invert = azimuthalInvert(function(z) {\n  return z;\n});\n\nexport default function() {\n  return projection(azimuthalEquidistantRaw)\n      .scale(79.4188)\n      .clipAngle(180 - 1e-3);\n}\n","import {atan, exp, halfPi, log, pi, tan, tau} from \"../math\";\nimport rotation from \"../rotation\";\nimport projection from \"./index\";\n\nexport function mercatorRaw(lambda, phi) {\n  return [lambda, log(tan((halfPi + phi) / 2))];\n}\n\nmercatorRaw.invert = function(x, y) {\n  return [x, 2 * atan(exp(y)) - halfPi];\n};\n\nexport default function() {\n  return mercatorProjection(mercatorRaw)\n      .scale(961 / tau);\n}\n\nexport function mercatorProjection(project) {\n  var m = projection(project),\n      center = m.center,\n      scale = m.scale,\n      translate = m.translate,\n      clipExtent = m.clipExtent,\n      x0 = null, y0, x1, y1; // clip extent\n\n  m.scale = function(_) {\n    return arguments.length ? (scale(_), reclip()) : scale();\n  };\n\n  m.translate = function(_) {\n    return arguments.length ? (translate(_), reclip()) : translate();\n  };\n\n  m.center = function(_) {\n    return arguments.length ? (center(_), reclip()) : center();\n  };\n\n  m.clipExtent = function(_) {\n    return arguments.length ? ((_ == null ? x0 = y0 = x1 = y1 = null : (x0 = +_[0][0], y0 = +_[0][1], x1 = +_[1][0], y1 = +_[1][1])), reclip()) : x0 == null ? null : [[x0, y0], [x1, y1]];\n  };\n\n  function reclip() {\n    var k = pi * scale(),\n        t = m(rotation(m.rotate()).invert([0, 0]));\n    return clipExtent(x0 == null\n        ? [[t[0] - k, t[1] - k], [t[0] + k, t[1] + k]] : project === mercatorRaw\n        ? [[Math.max(t[0] - k, x0), y0], [Math.min(t[0] + k, x1), y1]]\n        : [[x0, Math.max(t[1] - k, y0)], [x1, Math.min(t[1] + k, y1)]]);\n  }\n\n  return reclip();\n}\n","import {abs, atan, atan2, cos, epsilon, halfPi, log, pow, sign, sin, sqrt, tan} from \"../math\";\nimport {conicProjection} from \"./conic\";\nimport {mercatorRaw} from \"./mercator\";\n\nfunction tany(y) {\n  return tan((halfPi + y) / 2);\n}\n\nexport function conicConformalRaw(y0, y1) {\n  var cy0 = cos(y0),\n      n = y0 === y1 ? sin(y0) : log(cy0 / cos(y1)) / log(tany(y1) / tany(y0)),\n      f = cy0 * pow(tany(y0), n) / n;\n\n  if (!n) return mercatorRaw;\n\n  function project(x, y) {\n    if (f > 0) { if (y < -halfPi + epsilon) y = -halfPi + epsilon; }\n    else { if (y > halfPi - epsilon) y = halfPi - epsilon; }\n    var r = f / pow(tany(y), n);\n    return [r * sin(n * x), f - r * cos(n * x)];\n  }\n\n  project.invert = function(x, y) {\n    var fy = f - y, r = sign(n) * sqrt(x * x + fy * fy);\n    return [atan2(x, abs(fy)) / n * sign(fy), 2 * atan(pow(f / r, 1 / n)) - halfPi];\n  };\n\n  return project;\n}\n\nexport default function() {\n  return conicProjection(conicConformalRaw)\n      .scale(109.5)\n      .parallels([30, 30]);\n}\n","import projection from \"./index\";\n\nexport function equirectangularRaw(lambda, phi) {\n  return [lambda, phi];\n}\n\nequirectangularRaw.invert = equirectangularRaw;\n\nexport default function() {\n  return projection(equirectangularRaw)\n      .scale(152.63);\n}\n","import {abs, atan2, cos, epsilon, sign, sin, sqrt} from \"../math\";\nimport {conicProjection} from \"./conic\";\nimport {equirectangularRaw} from \"./equirectangular\";\n\nexport function conicEquidistantRaw(y0, y1) {\n  var cy0 = cos(y0),\n      n = y0 === y1 ? sin(y0) : (cy0 - cos(y1)) / (y1 - y0),\n      g = cy0 / n + y0;\n\n  if (abs(n) < epsilon) return equirectangularRaw;\n\n  function project(x, y) {\n    var gy = g - y, nx = n * x;\n    return [gy * sin(nx), g - gy * cos(nx)];\n  }\n\n  project.invert = function(x, y) {\n    var gy = g - y;\n    return [atan2(x, abs(gy)) / n * sign(gy), g - sign(n) * sqrt(x * x + gy * gy)];\n  };\n\n  return project;\n}\n\nexport default function() {\n  return conicProjection(conicEquidistantRaw)\n      .scale(131.154)\n      .center([0, 13.9389]);\n}\n","import projection from \"./index.js\";\nimport {abs, asin, cos, epsilon2, sin, sqrt} from \"../math.js\";\n\nvar A1 = 1.340264,\n    A2 = -0.081106,\n    A3 = 0.000893,\n    A4 = 0.003796,\n    M = sqrt(3) / 2,\n    iterations = 12;\n\nexport function equalEarthRaw(lambda, phi) {\n  var l = asin(M * sin(phi)), l2 = l * l, l6 = l2 * l2 * l2;\n  return [\n    lambda * cos(l) / (M * (A1 + 3 * A2 * l2 + l6 * (7 * A3 + 9 * A4 * l2))),\n    l * (A1 + A2 * l2 + l6 * (A3 + A4 * l2))\n  ];\n}\n\nequalEarthRaw.invert = function(x, y) {\n  var l = y, l2 = l * l, l6 = l2 * l2 * l2;\n  for (var i = 0, delta, fy, fpy; i < iterations; ++i) {\n    fy = l * (A1 + A2 * l2 + l6 * (A3 + A4 * l2)) - y;\n    fpy = A1 + 3 * A2 * l2 + l6 * (7 * A3 + 9 * A4 * l2);\n    l -= delta = fy / fpy, l2 = l * l, l6 = l2 * l2 * l2;\n    if (abs(delta) < epsilon2) break;\n  }\n  return [\n    M * x * (A1 + 3 * A2 * l2 + l6 * (7 * A3 + 9 * A4 * l2)) / cos(l),\n    asin(sin(l) / M)\n  ];\n};\n\nexport default function() {\n  return projection(equalEarthRaw)\n      .scale(177.158);\n}\n","import {atan, cos, sin} from \"../math\";\nimport {azimuthalInvert} from \"./azimuthal\";\nimport projection from \"./index\";\n\nexport function gnomonicRaw(x, y) {\n  var cy = cos(y), k = cos(x) * cy;\n  return [cy * sin(x) / k, sin(y) / k];\n}\n\ngnomonicRaw.invert = azimuthalInvert(atan);\n\nexport default function() {\n  return projection(gnomonicRaw)\n      .scale(144.049)\n      .clipAngle(60);\n}\n","import clipRectangle from \"../clip/rectangle\";\nimport identity from \"../identity\";\nimport {transformer} from \"../transform\";\nimport {fitExtent, fitSize, fitWidth, fitHeight} from \"./fit\";\n\nfunction scaleTranslate(kx, ky, tx, ty) {\n  return kx === 1 && ky === 1 && tx === 0 && ty === 0 ? identity : transformer({\n    point: function(x, y) {\n      this.stream.point(x * kx + tx, y * ky + ty);\n    }\n  });\n}\n\nexport default function() {\n  var k = 1, tx = 0, ty = 0, sx = 1, sy = 1, transform = identity, // scale, translate and reflect\n      x0 = null, y0, x1, y1, // clip extent\n      postclip = identity,\n      cache,\n      cacheStream,\n      projection;\n\n  function reset() {\n    cache = cacheStream = null;\n    return projection;\n  }\n\n  return projection = {\n    stream: function(stream) {\n      return cache && cacheStream === stream ? cache : cache = transform(postclip(cacheStream = stream));\n    },\n    postclip: function(_) {\n      return arguments.length ? (postclip = _, x0 = y0 = x1 = y1 = null, reset()) : postclip;\n    },\n    clipExtent: function(_) {\n      return arguments.length ? (postclip = _ == null ? (x0 = y0 = x1 = y1 = null, identity) : clipRectangle(x0 = +_[0][0], y0 = +_[0][1], x1 = +_[1][0], y1 = +_[1][1]), reset()) : x0 == null ? null : [[x0, y0], [x1, y1]];\n    },\n    scale: function(_) {\n      return arguments.length ? (transform = scaleTranslate((k = +_) * sx, k * sy, tx, ty), reset()) : k;\n    },\n    translate: function(_) {\n      return arguments.length ? (transform = scaleTranslate(k * sx, k * sy, tx = +_[0], ty = +_[1]), reset()) : [tx, ty];\n    },\n    reflectX: function(_) {\n      return arguments.length ? (transform = scaleTranslate(k * (sx = _ ? -1 : 1), k * sy, tx, ty), reset()) : sx < 0;\n    },\n    reflectY: function(_) {\n      return arguments.length ? (transform = scaleTranslate(k * sx, k * (sy = _ ? -1 : 1), tx, ty), reset()) : sy < 0;\n    },\n    fitExtent: function(extent, object) {\n      return fitExtent(projection, extent, object);\n    },\n    fitSize: function(size, object) {\n      return fitSize(projection, size, object);\n    },\n    fitWidth: function(width, object) {\n      return fitWidth(projection, width, object);\n    },\n    fitHeight: function(height, object) {\n      return fitHeight(projection, height, object);\n    }\n  };\n}\n","import projection from \"./index\";\nimport {abs, epsilon} from \"../math\";\n\nexport function naturalEarth1Raw(lambda, phi) {\n  var phi2 = phi * phi, phi4 = phi2 * phi2;\n  return [\n    lambda * (0.8707 - 0.131979 * phi2 + phi4 * (-0.013791 + phi4 * (0.003971 * phi2 - 0.001529 * phi4))),\n    phi * (1.007226 + phi2 * (0.015085 + phi4 * (-0.044475 + 0.028874 * phi2 - 0.005916 * phi4)))\n  ];\n}\n\nnaturalEarth1Raw.invert = function(x, y) {\n  var phi = y, i = 25, delta;\n  do {\n    var phi2 = phi * phi, phi4 = phi2 * phi2;\n    phi -= delta = (phi * (1.007226 + phi2 * (0.015085 + phi4 * (-0.044475 + 0.028874 * phi2 - 0.005916 * phi4))) - y) /\n        (1.007226 + phi2 * (0.015085 * 3 + phi4 * (-0.044475 * 7 + 0.028874 * 9 * phi2 - 0.005916 * 11 * phi4)));\n  } while (abs(delta) > epsilon && --i > 0);\n  return [\n    x / (0.8707 + (phi2 = phi * phi) * (-0.131979 + phi2 * (-0.013791 + phi2 * phi2 * phi2 * (0.003971 - 0.001529 * phi2)))),\n    phi\n  ];\n};\n\nexport default function() {\n  return projection(naturalEarth1Raw)\n      .scale(175.295);\n}\n","import {asin, cos, epsilon, sin} from \"../math\";\nimport {azimuthalInvert} from \"./azimuthal\";\nimport projection from \"./index\";\n\nexport function orthographicRaw(x, y) {\n  return [cos(y) * sin(x), sin(y)];\n}\n\northographicRaw.invert = azimuthalInvert(asin);\n\nexport default function() {\n  return projection(orthographicRaw)\n      .scale(249.5)\n      .clipAngle(90 + epsilon);\n}\n","import {atan, cos, sin} from \"../math\";\nimport {azimuthalInvert} from \"./azimuthal\";\nimport projection from \"./index\";\n\nexport function stereographicRaw(x, y) {\n  var cy = cos(y), k = 1 + cos(x) * cy;\n  return [cy * sin(x) / k, sin(y) / k];\n}\n\nstereographicRaw.invert = azimuthalInvert(function(z) {\n  return 2 * atan(z);\n});\n\nexport default function() {\n  return projection(stereographicRaw)\n      .scale(250)\n      .clipAngle(142);\n}\n","import {atan, exp, halfPi, log, tan} from \"../math\";\nimport {mercatorProjection} from \"./mercator\";\n\nexport function transverseMercatorRaw(lambda, phi) {\n  return [log(tan((halfPi + phi) / 2)), -lambda];\n}\n\ntransverseMercatorRaw.invert = function(x, y) {\n  return [-y, 2 * atan(exp(x)) - halfPi];\n};\n\nexport default function() {\n  var m = mercatorProjection(transverseMercatorRaw),\n      center = m.center,\n      rotate = m.rotate;\n\n  m.center = function(_) {\n    return arguments.length ? center([-_[1], _[0]]) : (_ = center(), [_[1], -_[0]]);\n  };\n\n  m.rotate = function(_) {\n    return arguments.length ? rotate([_[0], _[1], _.length > 2 ? _[2] + 90 : 90]) : (_ = rotate(), [_[0], _[1], _[2] - 90]);\n  };\n\n  return rotate([0, 0, 90])\n      .scale(159.155);\n}\n","import clipRectangle from \"./rectangle\";\n\nexport default function() {\n  var x0 = 0,\n      y0 = 0,\n      x1 = 960,\n      y1 = 500,\n      cache,\n      cacheStream,\n      clip;\n\n  return clip = {\n    stream: function(stream) {\n      return cache && cacheStream === stream ? cache : cache = clipRectangle(x0, y0, x1, y1)(cacheStream = stream);\n    },\n    extent: function(_) {\n      return arguments.length ? (x0 = +_[0][0], y0 = +_[0][1], x1 = +_[1][0], y1 = +_[1][1], cache = cacheStream = null, clip) : [[x0, y0], [x1, y1]];\n    }\n  };\n}\n","import {asin, atan2, cos, degrees, haversin, radians, sin, sqrt} from \"./math\";\n\nexport default function(a, b) {\n  var x0 = a[0] * radians,\n      y0 = a[1] * radians,\n      x1 = b[0] * radians,\n      y1 = b[1] * radians,\n      cy0 = cos(y0),\n      sy0 = sin(y0),\n      cy1 = cos(y1),\n      sy1 = sin(y1),\n      kx0 = cy0 * cos(x0),\n      ky0 = cy0 * sin(x0),\n      kx1 = cy1 * cos(x1),\n      ky1 = cy1 * sin(x1),\n      d = 2 * asin(sqrt(haversin(y1 - y0) + cy0 * cy1 * haversin(x1 - x0))),\n      k = sin(d);\n\n  var interpolate = d ? function(t) {\n    var B = sin(t *= d) / k,\n        A = sin(d - t) / k,\n        x = A * kx0 + B * kx1,\n        y = A * ky0 + B * ky1,\n        z = A * sy0 + B * sy1;\n    return [\n      atan2(y, x) * degrees,\n      atan2(z, sqrt(x * x + y * y)) * degrees\n    ];\n  } : function() {\n    return [x0 * degrees, y0 * degrees];\n  };\n\n  interpolate.distance = d;\n\n  return interpolate;\n}\n","import {epsilon} from \"../math\";\nimport albers from \"./albers\";\nimport conicEqualArea from \"./conicEqualArea\";\nimport {fitExtent, fitSize, fitWidth, fitHeight} from \"./fit\";\n\n// The projections must have mutually exclusive clip regions on the sphere,\n// as this will avoid emitting interleaving lines and polygons.\nfunction multiplex(streams) {\n  var n = streams.length;\n  return {\n    point: function(x, y) { var i = -1; while (++i < n) streams[i].point(x, y); },\n    sphere: function() { var i = -1; while (++i < n) streams[i].sphere(); },\n    lineStart: function() { var i = -1; while (++i < n) streams[i].lineStart(); },\n    lineEnd: function() { var i = -1; while (++i < n) streams[i].lineEnd(); },\n    polygonStart: function() { var i = -1; while (++i < n) streams[i].polygonStart(); },\n    polygonEnd: function() { var i = -1; while (++i < n) streams[i].polygonEnd(); }\n  };\n}\n\n// A composite projection for the United States, configured by default for\n// 960500. The projection also works quite well at 960600 if you change the\n// scale to 1285 and adjust the translate accordingly. The set of standard\n// parallels for each region comes from USGS, which is published here:\n// http://egsc.usgs.gov/isb/pubs/MapProjections/projections.html#albers\nexport default function() {\n  var cache,\n      cacheStream,\n      lower48 = albers(), lower48Point,\n      alaska = conicEqualArea().rotate([154, 0]).center([-2, 58.5]).parallels([55, 65]), alaskaPoint, // EPSG:3338\n      hawaii = conicEqualArea().rotate([157, 0]).center([-3, 19.9]).parallels([8, 18]), hawaiiPoint, // ESRI:102007\n      point, pointStream = {point: function(x, y) { point = [x, y]; }};\n\n  function albersUsa(coordinates) {\n    var x = coordinates[0], y = coordinates[1];\n    return point = null,\n        (lower48Point.point(x, y), point)\n        || (alaskaPoint.point(x, y), point)\n        || (hawaiiPoint.point(x, y), point);\n  }\n\n  albersUsa.invert = function(coordinates) {\n    var k = lower48.scale(),\n        t = lower48.translate(),\n        x = (coordinates[0] - t[0]) / k,\n        y = (coordinates[1] - t[1]) / k;\n    return (y >= 0.120 && y < 0.234 && x >= -0.425 && x < -0.214 ? alaska\n        : y >= 0.166 && y < 0.234 && x >= -0.214 && x < -0.115 ? hawaii\n        : lower48).invert(coordinates);\n  };\n\n  albersUsa.stream = function(stream) {\n    return cache && cacheStream === stream ? cache : cache = multiplex([lower48.stream(cacheStream = stream), alaska.stream(stream), hawaii.stream(stream)]);\n  };\n\n  albersUsa.precision = function(_) {\n    if (!arguments.length) return lower48.precision();\n    lower48.precision(_), alaska.precision(_), hawaii.precision(_);\n    return reset();\n  };\n\n  albersUsa.scale = function(_) {\n    if (!arguments.length) return lower48.scale();\n    lower48.scale(_), alaska.scale(_ * 0.35), hawaii.scale(_);\n    return albersUsa.translate(lower48.translate());\n  };\n\n  albersUsa.translate = function(_) {\n    if (!arguments.length) return lower48.translate();\n    var k = lower48.scale(), x = +_[0], y = +_[1];\n\n    lower48Point = lower48\n        .translate(_)\n        .clipExtent([[x - 0.455 * k, y - 0.238 * k], [x + 0.455 * k, y + 0.238 * k]])\n        .stream(pointStream);\n\n    alaskaPoint = alaska\n        .translate([x - 0.307 * k, y + 0.201 * k])\n        .clipExtent([[x - 0.425 * k + epsilon, y + 0.120 * k + epsilon], [x - 0.214 * k - epsilon, y + 0.234 * k - epsilon]])\n        .stream(pointStream);\n\n    hawaiiPoint = hawaii\n        .translate([x - 0.205 * k, y + 0.212 * k])\n        .clipExtent([[x - 0.214 * k + epsilon, y + 0.166 * k + epsilon], [x - 0.115 * k - epsilon, y + 0.234 * k - epsilon]])\n        .stream(pointStream);\n\n    return reset();\n  };\n\n  albersUsa.fitExtent = function(extent, object) {\n    return fitExtent(albersUsa, extent, object);\n  };\n\n  albersUsa.fitSize = function(size, object) {\n    return fitSize(albersUsa, size, object);\n  };\n\n  albersUsa.fitWidth = function(width, object) {\n    return fitWidth(albersUsa, width, object);\n  };\n\n  albersUsa.fitHeight = function(height, object) {\n    return fitHeight(albersUsa, height, object);\n  };\n\n  function reset() {\n    cache = cacheStream = null;\n    return albersUsa;\n  }\n\n  return albersUsa.scale(1070);\n}\n","import { LitElement } from 'lit-element';\n// import { shapeProperties } from '@preignition/multi-chart/src/helper/utils.js';\nimport { shapeProperties } from '@preignition/multi-chart';\n\nimport { geoPath } from 'd3-geo';\nconst instance = geoPath();\nconst keys = Object.keys(instance || {});\nconst props = shapeProperties(keys);\n/**\n * ## D3GeoPath\n *\n * `<d3-geo-path>` a wrapper for geographic path generator with the default settings as in [d3.geoPath](https://github.com/d3/d3-geo#geoPath)\n *\n **/\n\n\nclass D3GeoPath extends LitElement {\n\n  static get properties() {\n    return {\n\n      ...super.properties,\n\n      ...props,\n\n      /**\n       * `path` the [path](https://github.com/d3/d3-geo#geoPath) generator function\n       */\n\n      /**\n       * [`projection`]((https://github.com/d3/d3-geo#path_projection)) to be applied to the path\n       */\n      projection: {\n        type: Function,\n        hasChanged: (newVal, oldVal) => {\n          return true;\n        }\n      }\n\n      /**\n       * [`context`](https://github.com/d3/d3-geo#path_context) to be applied to the path\n       */\n\n    };\n  }\n\n  constructor() {\n    super();\n    this.path = geoPath();\n  }\n\n  update(props) {\n    super.update(props);\n    this.log && console.info(`d3-geo-path  update`, props);\n    this.updateWrapper(props);\n  }\n\n  updateWrapper(props) {\n    let shallNotify = false;\n    props.forEach((value, key) => {\n      if ((this[key] !== undefined) && key !== 'path') {\n        shallNotify = true;\n        this.path[key](this[key]);\n      }\n    });\n    if (shallNotify) {\n      this.dispatchEvent(new CustomEvent('path-changed', { detail: { value: this.path }, bubbles: true, composed: true }));\n      this.dispatchEvent(new CustomEvent('multi-refresh', {bubbles: true, composed: true }));\n    }\n  }\n\n  /**\n   * [`area`](https://github.com/d3/d3-geo#path_area) returns the projected planar area for the specified GeoJSON `object`\n   */\n  area(object) {\n    return this.path.area(object);\n  }\n\n  /**\n   * [`bounds`](https://github.com/d3/d3-geo#path_bounds) returns the projected planar bounding box for the specified GeoJSON `object`\n   */\n  bounds(object) {\n    return this.path.bounds(object);\n  }\n\n  /**\n   * [`centroid`](https://github.com/d3/d3-geo#path_centroid) returns the projected planar centroid for the specified GeoJSON `object`\n   */\n  centroid(object) {\n    return this.path.centroid(object);\n  }\n}\n\nexport default D3GeoPath;\n","import { LitElement } from 'lit-element';\n// import { shapeProperties } from '@preignition/multi-chart/src/helper/utils.js';\nimport { shapeProperties } from '@preignition/multi-chart';\n\nimport * as geo from 'd3-geo';\nconst instance = geo.geoAlbers();\nconst keys = Object.keys(instance || {});\nconst props = shapeProperties(keys);\n\n// const projections = [\n//   'geoAlbers',\n//   'geoAlbersUsa',\n//   'geoAzimuthalEqualArea',\n//   'geoAzimuthalEquidistant',\n//   'geoConicConformal',\n//   'geoConicEqualArea',\n//   'geoConicEquidistant',\n//   'geoEquirectangular',\n//   'geoGnomonic',\n//   'geoProjection',\n//   'geoMercator',\n//   'geoOrthographic',\n//   'geoStereographic',\n//   'geoTransverseMercator'\n// ];\n\n\n/**\n * ## D3Projection\n *\n * `<d3-projection>` a webcompobent for wrapping geo projection as in [d3-geo](https://github.com/d3/d3-geo/blob/master/README.md#_projections)\n * It will expose `projection`.\n *\n * @memberof MultiChart\n * @customElement\n * @polymer\n * @appliesMixin MultiChart.mixin.D3Projection\n * @appliesMixin MultiChart.mixin.ConfigHelper\n * @demo\n **/\nclass D3Projection extends LitElement {\n\n  static get properties() {\n    return {\n\n      ...super.properties,\n\n      ...props,\n\n      /*\n       * `projectionType` projection type, one of `geoAlbers`,`geoAlbersUsa`,`geoAzimuthalEqualArea`,`geoAzimuthalEquidistant`,`geoConicConformal`,`geoConicEqualArea`,`geoConicEquidistant`,`geoEquirectangular`,`geoGnomonic`,`geoMercator`,`geoOrthographic`,`geoStereographic`,`geoTransverseMercator`\n       */\n      projectionType: {\n        type: String,\n        attribute: 'projection-type'\n      },\n\n\n      /**\n       * [`scale`](https:github.com/d3/d3-geo#projection_scale)\n       */\n      // scale: {\n      //   type: Number\n      // }\n      /**\n       * `projection` the [projection](https://github.com/d3/d3-geo#projection) generator function\n       */\n      /**\n       * [`clipAngle`](https:github.com/d3/d3-geo#projection_clipAngle)\n       */\n\n      /**\n       * [`clipExtent`](https:github.com/d3/d3-geo#projection_clipExtent)\n       */\n\n      /**\n       * [`center`](https:github.com/d3/d3-geo#projection_center)\n       */\n      /**\n       * [`rotate`](https:github.com/d3/d3-geo#projection_rotate)\n       */\n      /**\n       * [`precision`](https:github.com/d3/d3-geo#projection_precision)\n       */\n\n      /**\n       * [`translate`](https:github.com/d3/d3-geo#projection_translate)\n       */\n    };\n  }\n\n  constructor() {\n    super();\n    this.__init = true;\n  }\n\n  updated(props) {\n    super.updated(props);\n    if (!this.projectionType && !props.has('projectionType')) {\n      this.projectionType = 'geoMercator';\n    }\n\n    if (!this.projection || props.has('projectionType')) {\n      this.projection = geo[this.projectionType]();\n      this.dispatchProjectionChanged();\n    }\n\n    if (this.projection) {\n      this.updateWrapper(props);\n    }\n  }\n\n  dispatchProjectionChanged() {\n    this.dispatchEvent(new CustomEvent('projection-changed', { detail: { value: this.projection, type: this.projectionType }, bubbles: true, composed: true }));\n  }\n\n  updateWrapper(props) {\n    let shallNotify = this.__init;\n    // let shallNotifyScale = false;\n    props.forEach((value, key) => {\n      if ((this[key] !== undefined) && key !== 'projection' && this.projection[key]) {\n        shallNotify = true;\n        this.log && console.info(`d3-projection ${this.projectionType} updates ${key} to ${JSON.stringify(this[key])}`);\n        this.projection[key](this[key]);\n        // if (key === 'scale') {\n        //   shallNotifyScale = true\n        // }\n      }\n    });\n    if (shallNotify) {\n      this.dispatchProjectionChanged();\n      delete this.__init;\n    }\n\n    // if (shallNotifyScale) {\n    //   this.dispatchEvent(new CustomEvent(`scale-changed`, { detail: { value: this.scale, type: this.projectionType }, bubbles: true, composed: true }));\n    // }\n  }\n\n  /**\n   * [`fitExtent`](https://github.com/d3/d3-geo#projection_fitExtent) Sets the projections scale and translate to fit the specified GeoJSON object in the center of the given `extent`.\n   */\n  fitExtent(extent, object) {\n    this.projection && this.projection.fitExtent(extent, object);\n    this.dispatchProjectionChanged();\n    // this.syncProperties();\n    // this.dispatchEvent(new CustomEvent('multi-refresh', { bubbles: true, composed: true }));\n  }\n\n  /**\n   * [`fitSize`](https://github.com/d3/d3-geo#projection_fitSize) A convenience method for projection.fitExtent where the top-left corner of the extent is `[0,0]`.\n   */\n  fitSize(size, object) {\n    this.projection && this.projection.fitSize(size, object);\n    this.dispatchProjectionChanged();\n    // this.syncProperties();\n    // this.dispatchEvent(new CustomEvent('multi-refresh', { bubbles: true, composed: true }));\n  }\n\n  /**\n   * [`invert`](https://github.com/d3/d3-geo#projection_invert) Returns a new array [longitude, latitude] in degrees representing the unprojected point of the given projected point.\n   */\n  invert(point) {\n    this.projection && this.projection.invert(point);\n    this.dispatchProjectionChanged();\n    // this.syncProperties();\n    // this.dispatchEvent(new CustomEvent('multi-refresh', { bubbles: true, composed: true }));\n  }\n\n\n  // _observeType(projectionType) {\n  //   if (projections.indexOf(projectionType) < 0) {\n  //     this._error('provided projectionType is not a d3.js projection');\n  //   }\n\n  //   const projection = d3[projectionType]();\n  //   this.applyConfig(projection, ['clipAngle', 'clipExtent', 'scale', 'translate', 'center', 'rotate', 'precision']);\n\n  //   // Note(cg): we need a way to tell this component that projection has changed to that we re set properties.\n  //   projection.notifyChange = () => {\n  //     this.syncProperties();\n  //   };\n\n  //   this._setProjection(projection);\n  //   this.dispatchEvent(new CustomEvent('multi-refresh', { bubbles: true, composed: true}));\n  // }\n\n  // /*\n  //  * `syncProperties` will sync component properties with projections\n  //  */\n  // syncProperties() {\n  //   this.pauseObserver();\n  //    ['clipAngle', 'clipExtent', 'scale', 'translate', 'center', 'rotate', 'precision'].forEach(prop =>{\n  //     if(this.projection[prop]) {\n  //       this[prop] = this.projection[prop]();\n  //     }\n  //    });\n  //   this.dispatchEvent(new CustomEvent('multi-refresh', { bubbles: true, composed: true}));\n  //   this.activateObserver();\n  // }\n\n}\n\nexport default D3Projection;\n","import { default as Base } from '../base-class.js';\n// import { ObserverResizeMixin } from '@preignition/multi-chart'\nimport { html } from 'lit-element';\n\n/**\n * ## MultiProject\n *\n * `<multi-project>` use `projection` to project `data` and expose it under `projectedData`\n *\n * @memberof MultiChart\n * @customElement\n * @polymer\n * @appliesMixin MultiChart.mixin.PolymerExtends\n * @demo\n **/\nclass MultiProject extends Base {\n\n  render() {\n    return html `\n     <multi-accessor \n      @accessor-changed=\"${e => {this.coordinateAccessor = e.detail.value;}}\"\n      path=\"${this.coordinateAccessorPath}\" \n      ></multi-accessor>\n      `;\n  }\n\n  static get properties() {\n    return {\n\n      ...super.properties,\n\n      /**\n       * `projection` the [projection](https://github.com/d3/d3-geo#projection) generator function\n       */\n      projection: {\n        type: Function,\n        // Note(cg): trigger an update anytime projection is set\n        hasChanged: (newVal, oldVal) => {\n          return true;\n        }\n      },\n\n      /**\n       * [`data`] data with points to be projected\n       */\n      data: {\n        type: Array,\n      },\n\n      /**\n       * [`data`] data with points to be projected\n       */\n      projectedData: {\n        type: Array,\n        attribute: 'projected-data',\n        notify: true\n      },\n\n      /**\n       * `coordinateAccessorPath` path for computing the `valueAccessor` function\n       * a value of key will generate  an accessor function like function(d) {return d.key}\n       * a value of +value.count will generate  an accessor function like function(d) {return +d.value.count}\n       */\n      coordinateAccessorPath: {\n        type: String,\n        attribute: 'coordinate-accessor-path'\n      },\n\n      /**\n       * `coordinates` accessor function returning [x,y] coordinates from the data. Passed directly or through a coordinatePath\n       */\n      coordinateAccessor: {\n        type: Function,\n        attribute: 'coordinate-accessor'\n      },\n\n      /**\n       * `key` the key under which projected coordinates are stored\n       */\n      key: {\n        type: String,\n        value: '__point__'\n      }\n    };\n  }\n\n  // onResize() {\n  //   console.info('ONRESIZE');\n\n  //   this._computeProjection()\n  // }\n\n  updated(props) {\n    super.updated(props);\n    if (props.has('projection') || props.has('coordinateAccessor') || props.has('data') || props.has('key')) {\n      this._computeProjection();\n    }\n  }\n\n  _computeProjection() {\n    const {projection, coordinateAccessor, data, key} = this;\n\n    if (projection && coordinateAccessor && data && key) {\n      data.forEach(function(d) {\n        d[key] = projection(coordinateAccessor(d));\n      });\n      this.projectedData = data;\n    }\n  }\n}\n\nexport default MultiProject;","import { Container } from '@preignition/multi-chart';\nimport { default as Projection } from '../d3-wrapper/d3-projection.js';\nimport { RelayTo, CacheId } from '@preignition/preignition-mixin';\nimport { default as Path } from '../d3-wrapper/d3-geo-path.js';\n\n/**\n * ## MultiContainerGeo\n *\n * `<multi-container-geo>` a container for geographical chart. It exposes the current geo projection\n *\n * * @element multi-container-geo\n *\n **/\nclass MultiContainerGeo extends\n   CacheId(\n      RelayTo(Container)) {\n\n  getContentRender() {\n    return this.html `\n    <d3-projection \n      id=\"d3-projection\"\n      @projection-changed=\" ${e => this.projection = e.detail.value}\" \n      ></d3-projection>\n\n    <d3-geo-path \n      id=\"d3-path\"\n      @path-changed=\" ${e => this.path = e.detail.value}\" \n      ></d3-geo-path>\n    `;\n  }\n\n  static get properties() {\n    return {\n\n      ...super.properties,\n\n      ...Path.properties,\n\n      ...Projection.properties,\n\n      /**\n       * `projection` the [projection](https://github.com/d3/d3-geo#projection) generator function\n       */\n      projection: {\n        type: Function,\n        notify: true,\n        // Note(cg): trigger an update anytime projection is set\n        hasChanged: (newVal, oldVal) => {\n          return true;\n        }\n      },\n\n      /**\n       * `path` the [path](https://github.com/d3/d3-geo#geoPath) generator function\n       */\n      path: {\n        type: Function,\n        notify: true,\n      },\n\n      /**\n       * [`context`](https://github.com/d3/d3-geo#path_context) to be applied to the path\n       */\n      context: {\n        type: Function\n      },\n\n\n    };\n  }\n\n  constructor() {\n    super();\n    this.addEventListener('multi-refresh', this.refresh);\n  }\n\n  update(props) {\n    super.update(props);\n    this.relayTo(props, 'd3-projection');\n    this.relayTo(props, 'd3-path');\n  }\n\n  shallRelayTo(key, name) {\n    if (name === 'd3-projection') {\n      return Projection.properties[key];\n    }\n    if (name === 'd3-path') {\n      return Path.properties[key];\n    }\n  }\n\n}\n\n\nexport default MultiContainerGeo;\n","import { scaleQuantize } from 'd3-scale';\nimport { schemeBlues } from 'd3-scale-chromatic';\nimport { default as GeoContainer } from '../container/multi-container-geo.js';\n\n/**\n * ## MultiChartChoropleth\n *\n * `<multi-chart-choropleth>` a choropleth-chart\n *\n * @element multi-chart-choropleth\n **/\nclass MultiChartChoropleth extends GeoContainer {\n\n  getContentRender() {\n    return this.html `\n        ${super.getContentRender()}\n        <topojson-feature\n          @feature-changed=\" ${e => this.feature = e.detail.value}\" \n          @data-changed=\" ${e => this.geometries = e.detail.value}\" \n          .name=\"${this.featureName}\" \n          .geoType=\"${this.geoType}\"\n          .filter=\"${this.featureFilter}\"\n          .forEach=\"${this.featureForEach}\"\n          .url=\"${this.featureUrl}\"\n          ></topojson-feature>\n\n        ${this.meshName ? this.html`  \n          <topojson-mesh \n            @mesh-changed=\"${e => this.mesh = e.detail.value}\" \n            .data=\"${this.geometries}\" \n            .name=\"${this.meshName}\"></topojson-mesh>` : ''}\n\n        ${this.valuePath ? this.html`\n        <multi-accessor \n          .path=\"${this.valuePath}\"\n          @accessor-changed=\"${e => this.valueAccessor = e.detail.value}\" \n        ></multi-accessor>` : ''}    \n\n        ${this.keyPath ? this.html`\n        <multi-accessor \n          .path=\"${this.keyPath}\"\n          @accessor-changed=\"${e => this.keyAccessor = e.detail.value}\" \n        ></multi-accessor>` : ''}    \n\n        <!-- group of geo elements. When feature changes, contained elements will redraw -->\n          <multi-container-layer group=\"default\">\n            \n          <!-- draw features with with projected path-->\n          <multi-drawable-choropleth \n            .log=\"${this.log}\"\n            ?auto-fit=\"${this.autoFit}\"\n            \n            .attrs=\"${this.choroplethAttrs}\"\n            .geoData=\"${this.feature}\" \n            .path=\"${this.path}\"\n            .colorScale=\"${this.colorScale}\" \n            .labelPath=\"${this.labelPath}\"  \n            .labelAccessor=\"${this.labelAccessor}\"  \n            .featurePath=\"${this.featurePath}\"  \n            .featureAccessor=\"${this.featureAccessor}\"  \n          ></multi-drawable-choropleth>             \n          </multi-container-layer>\n            \n          ${this.mesh ? this.html`  \n             <multi-drawable-path \n              .path=\"${this.path}\" \n              .attrs=\"${this.meshAttrs}\" \n              .geoData=\"${this.mesh}\"></multi-drawable-path>\n             ` : ''}    \n          \n         \n       `;\n  }\n\n  constructor() {\n    super();\n    this.processType = 'choropleth';\n    this.valuePosition = 'color';\n    this.addEventListener('data-group-rescaled', this.onDataGroupRescaled);\n  }\n\n\n  onDataGroupRescaled(e) {\n  }\n\n  static get properties() {\n    return {\n\n      ...super.properties,\n\n      /**\n       * `feature` the GeoJSON Feature or FeatureCollection to be exposed by this component\n       */\n      feature: {\n        type: Array,\n        notify: true\n      },\n\n      /*\n       * `featureUrl` url to use for fetching geo mesh data.\n       */\n      featureUrl: {\n        type: String,\n        attribute: 'feature-url'\n      },\n\n      /**\n       * `geometries` topojson or geojson object. It is either retrieved iron-ajax or passed as an argument\n       */\n      geometries: {\n        type: Object,\n        notify: true\n      },\n\n      /**\n       * `geoType` the type of data object (topojson or geojson)\n       */\n      geoType: {\n        type: String,\n        value: 'topojson',\n        attribute: 'geo-type'\n      },\n\n      /**\n       * `featureName` the name of the property to extract from the geo data object\n       */\n      featureName: {\n        type: String,\n        attribute: 'feature-name'\n      },\n\n      /*\n       * `featureFilter` the filter to use for filtering features\n       * ex: function(f) {return f.id !== 10} // remove antartic from a world map\n       */\n      featureFilter: {\n        type: Function,\n        attribute: 'feature-filter'\n      },\n\n      /*\n       * `featureForEach` a function that will run for each feature\n       * ex: function(f) {return f.properties.id = lookup(f.id) } // take lookup code\n       */\n      featureForEach: {\n        type: Function,\n        attribute: 'feature-for-each'\n      },\n\n      /**\n       * `feature` the geo feature to be exposed by this component\n       */\n      mesh: {\n        type: Array,\n        notify: true\n      },\n\n\n      /**\n       * `meshName` the name of the property to extract from the geo data object\n       */\n      meshName: {\n        type: String,\n        attribute: 'mesh-name'\n      },\n\n      /*\n       * `meshAttrs` attributes to be set on the mesh\n       */\n      meshAttrs: {\n        type: String,\n        attribute: 'mesh-attrs'\n      },\n\n\n      /*\n       * `colorScale` scale to use for the choropleth\n       */\n      colorScale: {\n        type: Function,\n        notify: true,\n        attribute: 'color-scale',\n        // hasChanged: () => {return true;},\n        value: () => {\n          return scaleQuantize().range(schemeBlues[8]).unknown('#ccc');\n        },\n       },\n\n      /*\n       * `choroplethAttrs` default attributes to be set on the chart\n       */\n      choroplethAttrs: {\n        type: String,\n        attribute: 'choropleth-attrs'\n      },\n\n\n      /**\n       * `valueAccessorPath` path for computing the `valueAccessor` function\n       * a value of key will generate  an accessor function like function(d) {return d.key}\n       * a value of +value.count will generate  an accessor function like function(d) {return +d.value.count}\n       */\n      valuePath: {\n        type: String,\n        attribute: 'value-path',\n        value: 'key'\n      },\n\n      /**\n       * `valueAccessor` the value accessor function\n       * example function : `d => {return +d.count}`\n       */\n      valueAccessor: {\n        attribute: 'value-accessor',\n        type: Function\n      },\n\n      /**\n       * `keyAccessorPath` path for computing the `keyAccessor` function\n       * a key of key will generate  an accessor function like function(d) {return d.key}\n       * a key of +key.count will generate  an accessor function like function(d) {return +d.key.count}\n       */\n      keyPath: {\n        type: String,\n        attribute: 'key-path',\n        value: 'key'\n      },\n\n      /**\n       * `keyAccessor` the value accessor function\n       * example function : `d => {return +d.count}`\n       */\n      keyAccessor: {\n        attribute: 'key-accessor',\n        type: Function\n      },\n\n      /**\n       * `featurePath` the path for accessing the feature keys/ids\n       */\n      featurePath: {\n        type: String,\n        attribute: 'feature-path',\n        value: 'id'\n      },\n\n      /**\n       * `featureAccessor the accessor function from featureAccessorPath.\n       */\n      featureAccessor: {\n        type: Function,\n        attribute: 'feature-accessor',\n        notify: true\n      },\n\n      /**\n       * `path` the [path](https://github.com/d3/d3-geo#geoPath) generator function\n       */\n      path: {\n        type: Function,\n        notify: true,\n      },\n\n      /*\n       * `elastic` indicate whether colorscale shall be re-computed on data-change\n       */\n      elastic: {\n        type: Boolean\n      },\n\n      /*\n       * `autoFit` true to automatically fit geometries\n       */\n       autoFit: {\n         type: Boolean,\n         attribute: 'auto-fit'\n         },\n\n\n    };\n  }\n\n}\n\nexport default MultiChartChoropleth;\n","import {bisect} from \"d3-array\";\nimport {linearish} from \"./linear.js\";\nimport {initRange} from \"./init.js\";\n\nexport default function quantize() {\n  var x0 = 0,\n      x1 = 1,\n      n = 1,\n      domain = [0.5],\n      range = [0, 1],\n      unknown;\n\n  function scale(x) {\n    return x <= x ? range[bisect(domain, x, 0, n)] : unknown;\n  }\n\n  function rescale() {\n    var i = -1;\n    domain = new Array(n);\n    while (++i < n) domain[i] = ((i + 1) * x1 - (i - n) * x0) / (n + 1);\n    return scale;\n  }\n\n  scale.domain = function(_) {\n    return arguments.length ? ([x0, x1] = _, x0 = +x0, x1 = +x1, rescale()) : [x0, x1];\n  };\n\n  scale.range = function(_) {\n    return arguments.length ? (n = (range = Array.from(_)).length - 1, rescale()) : range.slice();\n  };\n\n  scale.invertExtent = function(y) {\n    var i = range.indexOf(y);\n    return i < 0 ? [NaN, NaN]\n        : i < 1 ? [x0, domain[0]]\n        : i >= n ? [domain[n - 1], x1]\n        : [domain[i - 1], domain[i]];\n  };\n\n  scale.unknown = function(_) {\n    return arguments.length ? (unknown = _, scale) : scale;\n  };\n\n  scale.thresholds = function() {\n    return domain.slice();\n  };\n\n  scale.copy = function() {\n    return quantize()\n        .domain([x0, x1])\n        .range(range)\n        .unknown(unknown);\n  };\n\n  return initRange.apply(linearish(scale), arguments);\n}\n","export * from './topojson/index.js';\nexport * from './drawable/index.js';\nexport * from './d3-wrapper/index.js';\n\nexport { default as MultiProject } from './helper/multi-project.js';\nexport { default as ContainerGeo } from './container/multi-container-geo.js';\nexport { default as Choropleth } from './chart/multi-chart-choropleth.js';\n\nexport const define = (name, cls) => {\n\n  if (customElements.get(name)) {\n    return console.warn(`custom element ${name} has already been registered`);\n  }\n  customElements.define(name, cls);\n};","import {define, GeoPath } from '../src/index.js';\nimport {d3} from '../src/prefix.js';\n\ndefine(`${d3}-geo-path`, GeoPath);\n","export const d3 = 'd3';\nexport const topojson = 'topojson';\nexport const multi = 'multi';","import {define, Projection } from '../src/index.js';\nimport {d3} from '../src/prefix.js';\n\ndefine(`${d3}-projection`, Projection);\n","import {define, Hexbin } from '../src/index.js';\nimport {d3} from '../src/prefix.js';\n\ndefine(`${d3}-hexbin`, Hexbin);\n","import {define, Choropleth } from '../src/index.js';\nimport {multi} from '../src/prefix.js';\n\ndefine(`${multi}-chart-choropleth`, Choropleth);\n","import {define, ContainerGeo } from '../src/index.js';\nimport {multi} from '../src/prefix.js';\n\ndefine(`${multi}-container-geo`, ContainerGeo);\n","import {define, DrawableChoropleth } from '../src/index.js';\nimport {multi} from '../src/prefix.js';\n\ndefine(`${multi}-drawable-choropleth`, DrawableChoropleth);\n","import {define, DrawableFeature } from '../src/index.js';\nimport {multi} from '../src/prefix.js';\n\ndefine(`${multi}-drawable-feature`, DrawableFeature);\n","import {define, DrawablePath } from '../src/index.js';\nimport {multi} from '../src/prefix.js';\n\ndefine(`${multi}-drawable-path`, DrawablePath);\n","import {define, DrawableHexbin } from '../src/index.js';\nimport {multi} from '../src/prefix.js';\n\ndefine(`${multi}-drawable-hexbin`, DrawableHexbin);\n","import {define, MultiProject } from '../src/index.js';\nimport {multi} from '../src/prefix.js';\n\ndefine(`${multi}-project`, MultiProject);\n","import {define, TopojsonFeature } from '../src/index.js';\nimport {topojson} from '../src/prefix.js';\n\ndefine(`${topojson}-feature`, TopojsonFeature);\n","import {define, TopojsonMesh } from '../src/index.js';\nimport {topojson} from '../src/prefix.js';\n\ndefine(`${topojson}-mesh`, TopojsonMesh);\n"],"names":["directives","WeakMap","isDirective","o","has","isCEPolyfill","undefined","window","customElements","polyfillWrapFlushCallback","removeNodes","container","start","end","n","nextSibling","removeChild","noChange","nothing","marker","String","Math","random","slice","nodeMarker","markerRegex","RegExp","Template","[object Object]","result","element","parts","nodesToRemove","stack","walker","document","createTreeWalker","content","lastPartIndex","index","partIndex","strings","values","length","node","nextNode","nodeType","hasAttributes","attributes","count","i","endsWith","name","stringForPart","lastAttributeNameRegex","exec","attributeLookupName","toLowerCase","attributeValue","getAttribute","removeAttribute","statics","split","push","type","tagName","currentNode","data","indexOf","parent","parentNode","lastIndex","insert","s","createMarker","match","createTextNode","insertBefore","previousSibling","pop","str","suffix","isTemplatePartActive","part","createComment","TemplateInstance","template","processor","options","__parts","this","setValue","commit","fragment","cloneNode","importNode","nodeIndex","nodeName","handleTextExpression","insertAfterNode","handleAttributeExpressions","adoptNode","upgrade","commentMarker","TemplateResult","l","html","isCommentBinding","commentOpen","lastIndexOf","attributeMatch","substr","createElement","innerHTML","getHTML","isPrimitive","value","isIterable","Array","isArray","Symbol","iterator","AttributeCommitter","dirty","_createPart","AttributePart","text","v","t","setAttribute","_getValue","committer","directive","NodePart","__pendingValue","startNode","appendChild","endNode","ref","__insert","__commitText","__commitTemplateResult","Node","__commitNode","__commitIterable","clear","valueAsString","templateFactory","update","instance","_clone","itemParts","itemPart","item","appendIntoPart","insertAfterPart","BooleanAttributePart","Error","PropertyCommitter","single","PropertyPart","super","eventOptionsSupported","addEventListener","removeEventListener","_e","EventPart","eventName","eventContext","__boundHandleEvent","e","handleEvent","newListener","oldListener","shouldRemoveListener","capture","once","passive","shouldAddListener","__options","getOptions","event","call","defaultTemplateProcessor","prefix","templateCache","templateCaches","get","stringsArray","keyString","Map","set","key","join","getTemplateElement","removeNodesFromTemplate","nextActiveIndexInTemplateParts","removeCount","nodesToRemoveInTemplate","currentRemovingNode","forEach","countNodes","startIndex","getTemplateCacheKey","scopeName","compatibleShadyCSSVersion","ShadyCSS","prepareTemplateDom","console","warn","shadyTemplateFactory","cacheKey","TEMPLATE_TYPES","shadyRenderSet","Set","prepareTemplateStyles","renderedDOM","add","templateElement","styles","querySelectorAll","condensedStyle","style","textContent","templates","from","removeStylesFromLitTemplates","refNode","insertCount","walkerIndex","insertNodeIntoTemplate","firstChild","querySelector","nativeShadow","removes","JSCompiler_renameProperty","prop","_obj","defaultConverter","Boolean","Object","JSON","stringify","Number","parse","notEqual","old","defaultPropertyDeclaration","attribute","converter","reflect","hasChanged","microtaskPromise","Promise","resolve","UpdatingElement","HTMLElement","_updateState","_instanceProperties","_updatePromise","_hasConnectedResolver","_changedProperties","_reflectingProperties","initialize","finalize","_classProperties","p","attr","_attributeNameForProperty","_attributeToPropertyMap","hasOwnProperty","superProperties","getPrototypeOf","k","_ensureClassProperties","noAccessor","prototype","defineProperty","oldValue","_requestUpdate","configurable","enumerable","superCtor","props","properties","propKeys","getOwnPropertyNames","getOwnPropertySymbols","createProperty","fromAttribute","toAttribute","_saveInstanceProperties","constructor","_v","_attributeToProperty","ctor","attrValue","_propertyValueToAttribute","propName","_propertyValueFromAttribute","shouldRequestUpdate","_valueHasChanged","_hasRequestedUpdate","_enqueueUpdate","updateComplete","reject","previousUpdatePromise","res","rej","_hasConnected","performUpdate","_applyInstanceProperties","shouldUpdate","changedProperties","_markUpdated","firstUpdated","updated","_getUpdateComplete","size","_propertyToAttribute","supportsAdoptingStyleSheets","Document","CSSStyleSheet","constructionToken","CSSResult","cssText","safeToken","_styleSheet","replaceSync","css","reduce","acc","idx","textFromCSSResult","flattenStyles","flat","Infinity","arrayFlat","LitElement","_styles","_getUniqueStyles","userStyles","reduceRight","unshift","renderRoot","createRenderRoot","ShadowRoot","adoptStyles","attachShadow","mode","adoptedStyleSheets","map","styleSheet","_needsShimAdoptedStyleSheets","ScopingShim","prepareAdoptedCssText","localName","connectedCallback","hasUpdated","styleElement","templateResult","render","hasRendered","needsScoping","host","firstScopeRender","renderContainer","createDocumentFragment","assign","appendInto","litRender","delete","LitNotify","baseElement","_propertyEventMap","notify","eventNameForProperty","changedProps","eventProp","entries","dispatchEvent","CustomEvent","detail","bubbles","composed","Base","DefaultValueMixin","DoNotSetUndefinedValue","log","dispatch","TopojsonBase","url","handleAs","error","feature","geoType","x","topology","id","bbox","geometry","object","transformPoint","transform","identity","x0","y0","kx","scale","ky","dx","translate","dy","input","j","output","arcs","arc","points","a","array","reverse","point","line","ring","polygon","coordinates","geometries","stitchedArcs","fragmentByStart","fragmentByEnd","fragments","emptyIndex","flush","f","g","p1","p0","dp","ends","fg","concat","gf","meshArcs","filter","arguments","extractArcs","stitch","geom","geomsByArc","extract0","extract1","extract2","extract3","geoms","TopojsonFeature","TopoBase","Function","_observeData","feat","objects","features","TopojsonMesh","mesh","b","apply","xhtml","svg","xlink","xml","xmlns","namespaces","space","local","creatorInherit","ownerDocument","uri","namespaceURI","documentElement","createElementNS","creatorFixed","fullname","namespace","none","selector","empty","matches","EnterNode","datum","_next","_parent","__data__","child","next","bindIndex","group","enter","exit","groupLength","dataLength","bindKey","keyValue","nodeByKeyValue","keyValues","ascending","NaN","attrRemove","attrRemoveNS","removeAttributeNS","attrConstant","attrConstantNS","setAttributeNS","attrFunction","attrFunctionNS","defaultView","styleRemove","removeProperty","styleConstant","priority","setProperty","styleFunction","styleValue","getPropertyValue","getComputedStyle","propertyRemove","propertyConstant","propertyFunction","classArray","string","trim","classList","ClassList","_node","_names","classedAdd","names","list","classedRemove","remove","classedTrue","classedFalse","classedFunction","textRemove","textConstant","textFunction","htmlRemove","htmlConstant","htmlFunction","raise","lower","constantNull","selection_cloneShallow","selection_cloneDeep","splice","contains","filterEvents","mouseenter","mouseleave","filterContextListener","listener","contextListener","related","relatedTarget","compareDocumentPosition","event1","parseTypenames","typenames","onRemove","typename","on","__on","m","onAdd","wrap","d","params","createEvent","initEvent","cancelable","dispatchConstant","dispatchFunction","root","Selection","groups","parents","_groups","_parents","selection","select","subgroups","subnode","subgroup","selectAll","selectorAll","matcher","each","bind","enterGroup","updateGroup","previous","i0","i1","_enter","_exit","sparse","onenter","onupdate","onexit","append","merge","order","groups0","groups1","m0","m1","min","merges","group0","group1","sort","compare","compareNode","sortgroups","sortgroup","callback","nodes","getAttributeNS","property","classed","create","creator","before","clone","deep","noop","_","Dispatch","types","c","T","copy","that","args","taskHead","taskTail","frame","timeout","interval","clockLast","clockNow","clockSkew","clock","performance","now","Date","setFrame","requestAnimationFrame","setTimeout","clearNow","Timer","_call","_time","timer","delay","time","restart","wake","timerFlush","t0","t2","t1","sleep","nap","poke","clearTimeout","clearInterval","setInterval","elapsed","stop","TypeError","emptyOn","emptyTween","timing","schedules","__transition","self","tween","state","tick","duration","ease","init","schedule","factory","extend","definition","Color","reI","reN","reP","reHex","reRgbInteger","reRgbPercent","reRgbaInteger","reRgbaPercent","reHslPercent","reHslaPercent","named","aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkgrey","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkslategrey","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dimgrey","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","green","greenyellow","grey","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightgrey","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightslategrey","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","rebeccapurple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","slategrey","snow","springgreen","steelblue","tan","teal","thistle","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen","color_formatHex","rgb","formatHex","color_formatRgb","formatRgb","color","format","parseInt","rgbn","Rgb","rgba","hsla","r","rgbConvert","opacity","rgb_formatHex","hex","rgb_formatRgb","isNaN","max","round","toString","h","Hsl","hslConvert","hsl2rgb","m2","gamma","y","nogamma","pow","exponential","constant","linear","define","channels","displayable","formatHsl","brighter","darker","rgbGamma","colorRgb","spline","rgbBasis","floor","v1","v2","v0","v3","t3","basis","colors","reA","reB","source","am","bm","bs","bi","q","number","one","zero","cssNode","cssRoot","cssView","svgNode","degrees","PI","translateX","translateY","rotate","skewX","scaleX","scaleY","sqrt","atan2","atan","interpolateTransform","pxComma","pxParen","degParen","xa","ya","xb","yb","interpolateTransformCss","decompose","interpolateTransformSvg","baseVal","consolidate","matrix","tweenRemove","tween0","tween1","tweenFunction","tweenValue","transition","_id","interpolateNumber","interpolateRgb","interpolateString","interpolate","value1","string00","interpolate0","string1","string0","string10","attrInterpolate","attrInterpolateNS","attrTweenNS","_value","attrTween","delayFunction","delayConstant","durationFunction","durationConstant","easeConstant","onFunction","on0","on1","sit","every","styleInterpolate","styleTween","Transition","_name","newId","selection_prototype","children","inherit","id0","id1","styleNull","listener0","styleMaybeRemove","removeFunction","cancel","interrupt","defaultTiming","attrsFunction","attrsObject","active","multiSelection","attrs","selection_attrs","multiTransition","transition_attrs","obj","dedupeId","MultiGeoDrawable","mixin","mixinApplications","__mixinApplications","mixinDedupeId","dedupingMixin","base","baseSet","__mixinSet","extended","mixinSet","superClass","geoData","info","_geoData","filterGeo","MultiDrawableFeature","MultiGeoMixin","Drawable","featurePath","featureAccessor","labelPath","labelAccessor","path","autoFit","draw","drawable","drawableData","doFit","chart","targetElement","shapeName","shapeClass","shallTransition","applyTransition","resize","width","height","_isFitting","projection","fitExtent","bisectRight","left","lo","hi","mid","right","e10","e5","e2","tickIncrement","step","power","LN10","MultiDrawableChoropleth","colorScale","MultiDrawablePath","thirdPi","angles","pointX","pointY","x1","y1","hexbin","binsById","bins","px","py","pj","pi","py1","abs","px1","pi2","pj2","px2","py2","bin","hexagon","radius","angle","sin","cos","centers","extent","shapeProperties","keys","D3Hexbin","updateWrapper","updatePoints","shallNotify","__bin__","initRange","domain","range","initInterpolator","interpolator","toExponential","coefficient","formatDecimal","prefixExponent","re","formatSpecifier","specifier","FormatSpecifier","fill","align","sign","symbol","comma","precision","exponent","toFixed","toPrecision","formatRounded","toUpperCase","locale","formatPrefix","prefixes","grouping","thousands","substring","currencyPrefix","currency","currencySuffix","decimal","numerals","replace","formatNumerals","percent","minus","nan","newFormat","formatTypes","test","formatType","maybeSuffix","valuePrefix","valueSuffix","valueNegative","out","formatTrim","charCodeAt","padding","step0","step1","tickStep","precisionPrefix","precisionRound","precisionFixed","linearish","ticks","isFinite","ceil","tickFormat","nice","transformer","k10","unknown","clamp","target","formatLocale","scheme","ramp","interpolateRgbBasis","MultiDrawableHexbin","onSetHexbin","onSetBins","Hexbin","multiPosition","__point__","sequential","scaleSequential","interpolateViridis","Adder","reset","temp","valueOf","adder","bv","av","halfPi","quarterPi","tau","radians","exp","acos","asin","haversin","streamGeometry","stream","streamGeometryType","streamObjectType","Feature","FeatureCollection","Sphere","sphere","Point","MultiPoint","LineString","streamLine","MultiLineString","Polygon","streamPolygon","MultiPolygon","GeometryCollection","closed","coordinate","lineStart","lineEnd","polygonStart","polygonEnd","lambda00","phi00","lambda0","cosPhi0","sinPhi0","areaRingSum","areaSum","areaStream","areaRingStart","areaRingEnd","areaRing","areaPointFirst","areaPoint","lambda","phi","dLambda","sdLambda","adLambda","cosPhi","sinPhi","u","spherical","cartesian","cartesianDot","cartesianCross","cartesianAddInPlace","cartesianScale","vector","cartesianNormalizeInPlace","phi0","lambda1","phi1","lambda2","ranges","W0","W1","X0","Y0","Z0","X1","Y1","Z1","X2","Y2","Z2","z0","deltaSum","boundsStream","boundsPoint","boundsLineStart","boundsLineEnd","boundsRingPoint","boundsRingStart","boundsRingEnd","linePoint","normal","inflection","phii","delta","lambdai","antimeridian","rangeCompare","rangeContains","centroidStream","centroidPoint","centroidLineStart","centroidLineEnd","centroidRingStart","centroidRingEnd","centroidPointCartesian","z","centroidLinePointFirst","centroidLinePoint","w","centroidRingPointFirst","centroidRingPoint","cx","cy","cz","compose","invert","rotationIdentity","rotateRadians","deltaLambda","deltaPhi","deltaGamma","rotationLambda","rotationPhiGamma","forwardRotationLambda","rotation","cosDeltaPhi","sinDeltaPhi","cosDeltaGamma","sinDeltaGamma","forward","circleStream","direction","cosRadius","sinRadius","circleRadius","lines","rejoin","shift","Intersection","other","entry","segments","compareIntersection","startInside","subject","clip","segment","pointEqual","link","current","isSubject","sum","longitude","winding","point0","sinPhi1","cosPhi1","point1","absDelta","intersection","phiArc","ascendingComparator","bisector","arrays","merged","pointVisible","clipLine","sink","ringBuffer","clipBuffer","ringSink","polygonStarted","pointRing","ringStart","ringEnd","polygonContains","clipRejoin","pointLine","clean","ringSegments","validSegment","sign0","sign1","sinLambda0Lambda1","clipAntimeridianIntersect","to","cr","smallRadius","notHemisphere","visible","intersect","two","n1","n2","n2n2","n1n2","determinant","c1","c2","n1xn2","A","uu","polar","q1","code","c0","v00","point2","clipRectangle","a1","corner","comparePoint","ca","cb","x__","y__","v__","x_","y_","v_","first","activeStream","bufferStream","clipStream","a0","b0","b1","polygonInside","cleanInside","ax","ay","lengthSum","lengthStream","lengthPointFirst","lengthLineEnd","lengthPoint","cosDelta","containsObjectType","containsGeometry","containsGeometryType","containsPoint","containsLine","containsPolygon","distance","ao","bo","ab","ringRadians","pointRadians","graticuleX","graticuleY","graticule","X","Y","DX","DY","outline","extentMajor","extentMinor","stepMajor","stepMinor","x00","y00","area","bounds","centroid","centroidPointFirstLine","centroidPointLine","centroidPointFirstRing","centroidPointRing","PathContext","context","_context","_radius","pointRadius","_line","_point","closePath","moveTo","lineTo","lengthRing","PathString","_string","circle","projectionStream","contextStream","pathArea","measure","pathMeasure","pathBounds","pathCentroid","methods","TransformStream","fit","fitBounds","clipExtent","geoStream","fitSize","fitWidth","fitHeight","_circle","cosMinDistance","project","delta2","resampleLineTo","depth","d2","phi2","x2","y2","dx2","dy2","dz","a00","b00","c00","resampleStream","ringPoint","resample","resampleNone","transformRadians","scaleTranslate","scaleTranslateRotate","alpha","cosAlpha","sinAlpha","ai","ci","fi","projectionMutator","projectAt","projectResample","projectTransform","projectRotateTransform","cache","cacheStream","theta","preclip","clipAntimeridian","postclip","recenter","center","transformRotate","clipAngle","clipCircle","conicProjection","parallels","conicEqualAreaRaw","sy0","cylindricalEqualAreaRaw","r0","r0y","conicEqualArea","azimuthalRaw","azimuthalInvert","sc","cc","azimuthalEqualAreaRaw","cxcy","azimuthalEquidistantRaw","mercatorRaw","mercatorProjection","reclip","tany","conicConformalRaw","cy0","fy","equirectangularRaw","conicEquidistantRaw","gy","nx","A1","A2","A3","A4","M","equalEarthRaw","l2","l6","gnomonicRaw","tx","ty","naturalEarth1Raw","phi4","orthographicRaw","stereographicRaw","transverseMercatorRaw","deltaMax","cy1","sy1","kx0","ky0","kx1","ky1","B","lower48Point","alaskaPoint","hawaiiPoint","lower48","albers","alaska","hawaii","pointStream","albersUsa","streams","sx","sy","reflectX","reflectY","geoPath","D3GeoPath","newVal","oldVal","geo","D3Projection","projectionType","__init","dispatchProjectionChanged","MultiProject","coordinateAccessor","coordinateAccessorPath","projectedData","_computeProjection","MultiContainerGeo","CacheId","RelayTo","Container","getContentRender","Path","Projection","refresh","relayTo","shallRelayTo","MultiChartChoropleth","GeoContainer","featureName","featureFilter","featureForEach","featureUrl","meshName","valuePath","valueAccessor","keyPath","keyAccessor","choroplethAttrs","meshAttrs","processType","valuePosition","onDataGroupRescaled","quantize","bisect","rescale","invertExtent","thresholds","scaleQuantize","schemeBlues","elastic","cls","GeoPath","Choropleth","ContainerGeo","DrawableChoropleth","DrawableFeature","DrawablePath","DrawableHexbin"],"mappings":"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"}